~/_notesPlus/tierMidPointBUS.utf	ssh kh@mp.tb

SEE ALSO: ../tierMidpoint.utf ../midPoint.utf  gD/ref/python.utf   ../midpoint-3.4.utf    Evolveum jira kh.mtZ

Metadata for shibboleth is in
idp/shibboleth-idp/metadata/idp-metadata.xml

and metadata for apache (shibboleth sp) is in configs-and-secrets/midpoint/shibboleth/idp-metadata.xml.
_____________________
h6. 2017-09-28 16:43  TechEx 2017 Demo:  HR ==> mP ==> Slack,Lucidchart

SEE Also: ../midPoint.utf  <== midPoint instance config

slack server ssl cert
_____________________
h6. 2016-12-13 16:52  amqp messages processed by receive.py on mp.tb... prior to 13 December

/usr/local/src

midpoint#>python receive.py

 [*] Waiting for messages. To exit press CTRL+C
(' [x] Received %r', '{"userName": "jd6rd", "name": {"middleName": "UnknownInitials", "givenName": "Jose", "familyName": "Doe", "displayName": "Jose Doe", "formatted": "Jose UnknownInitials Doe"}, "role": [{"value": "member@testbed.tier.internet2.edu"}, {"value": "staff@testbed.tier.internet2.edu"}, {"value": "employee@testbed.tier.internet2.edu"}], "externalID": "cedenoj@oregonstate.edu", "emails": [{"value": "jd6rd@testbed.tier.internet2.edu"}], "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]}')
('userName: ', u'jd6rd')
('givenName: ', u'Jose')
('middleName: ', u'UnknownInitials')
('familyName: ', u'Doe')
('description :', u'Jose UnknownInitials Doe')
('role :', u'staff')
('ePPN :', u'jd6rd@testbed.tier.internet2.edu')
(' [x] Received %r', '{"userName": "rmr3ig", "name": {"middleName": "M", "givenName": "Rodger", "familyName": "Rabbit", "displayName": "Rodger Rabbit", "formatted": "Rodger M Rabbit"}, "role": [{"value": "member@testbed.tier.internet2.edu"}, {"value": "student@testbed.tier.internet2.edu"}], "externalID": "hazelton@wisc.edu", "emails": [{"value": "rmr3ig@testbed.tier.internet2.edu"}], "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]}')
('userName: ', u'rmr3ig')
('givenName: ', u'Rodger')
('middleName: ', u'M')
('familyName: ', u'Rabbit')
('description :', u'Rodger M Rabbit')
('role :', u'student')
('ePPN :', u'rmr3ig@testbed.tier.internet2.edu')
(' [x] Received %r', '{"userName": "pcaskey", "name": {"middleName": "UnknownInitials", "givenName": "Paul", "familyName": "Caskey", "displayName": "Paul Caskey", "formatted": "Paul UnknownInitials Caskey"}, "role": [{"value": "member@testbed.tier.internet2.edu"}, {"value": "student@testbed.tier.internet2.edu"}], "externalID": "pcaskey@internet2.edu", "emails": [{"value": "pcaskey@testbed.tier.internet2.edu"}], "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]}')
('userName: ', u'pcaskey')
('givenName: ', u'Paul')
('middleName: ', u'UnknownInitials')
('familyName: ', u'Caskey')
('description :', u'Paul UnknownInitials Caskey')
('role :', u'student')
('ePPN :', u'pcaskey@testbed.tier.internet2.edu')
(' [x] Received %r', '{"userName": "rmr3ig", "name": {"middleName": "m", "givenName": "Rodger", "familyName": "Rabbit", "displayName": "Rodger Rabbit", "formatted": "Rodger m Rabbit"}, "role": [{"value": "member@testbed.tier.internet2.edu"}, {"value": "student@testbed.tier.internet2.edu"}], "externalID": "hazelton@wisc.edu", "emails": [{"value": "rmr3ig@testbed.tier.internet2.edu"}], "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]}')
('userName: ', u'rmr3ig')
('givenName: ', u'Rodger')
('middleName: ', u'm')
('familyName: ', u'Rabbit')
('description :', u'Rodger m Rabbit')
('role :', u'student')
('ePPN :', u'rmr3ig@testbed.tier.internet2.edu')
(' [x] Received %r', '{"userName": "WillyK", "name": {"middleName": "UnknownInitials", "givenName": "William", "familyName": "Kaufman", "displayName": "William Kaufman", "formatted": "William UnknownInitials Kaufman"}, "role": [{"value": "member@testbed.tier.internet2.edu"}, {"value": "student@testbed.tier.internet2.edu"}], "externalID": "wkaufman@internet2.edu", "emails": [{"value": "WillyK@testbed.tier.internet2.edu"}], "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]}')
('userName: ', u'WillyK')
('givenName: ', u'William')
('middleName: ', u'UnknownInitials')
('familyName: ', u'Kaufman')
('description :', u'William UnknownInitials Kaufman')
('role :', u'student')
('ePPN :', u'WillyK@testbed.tier.internet2.edu')
(' [x] Received %r', '{"userName": "nl6cs", "name": {"middleName": "UnknownInitials", "givenName": "Nick", "familyName": "Lewis_ _*_", "displayName": "Nick Lewis", "formatted": "Nick UnknownInitials Lewis_ _*_"}, "role": [{"value": "member@testbed.tier.internet2.edu"}, {"value": "student@testbed.tier.internet2.edu"}], "externalID": "nlewis@internet2.edu", "emails": [{"value": "nl6cs@testbed.tier.internet2.edu"}], "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]}')
('userName: ', u'nl6cs')
('givenName: ', u'Nick')
('middleName: ', u'UnknownInitials')
('familyName: ', u'Lewis_ _*_')
('description :', u'Nick UnknownInitials Lewis_ _*_')
('role :', u'student')
('ePPN :', u'nl6cs@testbed.tier.internet2.edu')
(' [x] Received %r', '{"userName": "dd5ur", "name": {"middleName": "UnknownInitials", "givenName": "Donald", "familyName": "Duck", "displayName": "Donald Duck", "formatted": "Donald UnknownInitials Duck"}, "role": [{"value": "member@testbed.tier.internet2.edu"}, {"value": "faculty@testbed.tier.internet2.edu"}, {"value": "employee@testbed.tier.internet2.edu"}], "externalID": "thorpe@mcnc.org", "emails": [{"value": "dd5ur@testbed.tier.internet2.edu"}], "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]}')
('userName: ', u'dd5ur')
('givenName: ', u'Donald')
('middleName: ', u'UnknownInitials')
('familyName: ', u'Duck')
('description :', u'Donald UnknownInitials Duck')
('role :', u'faculty')
('ePPN :', u'dd5ur@testbed.tier.internet2.edu')
_____________________
h6. 2016-10-27 14:00

Call with Princeton U re midPoint

- Steve @ UI: implementation of biz rules; deep connector lib with connid
- flexibility: built-in, customizations; easiest, excellent GUI
- looked at commercial products, too: Corion was chosen, abandomed; Tiv Sec Dir Suite/Appliance ($$$$); Wanted IdM, too
- mP understands idm world: roles, orgs,...
- started w commercial, and stumbled
- pw Sync; Urb & Chi
- Spfld campus: Whole new IAM system built on mP
- support for biz rules: no source manip involved; mP OOB; mappings: simple to strange;
- SoR to mP: Banner: use mP web services with an integ point between Banner and messaging (JMS) create id; websvc call to create them in mP
- posted to mP list on some things, but mostly just figured it out
- fair complexity @ UI-S; 2 AD consumers (accounts & pwd); Chi has a customized IAM system, so we're writing into their IAM system, they continue to run it; separate rules and types (UIS person UIC person) some stuff in SQL tables from mP;
- Urbana, Chicago: all have their own provisioning systems in place; Roadmap to get to some centralized provisioning
- AD groups, Grouper: mP mot directly involved
- cloud SaaS integrations: O365 consumes from AD, AD consumes from mP
-

_____________________
h6. 2016-09-28 14:55

what's that messaging model that has cool state consistency properties
_____________________
h6. 2016-09-28 05:51  steal this demo https://wiki.evolveum.com/display/midPoint/Live+Demo#LiveDemo-DummyHRApplication

Useful bits from https://demo.evolveum.com

HR to csv: https://demo.evolveum.com/hr/?3

csv file:

empnum			Employee number. This is configured as the primary identifier.
firstname		First name
lastname		Last name
artname			Artistic name
emptype			Employee Type. It is an enumeration of PTE, FTE, CONTRACTOR and RETIRED

empnum,firstname,lastname,artname,emptype
46553,Donatello,di Niccolo di Betto Bardi,Don,Retired
43442,Rodger,Rabbit,Wodjer,Full-time employee

midpoint#>pwd
/usr/local/src

midpoint#>ls -lt
total 80
-rw-r--r--. 1 root root  134 Sep 26 23:46 sor.csv
lrwxrwxrwx. 1 root root   15 Sep 26 14:07 receive.py -> receive-1.02.py
-rw-r--r--. 1 root root 1481 Sep 26 14:05 receive-1.02.py
-rw-r--r--. 1 root root 1481 Sep 26 11:56 sor2er.orig.py
-rw-r--r--. 1 root root 2048 Sep 26 11:18 sor2csv.py
-rw-r--r--. 1 root root  401 Sep 25 05:45 tics2reg.ldif
-rw-r--r--. 1 root root  432 Sep 23 20:37 authldap.py
-rw-r--r--. 1 root root  451 Sep 23 19:39 ldapper.py
-rw-r--r--. 1 root root  673 Sep 23 17:59 receive-1.0l.py
-rw-r--r--. 1 root root  606 Sep 12 16:16 receive.orig.py
-rw-r--r--. 1 root root  376 Sep  8 15:54 shibidp.ldif
-rw-r--r--. 1 root root 1931 Sep  2 17:16 tierBase.ldif
-rw-r--r--. 1 root root  561 Sep  1 22:00 addAdmin.ldif
-rw-r--r--. 1 root root  245 Sep  1 21:31 addPeopleAci4idm.ldif
-rw-------. 1 root root  154 Sep  1 17:16 backup.ldif
-rw-r--r--. 1 root root  216 Sep  1 16:58 base.ldif
-rw-r--r--. 1 root root  840 Aug 31 19:52 consumer.py
-rw-r--r--. 1 root root  925 Aug 31 19:42 producer.py
-rw-r--r--. 1 root root  559 Aug 31 17:47 credCheck.py
-rw-r--r--. 1 root root   53 Aug 31 09:00 simple.cfg
-rw-r--r--. 1 root root  371 Aug 30 13:58 send.py


midpoint#>cat sor.csv

name,firstName,middle,surname,description,userAffil,userEPPN
Inion,Tim,m,Inion,Tim m Inion,student,Inion@testbed.tier.internet2.edu

midpoint#>cat sor2.csv

empnum,firstname,lastname,artname,emptype
dbardi,Donatello,di Niccolo di Betto Bardi,Don,Retired
rrabbit,Rodger,Rabbit,Wodjer,Full-time employee
inion,Timm,Inion,timmeh,Contractor

HR feed resource def from demo site:

<resource xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
          xmlns:icfs="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/resource-schema-3"
          xmlns:t="http://prism.evolveum.com/xml/ns/public/types-3"
          xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
          xmlns:q="http://prism.evolveum.com/xml/ns/public/query-3"
          xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instance-3"
          oid="8844dcca-775d-11e2-a0ac-001e8c717e5b"
          version="11">
   <name>HR Feed</name>
   <fetchResult>
      <operation>com.evolveum.midpoint.provisioning.api.ProvisioningService.getObject</operation>
      <status>success</status>
      <params>
         <entry key="oid">
            <paramValue>8844dcca-775d-11e2-a0ac-001e8c717e5b</paramValue>
         </entry>
         <entry key="type">
            <unknownJavaObject>
               <class>java.lang.Class</class>
               <toString>class com.evolveum.midpoint.xml.ns._public.common.common_3.ResourceType</toString>
            </unknownJavaObject>
         </entry>
         <entry key="options"/>
      </params>
      <context>
         <entry key="implementationClass">
            <unknownJavaObject>
               <class>java.lang.Class</class>
               <toString>class com.evolveum.midpoint.provisioning.impl.ProvisioningServiceImpl</toString>
            </unknownJavaObject>
         </entry>
      </context>
      <token>1000000000000140889</token>
      <partialResults>
         <operation>com.evolveum.midpoint.repo.api.RepositoryService.getVersion</operation>
         <status>success</status>
         <params>
            <entry key="oid">
               <paramValue>8844dcca-775d-11e2-a0ac-001e8c717e5b</paramValue>
            </entry>
            <entry key="type">
               <paramValue>com.evolveum.midpoint.xml.ns._public.common.common_3.ResourceType</paramValue>
            </entry>
         </params>
         <token>1000000000000140890</token>
      </partialResults>
   </fetchResult>
   <metadata>
      <createTimestamp>2015-02-20T08:40:54.546+01:00</createTimestamp>
      <creatorRef oid="00000000-0000-0000-0000-000000000002" type="c:UserType"/>
      <createChannel>http://midpoint.evolveum.com/xml/ns/public/model/channels-3#objectImport</createChannel>
   </metadata>
   <operationalState>
      <lastAvailabilityStatus>up</lastAvailabilityStatus>
   </operationalState>
   <connectorRef oid="ffd3a993-26ac-4a17-8348-4c82dabecc4f" type="c:ConnectorType"><!-- ICF com.evolveum.polygon.csvfile.CSVFileConnector v1.4.2.0 -->
      <filter>
         <q:equal>
            <q:path>c:connectorType</q:path>
            <q:value>com.evolveum.polygon.csvfile.CSVFileConnector</q:value>
         </q:equal>
      </filter>
   </connectorRef>
   <connectorConfiguration xmlns:icfc="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/connector-schema-3">
      <icfc:configurationProperties xmlns:gen505="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/bundle/com.evolveum.polygon.connector-csvfile/com.evolveum.polygon.csvfile.CSVFileConnector">
         <gen505:filePath>/usr/local/src/sor2.csv</gen505:filePath>
         <gen505:uniqueAttribute>empnum</gen505:uniqueAttribute>
         <gen505:fieldDelimiter>,</gen505:fieldDelimiter>
         <gen505:valueQualifier>"</gen505:valueQualifier>
         <gen505:usingMultivalue>false</gen505:usingMultivalue>
         <gen505:multivalueDelimiter>;</gen505:multivalueDelimiter>
         <gen505:encoding>utf-8</gen505:encoding>
      </icfc:configurationProperties>
   </connectorConfiguration>
   <schema>
      <cachingMetadata>
         <retrievalTimestamp>2015-02-20T08:40:56.028+01:00</retrievalTimestamp>
         <serialNumber>fdc220ef5c5c353b-bd787ac170a4f5eb</serialNumber>
      </cachingMetadata>
      <definition>
         <xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                     xmlns:ra="http://midpoint.evolveum.com/xml/ns/public/resource/annotation-3"
                     xmlns:tns="http://midpoint.evolveum.com/xml/ns/public/resource/instance-3"
                     xmlns:a="http://prism.evolveum.com/xml/ns/public/annotation-3"
                     elementFormDefault="qualified"
                     targetNamespace="http://midpoint.evolveum.com/xml/ns/public/resource/instance-3">
            <xsd:import namespace="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/resource-schema-3"/>
            <xsd:import namespace="http://prism.evolveum.com/xml/ns/public/annotation-3"/>
            <xsd:import namespace="http://midpoint.evolveum.com/xml/ns/public/resource/annotation-3"/>
            <xsd:complexType name="AccountObjectClass">
               <xsd:annotation>
                  <xsd:appinfo>
                     <ra:resourceObject/>
                     <ra:identifier>icfs:uid</ra:identifier>
                     <ra:secondaryIdentifier>icfs:name</ra:secondaryIdentifier>
                     <ra:displayNameAttribute>icfs:name</ra:displayNameAttribute>
                     <ra:namingAttribute>icfs:name</ra:namingAttribute>
                     <ra:nativeObjectClass>__ACCOUNT__</ra:nativeObjectClass>
                     <ra:kind>account</ra:kind>
                     <ra:default>true</ra:default>
                  </xsd:appinfo>
               </xsd:annotation>
               <xsd:sequence>
                  <xsd:element minOccurs="0" ref="icfs:uid">
                     <xsd:annotation>
                        <xsd:appinfo>
                           <a:displayName>ICF UID</a:displayName>
                           <a:access>read</a:access>
                        </xsd:appinfo>
                     </xsd:annotation>
                  </xsd:element>
                  <xsd:element minOccurs="0" name="firstname" type="xsd:string"/>
                  <xsd:element ref="icfs:name">
                     <xsd:annotation>
                        <xsd:appinfo>
                           <a:displayName>ICF NAME</a:displayName>
                        </xsd:appinfo>
                     </xsd:annotation>
                  </xsd:element>
                  <xsd:element minOccurs="0" name="artname" type="xsd:string"/>
                  <xsd:element minOccurs="0" name="emptype" type="xsd:string"/>
                  <xsd:element minOccurs="0" name="lastname" type="xsd:string"/>
               </xsd:sequence>
            </xsd:complexType>
         </xsd:schema>
      </definition>
   </schema>
   <schemaHandling>
      <objectType>
         <intent>default</intent>
         <displayName>Default Account</displayName>
         <default>true</default>
         <objectClass>ri:AccountObjectClass</objectClass>
         <attribute>
            <c:ref>icfs:uid</c:ref>
            <displayName>ICF UID</displayName>
         </attribute>
         <attribute>
            <c:ref>icfs:name</c:ref>
            <displayName>Employee#</displayName>
            <limitations>
               <minOccurs>0</minOccurs>
            </limitations>
            <inbound>
               <target>
                  <c:path>$user/employeeNumber</c:path>
               </target>
            </inbound>
         </attribute>
         <attribute>
            <c:ref>ri:firstname</c:ref>
            <displayName>First Name</displayName>
            <description>Definition of Firstname attribute handling.</description>
            <inbound>
               <target>
                  <c:path>$user/givenName</c:path>
               </target>
            </inbound>
         </attribute>
         <attribute>
            <c:ref>ri:lastname</c:ref>
            <displayName>Last name</displayName>
            <inbound>
               <target>
                  <c:path>$user/familyName</c:path>
               </target>
            </inbound>
         </attribute>
         <attribute>
            <c:ref>ri:artname</c:ref>
            <displayName>Artistic name</displayName>
            <inbound>
               <target>
                  <c:path xmlns:ext="http://prism.evolveum.com/xml/ns/demo/extension-electra">$user/extension/ext:artisticName</c:path>
               </target>
            </inbound>
            <inbound>
               <strength>weak</strength>
               <target>
                  <c:path>$user/nickName</c:path>
               </target>
            </inbound>
            <inbound>
               <strength>weak</strength>
               <expression>
                  <script>
                     <code>basic.norm(input)</code>
                  </script>
               </expression>
               <target>
                  <c:path>$user/name</c:path>
               </target>
            </inbound>
         </attribute>
         <attribute>
            <c:ref>ri:emptype</c:ref>
            <displayName>Employee type</displayName>
            <inbound>
               <target>
                  <c:path>$user/employeeType</c:path>
               </target>
            </inbound>
         </attribute>
         <activation>
            <administrativeStatus>
               <inbound>
                  <strength>weak</strength>
                  <expression>
                     <value>enabled</value>
                  </expression>
               </inbound>
            </administrativeStatus>
         </activation>
         <credentials>
            <password>
               <inbound>
                  <strength>weak</strength>
                  <expression>
                     <generate/>
                  </expression>
               </inbound>
            </password>
         </credentials>
      </objectType>
   </schemaHandling>
   <capabilities>
      <cachingMetadata>
         <retrievalTimestamp>2015-02-20T08:40:56.029+01:00</retrievalTimestamp>
         <serialNumber>e9fc1c7124316928-135d8fb64bf9202c</serialNumber>
      </cachingMetadata>
      <native xmlns:cap="http://midpoint.evolveum.com/xml/ns/public/resource/capabilities-3">
         <cap:addRemoveAttributeValues/>
         <cap:liveSync/>
         <cap:testConnection/>
         <cap:create/>
         <cap:read/>
         <cap:update/>
         <cap:delete/>
         <cap:script>
            <cap:host>
               <cap:type>resource</cap:type>
            </cap:host>
            <cap:host>
               <cap:type>connector</cap:type>
            </cap:host>
         </cap:script>
      </native>
   </capabilities>
   <synchronization>
      <objectSynchronization>
         <enabled>true</enabled>
         <correlation>
            <q:description>
	                    Correlation expression is a search query.
	                    Following search queury will look for users that have "name"
	                    equal to the "name" attribute of the account. Simply speaking,
	                    it will look for match in usernames in the IDM and the resource.
	                    The correlation rule always looks for users, so it will not match
	                    any other object type.
	                </q:description>
            <q:equal>
               <q:path>c:employeeNumber</q:path>
               <expression>
                  <c:path>$c:account/c:attributes/icfs:name</c:path>
               </expression>
            </q:equal>
         </correlation>
         <reaction>
            <situation>linked</situation>
            <action ref="http://midpoint.evolveum.com/xml/ns/public/model/action-3#modifyUser"/>
         </reaction>
         <reaction>
            <situation>deleted</situation>
            <action ref="http://midpoint.evolveum.com/xml/ns/public/model/action-3#deleteUser"/>
         </reaction>
         <reaction>
            <situation>unlinked</situation>
            <action ref="http://midpoint.evolveum.com/xml/ns/public/model/action-3#linkAccount"/>
         </reaction>
         <reaction>
            <situation>unmatched</situation>
            <action ref="http://midpoint.evolveum.com/xml/ns/public/model/action-3#addUser"/>
         </reaction>
      </objectSynchronization>
   </synchronization>
</resource>
_____________________
h6. 2016-09-26 14:13  receive-1.02.py

ln -s receive-1.02.py receive.py

midpoint#>python receive.py
 [*] Waiting for messages. To exit press CTRL+C

(' [x] Received %r', '{"userName": "union", "name": {"middleName": "m", "givenName": "Tim", "familyName": "Inion", "displayName": "Tim m Inion", "formatted": "Tim m Inion"}, "role": [{"value": "member@testbed.tier.internet2.edu"}, {"value": "student@testbed.tier.internet2.edu"}], "externalID": "hazelton@wisc.edu", "emails": [{"value": "union@testbed.tier.internet2.edu"}], "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]}')

('userName: ', u'union')
('givenName: ', u'Tim')
('middleName: ', u'm')
('familyName: ', u'Inion')
('description :', u'Tim m Inion')
('role :', u'student')
('ePPN :', u'union@testbed.tier.internet2.edu')

midpoint#>cat sor.csv

union,Tim,m,Inion,Tim m Inion,student,union@testbed.tier.internet2.edu

_____________________
h6. 2016-09-26 11:59  2csv

midpoint#>python sor2er.py

 [*] Waiting for messages. To exit press CTRL+C
(' [x] Received %r', '{"userName": "rbutler", "name": {"middleName": "R", "givenName": "Rhett", "familyName": "Butler", "displayName": "Rhett Butler", "formatted": "Rhett R Butler"}, "role": [{"value": "member@testbed.tier.internet2.edu"}, {"value": "student@testbed.tier.internet2.edu"}], "externalID": "hazelton@wisc.edu", "emails": [{"value": "rbutler@testbed.tier.internet2.edu"}], "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]}')

('userName: ', u'rbutler')
('givenName: ', u'Rhett')
('middleName: ', u'R')
('familyName: ', u'Butler')
('description :', u'Rhett R Butler')
('role :', u'student')
('ePPN :', u'rbutler@testbed.tier.internet2.edu')


_____________________
h6. 2016-09-26 07:25  bad UI choices can crash mP

kill H2 process (on port 5437)

netstat -tulpn
...
tcp        0      0 0.0.0.0:5437            0.0.0.0:*               LISTEN      11102/java
...

kill 11102

then restart tomcat, all is good.
_____________________
h6. 2016-09-26 04:30  sor2er

? 1) Load jsonobj from message body
? 2) Define fields as string-valued variables pulled from jsonobj
? 3) Write row of fields to out.csv
? 4) mP inbound resource mapping creates an account record for each row of sor.csv

1) load json from message body, msg
Import json
def json2csv(msg):
body=json.loads((msg)

2) Define fields
uid=  body.get("userName")
givenname=body.get("name").get("givenName")
sn=body.get("name").get("familyName")
displayName=body.get("name").get("displayName")
eduPersonScopedAffiliation=body.get("role")[0].get("value")
eduPersonPrincipalName=body.get("externalID")
mail=body.get("emails")[0].get("value")

...
{
  "userName": "keith",
  "name": {
    "middleName": "UnknownInitials",
    "givenName": "Keith",
    "familyName": "Hazelton",
    "displayName": "Keith Hazelton",
    "formatted": "Keith UnknownInitials Hazelton"
  },
  "role": [
    {
      "value": "member@testbed.tier.internet2.edu"
    },
    {
      "value": "employee@testbed.tier.internet2.edu"
    },
    {
      "value": "faculty@testbed.tier.internet2.edu"
    }
  ],
  "externalID": "hazelton@wisc.edu",
  "emails": [
    {
      "value": "keith@testbed.tier.internet2.edu"
    }
  ],
  "schemas": [
    "urn:ietf:params:scim:schemas:core:2.0:User"
  ]
}

3) Write 1 row per set of fields to  sor.csv
csvFile: open("../sor.csv", w+)
try:
    writer: csv.writer(csvFile)
    writer.writerow( (uid,givenName,sn,displayName,eduPersonScopedAffiliation,eduPersonPrincipalName,mail)
)
finally:
    csvFile.close()

[kh@midpoint src]$ python receive.py
 [*] Waiting for messages. To exit press CTRL+C

 [x] Received '{"userName": "dmt3xg", "name": {"middleName": "me", "givenName": "delete", "familyName": "three", "displayName": "James A. (Jim) Jokl", "formatted": "delete me three"}, "role": [{"value": "member@testbed.tier.internet2.edu"}, {"value": "employee@testbed.tier.internet2.edu"}, {"value": "faculty@testbed.tier.internet2.edu"}], "externalID": "jaj@virginia.edu", "emails": [{"value": "dmt3xg@testbed.tier.internet2.edu"}], "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]}'

 [x] Received '{"userName": "dmf2kw", "name": {"middleName": "mee", "givenName": "Delete", "familyName": "four", "displayName": "James A. (Jim) Jokl", "formatted": "Delete mee four"}, "role": [{"value": "member@testbed.tier.internet2.edu"}, {"value": "employee@testbed.tier.internet2.edu"}, {"value": "faculty@testbed.tier.internet2.edu"}], "externalID": "jaj@virginia.edu", "emails": [{"value": "dmf2kw@testbed.tier.internet2.edu"}], "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]}'

[x] Received '{"userName": "ddm2tf", "name": {"middleName": "delete", "givenName": "delete", "familyName": "mee", "displayName": "James A. (Jim) Jokl", "formatted": "delete delete mee"}, "role": [{"value": "member@testbed.tier.internet2.edu"}, {"value": "employee@testbed.tier.internet2.edu"}, {"value": "faculty@testbed.tier.internet2.edu"}], "externalID": "jaj@virginia.edu", "emails": [{"value": "ddm2tf@testbed.tier.internet2.edu"}], "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]}'

[x] Received '{"userName": "delfred", "name": {"middleName": "me", "givenName": "delete", "familyName": "now", "displayName": "James A. (Jim) Jokl", "formatted": "delete me now"}, "role": [{"value": "member@testbed.tier.internet2.edu"}, {"value": "employee@testbed.tier.internet2.edu"}, {"value": "faculty@testbed.tier.internet2.edu"}], "externalID": "jaj@virginia.edu", "emails": [{"value": "delfred@testbed.tier.internet2.edu"}], "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]}'

 [x] Received '{"userName": "deleteme", "name": {"middleName": "Delete", "givenName": "Please", "familyName": ",e", "displayName": "James A. (Jim) Jokl", "formatted": "Please Delete ,e"}, "role": [{"value": "member@testbed.tier.internet2.edu"}, {"value": "employee@testbed.tier.internet2.edu"}, {"value": "faculty@testbed.tier.internet2.edu"}], "externalID": "jaj@virginia.edu", "emails": [{"value": "deleteme@testbed.tier.internet2.edu"}], "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]}'

[x] Received '{"userName": "keith", "name": {"middleName": "UnknownInitials", "givenName": "Keith", "familyName": "Hazelton", "displayName": "Keith Hazelton", "formatted": "Keith UnknownInitials Hazelton"}, "role": [{"value": "member@testbed.tier.internet2.edu"}, {"value": "employee@testbed.tier.internet2.edu"}, {"value": "faculty@testbed.tier.internet2.edu"}], "externalID": "hazelton@wisc.edu", "emails": [{"value": "keith@testbed.tier.internet2.edu"}], "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]}'

{
  "userName": "keith",
  "name": {
    "middleName": "UnknownInitials",
    "givenName": "Keith",
    "familyName": "Hazelton",
    "displayName": "Keith Hazelton",
    "formatted": "Keith UnknownInitials Hazelton"
  },
  "role": [
    {
      "value": "member@testbed.tier.internet2.edu"
    },
    {
      "value": "employee@testbed.tier.internet2.edu"
    },
    {
      "value": "faculty@testbed.tier.internet2.edu"
    }
  ],
  "externalID": "hazelton@wisc.edu",
  "emails": [
    {
      "value": "keith@testbed.tier.internet2.edu"
    }
  ],
  "schemas": [
    "urn:ietf:params:scim:schemas:core:2.0:User"
  ]
}
_____________________
h6. 2016-09-25 10:59  gotchas:

- in mP when adding account projection to a user,  fill in the family name(?) and description field or else it will fail

https://demo.testbed.tier.internet2.edu/cgi-bin/secure/printenv (kerb login works for jaj4de /jaj-jaj), "kdh-kdh-")
_____________________
h6. 2016-09-25 05:26  new user for tics2reg message2csv agent

midpoint#>cat tics2reg.ldif

dn: uid=tics2reg, ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
changetype: add
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
uid: tics2reg
cn: TICS2Reg
sn: Administrator
description: Special LDAP acccount used by the TICS message to EntityRegistry agent
  to access the LDAP data.
ou: Administrators
userPassword: entreg007

midpoint#>ldapmodify -p 389 -D "cn=Directory Manager" -W -c -a -f /usr/local/src/tics2reg.ldif
_____________________
h6. 2016-09-24 10:38  TICS UI

Jim (& Paul),

Quick question:  How does the revised UI select “roles” (faculty/student, etc).

Ok, the new UI on TICS works well for the demo, now I just have to catch the messages and send to midPoint

I selected ‘keith’ as my User Id and this is what showed up on midPoint:

[x] Received '{"userName": "keith", "name": {"middleName": "UnknownInitials", "givenName": "Keith", "familyName": "Hazelton", "displayName": "Keith Hazelton", "formatted": "Keith UnknownInitials Hazelton"}, "role": [{"value": "member@testbed.tier.internet2.edu"}, {"value": "employee@testbed.tier.internet2.edu"}, {"value": "faculty@testbed.tier.internet2.edu"}], "externalID": "hazelton@wisc.edu", "emails": [{"value": "keith@testbed.tier.internet2.edu"}], "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]}'

or nicely formatted:

{
  "userName": "keith",
  "name": {
    "middleName": "UnknownInitials",
    "givenName": "Keith",
    "familyName": "Hazelton",
    "displayName": "Keith Hazelton",
    "formatted": "Keith D Hazelton"
  },
  "role": [
    {
      "value": "member@testbed.tier.internet2.edu"
    },
    {
      "value": "employee@testbed.tier.internet2.edu"
    },
    {
      "value": "faculty@testbed.tier.internet2.edu"
    }
  ],
  "externalID": "hazelton@wisc.edu",
  "emails": [
    {
      "value": "keith@testbed.tier.internet2.edu"
    }
  ],
  "schemas": [
    "urn:ietf:params:scim:schemas:core:2.0:User"
  ]
}

Biscayne/Mezzanine/Grand Foyer
_____________________
h6. 2016-09-24 07:29  quick python SoR stub. Notes at gD/ref/python.utf

- https://pythonprogramming.net/flask-user-registration-form-tutorial/
_____________________
h6. 2016-09-24 06:56  bypass testbed fedReg process until rest of DWB is federated; basic self-reg site is what's needed for BUS, mock up in Python.

Jim,

I’ve been thinking about our demos.

The “Backbone Usage Scenario”, or BUS, that we want to show on the Demo WorkBench next week starts with the idea of a SoR, say a fictional HR, putting out a message that says “I have a person that’s new to me” and then the central IAM infrastructure receives that message and either creates a new identity in the Entity Registry or links the HR person to an existing IAM person.

When we use the Testbed Identity Control Site (TICS) as our person source for the BUS, the Testbed is a true federated app that assumes people already have a “home IdP”.  The mismatches we’re struggling with largely stem from the differences in these two stories. TICS story is definitely one we want to support, but not for BUS demos at TechEx 2016.  For this week, I’d like to fall back to using the midPoint/LDAP credentials.

That would mean you don’t have to mess with the UID scheme on Testbed. Let’s take time post-TechEx to figure out how Testbed/DWB integration SHOULD be done.

            Let me know what you think,   --Keith
_____________________
h6. 2016-09-23 16:31  reconsider TICS to EntReg approach

CSV can't handle multi-valued attributes :(

What if sor2entreg daemon
1) parses the json in the message payload from TICS
1a) (enhancement) formats contents and make a call to IdMatch
2) formats contents as ldif
3) makes ldapadd call to localhost LDAP server
4) then mP provisioning inbound to mP should sync up mP user store with LDAP and TICS

- add TICS SoR agent with LDAP Administrator privileges so it can bind to OpenDJ LDAPwith its own identity

midpoint#>pwd
/usr/local/src

midpoint#>cat ticsor.ldif

dn: uid=ticsor, ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
changetype: add
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
uid: ticsor
cn: TICS
sn: Administrator
description: Special LDAP acccount used by the TICS SoR agent
  to access the LDAP data.
ou: Administrators
userPassword: entreg007

midpoint#>ldapmodify -p 389 -D "cn=Directory Manager" -W -c -a -f /usr/local/src/shibidp.ldif

Password for user 'cn=Directory Manager':   bond
Processing ADD request for uid=ticsor,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
ADD operation successful for DN uid=ticsor,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu

         <gen715:host>localhost</gen715:host>
         <gen715:port>389</gen715:port>
         <gen715:bindDn>uid=idm,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu</gen715:bindDn>
         <gen715:bindPassword>
            <t:clearValue>Ent-Reg-=mp</t:clearValue>
         </gen715:bindPassword>
         <gen715:baseContext>dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu</gen715:baseContext>
_____________________
h6. 2016-09-23 07:38  TICS fixes

Jim,

You’re already sending externalID and it looks like the values are ePPNs or ePPN-like, so that’s good enuf, and I can plug it into email on my end.

add one line just under “externalID” as shown below (use “role” instead of my prior email suggestion, “type”).

Here’s an example message payload to show the changes:

{
  "userName": "aah9si",
  "externalID": "hazelton@wisc.edu",
  "role": "faculty",
  "name": {
    "middleName": "Ana",
    "givenName": "Ana",
    "familyName": "Hazelton",
    "displayName": "Ana Hazelton",
    "formatted": "Ana Ana Hazelton"
  },
  "emails": [
    {
      "value": "UnknownEPPN"
    }
  ],
  "schemas": [
    "urn:ietf:params:scim:schemas:core:2.0:User"
  ]
}

___________________________________
From: Keith Hazelton <keith.hazelton@wisc.edu>
Date: Friday, September 23, 2016 at 07:19
To: Jim Jokl <jaj@virginia.edu>
Subject: Re: Nice-to-have enhancements

Jim,

OK, Let’s see if we can get the mP IdP to use the TICS Kerberos.

No need to do groups, minimally just add one element to the response, just call it “type”, then flip a coin, so some have the value “faculty” and some have the value “student”.

Hope the ePPN bug is hiding in plain sight.

These will make the demo smooth end-to-end, but we can get by without.  My top priority would be Kerberos passwords.

           --K
___________________________________
email & jabber: keith.hazelton@wisc.edu
calendar: http://go.wisc.edu/i6zxx0

From: Jim Jokl <jaj@virginia.edu>
Date: Friday, September 23, 2016 at 06:05
To: Keith Hazelton <keith.hazelton@wisc.edu>
Subject: Re: Nice-to-have enhancements

Keith,

Will look – I have some time later this morning.  The testbed generates real EPPN’s – they are the primary testbed LDAP identity so that problem is just a bug that should be easy to squash.

I should have access to the password at the point in time of the call, so just send me the info.  It’s also 10 seconds of work (i.e., a whole lot simpler) to make the IdP on midpoint to go the Testbed’s Kerberos if that meets your need.

Send me the info I need to pass groups and password – I’m not going to promise the groups part – it’s a UI change – but the other two should be easy.

Jim

From: Keith Hazelton <keith.hazelton@wisc.edu>
Date: Thursday, September 22, 2016 at 4:55 PM
To: "James Jokl (virginia.edu)" <jaj@virginia.edu>
Subject: FW: Nice-to-have enhancements

Don’t know what your time budget is these days.   Any chance of chatting about these?  I’m open from now on (except for a coffee run right now).   --Keith

___________________________________
email & jabber: keith.hazelton@wisc.edu
calendar: http://go.wisc.edu/i6zxx0

From: Keith Hazelton <keith.hazelton@wisc.edu>
Date: Thursday, September 22, 2016 at 09:52
To: Jim Jokl <jaj@virginia.edu>
Cc: Keith Hazelton <keith.hazelton@wisc.edu>
Subject: Nice-to-have enhancements

Jim,

1)      Is there a way to generate a (fake) ePPN (like fred@testbed.tier.internet2.edu on the TICS side and add that to the message payload?
2)      For the Backbone Usage Scenario (BUS), it would be good if you could let registrants choose between a faculty role and a student role (or both); encode that as an eduPersonEntitlement value of “faculty” or “student” and add that to the message payload. Then the BUS demo can put them in the appropriate Grouper groups.
3)      I wonder if we could use a bad practice as a TechEx-only bridge for the Backbone Usage Scenario (BUS)Demos:  Passing the TICS password in the RabbitMQ message so users can use the same password with the Backbone Usage Scenario (BUS) Demo Workbench IdP.  When we federate the whole suite, we ca stop doing this.


These ar the kind of things I wanted to chat with you about. You have any free time for a Skype between now and 2 pm Eastern, or 3 pm on?

          Regards,   --Keith

___________________________________
email & jabber: keith.hazelton@wisc.edu
calendar: http://go.wisc.edu/i6zxx0
----------
Jim,

OK, Let’s see if we can get the mP IdP to use the TICS Kerberos.

No need to do groups, minimally just add one element to the response, just call it “type”, then flip a coin, so some have the value “faculty” and some have the value “student”.

Hope the ePPN bug is hiding in plain sight.

These will make the demo smooth end-to-end, but we can get by without.  My top priority would be Kerberos passwords.

           --K
___________________________________
From: Jim Jokl <jaj@virginia.edu>
Date: Friday, September 23, 2016 at 06:05
To: Keith Hazelton <keith.hazelton@wisc.edu>
Subject: Re: Nice-to-have enhancements

Keith,

Will look – I have some time later this morning.  The testbed generates real EPPN’s – they are the primary testbed LDAP identity so that problem is just a bug that should be easy to squash.

I should have access to the password at the point in time of the call, so just send me the info.  It’s also 10 seconds of work (i.e., a whole lot simpler) to make the IdP on midpoint to go the Testbed’s Kerberos if that meets your need.

Send me the info I need to pass groups and password – I’m not going to promise the groups part – it’s a UI change – but the other two should be easy.

Jim
_____________________
h6. 2016-09-22 21:40  CSV connector to pass user resources to TICS to mP

https://wiki.evolveum.com/display/midPoint/Identity+Connectors
https://wiki.evolveum.com/display/midPoint/CSVFile+Connector
https://wiki.evolveum.com/display/midPoint/CSVfile
_____________________
h6. 2016-09-22 14:43  mP REST connector

oMbP ~/opt
connector-rest-example
├── LICENSE
├── pom.xml
└── src
    └── main
        ├── assembly
        │   └── connector.xml
        └── java
            └── com
                └── evolveum
                    └── polygon
                        └── connector
                            └── example
                                └── rest
                                    ├── ExampleRestConfiguration.java
                                    └── ExampleRestConnector.java

10 directories, 5 files

https://github.com/Evolveum/connector-drupal.git

connector-drupal
├── LICENSE
├── README.md
├── pom.xml
└── src
    ├── main
    │   ├── assembly
    │   │   └── connector.xml
    │   ├── java
    │   │   └── com
    │   │       └── evolveum
    │   │           └── polygon
    │   │               └── connector
    │   │                   └── drupal
    │   │                       ├── DrupalConfiguration.java
    │   │                       ├── DrupalConnector.java
    │   │                       ├── DrupalFilter.java
    │   │                       ├── DrupalFilterTranslator.java
    │   │                       └── TaxonomyCache.java
    │   └── resources
    │       └── com
    │           └── evolveum
    │               └── polygon
    │                   └── connector
    │                       └── drupal
    │                           └── Message.properties
    └── test
        └── java
            └── com
                └── evolveum
                    └── polygon
                        └── connector
                            └── drupal
                                └── TestClient.java

22 directories, 11 files

_____________________
h6. 2016-09-22 11:04  tics2ereg.py based on Receive.py

- on Message, pull scim/json payload from queue
- define eReg resource in midPoint, inbound schema handling, connector config
- assign eReg projection as part of user onboarding  How??
_____________________
h6. 2016-09-21 21:21  message queue as mP resource type (inbound):  What we get from TICS registration events

midpoint#>python /usr/local/src/receive.py

 [*] Waiting for messages. To exit press CTRL+C

 [x] Received '{"userName": "aah9si", "externalID": "hazelton@wisc.edu", "name": {"middleName": "Ana", "givenName": "Ana", "familyName": "Hazelton", "displayName": "Ana Hazelton", "formatted": "Ana Ana Hazelton"}, "emails": [{"value": "UnknownEPPN"}], "schemas": ["urn:ietf:params:scim:schemas:core:2.0:User"]}'

 {
  "userName": "aah9si",
  "externalID": "hazelton@wisc.edu",
  "name": {
    "middleName": "Ana",
    "givenName": "Ana",
    "familyName": "Hazelton",
    "displayName": "Ana Hazelton",
    "formatted": "Ana Ana Hazelton"
  },
  "emails": [
    {
      "value": "UnknownEPPN"
    }
  ],
  "schemas": [
    "urn:ietf:params:scim:schemas:core:2.0:User"
  ]
}

^C
KeyboardInterrupt
midpoint#>

_____________________
h6. 2016-09-21 19:57  Grouper and midPoint are integrated for the BUS scenario

_____________________
h6. 2016-09-21 10:54  fix attribute names in ou=people entries now that eduMember is loading successfully at OpenDJ startup

edisabb: dwb:svc:Author_eligible, dwb:ref:faculty
keith: dwb:svc:LMS_eligible, dwb:ref:student
pcaskey: dwb:svc:courseAuthor_eligible
testing: dwb:adhoc:Special Faculty, dwb:svc:Author_eligible

Paul,

I’m actually in the middle of fixing the object class and attribute type definition so right now it’s in a transitional state. That explains your errors, Paul.

I should be done pretty soon. I had to change the friendly names of isMemberOf and hasMember because they were conflicting with existing attribute names in the loaded OpenDJ schema. OIDs and definition have not changed.

isMemberOf         is now    eduMemberOf
hasMember         is now    hasEduMember

I’ll email when those changes have been made successfully.

Sorry for the trouble.   --Keith

___________________________________
email & jabber: keith.hazelton@wisc.edu
calendar: http://go.wisc.edu/i6zxx0

From: Paul Caskey <pcaskey@internet2.edu>
Date: Wednesday, September 21, 2016 at 10:42
To: Keith Hazelton <keith.hazelton@wisc.edu>, Jim Jokl <jaj@virginia.edu>
Subject: midpoint and LDAP

Hi Keith and Jim-

In the past day or less (best I can tell), the memberOf attribute in OpenDJ on the midpoint VM has become restricted.

This means the IdP can’t retrieve and then assert it, so the SP can’t key on it.

When I look at the attribute in Apache Directory Studio, the memberOf attribute is in italics (unlike the others), but not sure what exactly that means.

Well, typing that last sentence made me realize…

I checked and shibb is hitting the LDAP as “uid=shibidp,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu”

…whereas my Apache DS is hitting it as CN=Directory Manager.

J

Seems better to leave shibb using a service account, but only if this can be fixed without much grief.  I don’t want to start messing with it, because I don’t 100% understand what all is pushing which buttons between midpoint and grouper.  :)

So, would this be easy to fix (assuming it is, in fact, a permission issue)?

If not, I can switch shibb to CN=Directory Manager.



Thanks - TTYL

_____________________
h6. 2016-09-21 10:52  eduMember.ldif  added dn: schema above oClass TOP

.. renamed attributes to avoid clashes with existing attribute types
eduMemberOf  	was isMemberOf
hasEduMember	was hasMember
_____________________
h6. 2016-09-21 08:06  auxObjClass errors resolved

Radovan,

#1 worked!  I had initialized the OpenDJ resource and then added eduPerson and eduMember object classes to the LDAP schema later.  I deleted the whole <schema>…</schema> section, reloaded and it went through error free.

I will take the hint and submit a working sample resource definition for OpenDJ including auxiliary object classes.

        MANY thanks and now on to the next hurdle    =)     --Keith

_____________________
h6. 2016-09-21 08:08  fixing eduMember object class


___________________________________
email & jabber: keith.hazelton@wisc.edu
calendar: http://go.wisc.edu/i6zxx0

From: midPoint <midpoint-bounces@lists.evolveum.com> on behalf of Radovan Semancik <radovan.semancik@evolveum.com>
Reply-To: midPoint General Discussion <midpoint@lists.evolveum.com>
Date: Wednesday, September 21, 2016 at 07:37
To: midPoint General Discussion <midpoint@lists.evolveum.com>
Subject: Re: [midPoint] Discovering Custom objectClasses

Hi Keith,

That's strange. If you have eduPerson in your LDAP schema then it also should be in the midPoint shcema. Please have a look at your resource definition - the "live" version which is stored in midpoint repository (in miPoint GUI: Configuration > Repository objects > Resource). Look at the <schema> part. You should see complextType definitions for all object classes there. eduPerson should be there. If it is not there then I would guess that one of the following happened:

1. You have added eduPerson to LDAP schema after you have initialized the the resource in midPoint. MidPoint retrieves the resource schema only when it connects to the resource for the first time. After that midPoint is using the stored schema (to save round-trips as the schema can be big). If that is the case then simply delete the whole <schema> section and re-try. The schema will be refreshed.

2. For some strange reason the eduPerson is not visible in the LDAP schema. What LDAP server are you using? Can you make sure that eduPerson is visible in the LDAP schema by making LDAP search in cn=schema or cn=subschema?

Hi Keith,

That's right. I have realized that there is no sample for the simple usage of auxiliary object class. But I hope you could contribute your configuration as a sample once you are done :-)

Yet, there is a more complex sample that is using auxiliary object classes: https://wiki.evolveum.com/display/midPoint/Unix+Story+Test
However, this sample is using auxiliary object classes in roles - always adding and removing the auxiliary object class as necessary. I'm not sure whether this would a good sample for you. I'm afraid that it is just too complex for a first-time midPoint user and it may mislead you on a wrong way.

But I think you are going in the right direction now. If that does not work for you after the schema refresh, please send your complete resource definition directly to me (not to the mailing list so we will not flood everybody here with big XML objects). I can have a look at it. Just please export the "live" resource definition from midPoint, so I can see the schema that was generated for you.

--
Radovan Semancik
Software Architect
evolveum.com

----------
I’m hoping to demo midPoint at a higher education conference next week, so I’d especially appreciate advice on how to get auxiliary object class support working for my OpenDJ LDAP resource.

The samples directory doesn’t seem to include any examples of auxiliaryObjectClass use and I’m still getting partial errors when loading the resource.xml file via the Admin GUI.    --Keith
_____________________
h6. 2016-09-19 17:00  requesting assistance from midpoint@lists.evolveum.com

Message 1 of 2    --Keith
___________________________________

A big thank you to Radovan for this very informative wiki page on auxiliary object classes.

But even with this, I am having trouble getting my OpenDJ Resource configuration to handle eduPerson and eduMember auxiliary object classes on the account structural object class, inetOrgPerson. The full text of the first error result is attached.

Here are the steps I had taken so far:

1)       Added an xmlns declaration for edu* object classes and attributes at the top of the resource element
a.       xmlns:e=http://id.internet2.edu/namespaces/edu

2)       Added the two auxiliary object classes in the schema / generationconstraintselement
a.                <!-- khazelton  See if the edu* object classes need to be included here  -->
b.                <generateObjectClass>e:eduPerson</generateObjectClass>
c.                <generateObjectClass>e:eduMember</generateObjectClass>

3)       Added declaration of eduPerson and eduMember attributes to schema / definition element
a.        <!--  -->
b.       <!--  khazelton  begin  supplemental schema defs: auxiliary object classes and attributes for eduPerson and eduMember  -->
c.       <!--  -->
d.        <xsd:complexType name="e:eduPerson">
e.                       <xsd:annotation>
f.                           <xsd:appinfo>
g.                             <ra:resourceObject/>
h.                             <ra:nativeObjectClass>e:eduPerson</ra:nativeObjectClass>
i.                            </xsd:appinfo>
j.                         </xsd:annotation>
k.                       <xsd:sequence>
l.                            <xsd:element maxOccurs="unbounded"
m.                                     minOccurs="0"
n.                                       name="eduscopedaffil"
o.                                       type="xsd:string">
p.                             <xsd:annotation>
q.                                <xsd:appinfo>
r.                                    <a:displayOrder>120</a:displayOrder>
s.                                    <a:matchingRule xmlns:qn147="http://prism.evolveum.com/xml/ns/public/matching-rule-3">qn147:stringIgnoreCase</a:matchingRule>
t.                                    <ra:nativeAttributeName>eduPersonScopedAffiliation</ra:nativeAttributeName>
u.                                   <ra:frameworkAttributeName>eduscopedaffil</ra:frameworkAttributeName>
v.                                </xsd:appinfo>
w.                           </xsd:annotation>
x.                          </xsd:element>
y.       <xsd:element maxOccurs="unbounded"
z.                                       minOccurs="0"
aa.                                   name="eduentitlement"
bb.                                   type="xsd:string">
cc.                          <xsd:annotation>
dd.                            <xsd:appinfo>
ee.                               <a:displayOrder>130</a:displayOrder>
ff.                                  <a:matchingRule xmlns:qn147="http://prism.evolveum.com/xml/ns/public/matching-rule-3">qn147:stringIgnoreCase</a:matchingRule>
gg.                               <ra:nativeAttributeName>eduPersonEntitlement</ra:nativeAttributeName>
hh.                               <ra:frameworkAttributeName>eduentitlement</ra:frameworkAttributeName>
ii.                                </xsd:appinfo>
jj.                             </xsd:annotation>
kk.                       </xsd:element>
ll.                       </xsd:sequence>
                                                               i.      </xsd:complexType>
mm.                        <!--  -->
nn.    <xsd:complexType name="e:eduMember">
oo.                   <xsd:annotation>
pp.                      <xsd:appinfo>
qq.                         <ra:resourceObject/>
rr.                           <ra:nativeObjectClass>e:eduMember</ra:nativeObjectClass>
ss.                        </xsd:appinfo>
tt.                     </xsd:annotation>
uu.                   <xsd:sequence>
vv.                       <xsd:element maxOccurs="unbounded"
ww.                                minOccurs="0"
xx.                                    name="initials"
yy.                                    type="xsd:string">
zz.                          <xsd:annotation>
aaa.                                                 <xsd:appinfo>
bbb.                                                    <a:displayOrder>120</a:displayOrder>
ccc.                             <a:matchingRule xmlns:qn147="http://prism.evolveum.com/xml/ns/public/matching-rule-3">qn147:stringIgnoreCase</a:matchingRule>
ddd.                                                    <ra:nativeAttributeName>isEduMemberOf</ra:nativeAttributeName>
eee.                                                    <ra:frameworkAttributeName>edumemberof</ra:frameworkAttributeName>
fff.                             </xsd:appinfo>
ggg.                                              </xsd:annotation>
hhh.                                           </xsd:element>
iii.                      </xsd:sequence>
jjj.       </xsd:complexType>
kkk.  <!--  -->
lll.       <!--  khazelton  end of supplemental schema defs: auxiliary object classes and attributes for eduPerson and eduMember  -->
mmm.                   <!--  -->

4)       Added eduPerson and eduMember to the schemHandling element:
a.                <objectClass>ri:inetOrgPerson</objectClass>
b.                   <auxiliaryObjectClass>e:eduPerson</auxiliaryObjectClass>
c.                   <auxiliaryObjectClass>e:eduMember</auxiliaryObjectClass>
d.                   <!-- khazelton added eduPerson and eduMember as auxiliary object classes  -->

5)       Added eduPerson and eduMember attributes to the schemaHandling element:
a.                <!-- eduPerson and eduMember attributes  -->
b.                <attribute>
c.                   <c:ref>e:eduPersonAffiliation</c:ref>
d.                   <displayName>eduPersonAffiliation</displayName>
e.                   <outbound>
f.                       <source>
g.                         <c:path>$user/eduaffil</c:path>
h.                      </source>
i.                     </outbound>
j.                     <inbound>
k.                      <target>
l.                           <c:path>$user/eduaffil</c:path>
m.                    </target>
n.                   </inbound>
o.                </attribute>
p.                <attribute>
q.                   <c:ref>e:eduMemberOf</c:ref>
r.                    <displayName>eduMemberOf</displayName>
s.                    <outbound>
t.                       <source>
u.                         <c:path>$user/edumemberof</c:path>
v.                      </source>
w.                 </outbound>
x.                   <inbound>
y.                      <target>
z.                         <c:path>$user/edumemberof</c:path>
aa.                  </target>
bb.               </inbound>
cc.             </attribute>
dd.            <!-- end of eduPerson and eduMember attributes  -->

Thanks in advance for pointing me in the right direction.    --Keith

----------
Message 2 of 2.  Attached is my edited resource xml file:
  mPLocalhostOpenDJAdminGUIeditedSanitized20160918.xml

----------
Exxxxxcellent.     –k
___________________________________
From: James Babb <james.babb@wisc.edu>
Date: Monday, September 19, 2016 at 17:04
To: Keith Hazelton <keith.hazelton@wisc.edu>
Subject: Re: Grouper and midPoint

I have used the loader before to populate groups and this should be pretty easy. I can take a crack at it tomorrow morning.

Sent from my Verizon Wireless 4G LTE Droid

----------
From: Keith Hazelton <keith.hazelton@wisc.edu>
Date: Monday, September 19, 2016 at 16:59
To: James Babb <james.babb@wisc.edu>
Subject: Grouper and midPoint

I’m still struggling with getting midPoint to properly handle auxiliary object classes. I just sent a detailed message to midpoint@lists.evolveum.com detailing my config and the errors I’m getting.  Hoping to find clues in the responses.

Meanwhile, I’m thinking it’s time for Plan B for the TechEx demo.  midPoint IS successfully pushing changes to the attributes it knows about over the connector to OpenDJ.

Have you used the Grouper Loader much?  It should be able to pick up on changes to a user. If one is detected, look at the value of
employee type
  if it is ‘student’ put them in dwb:ref:student.
  If it’s ‘faculty’, put them in dwb:ref:faculty.
Make dwb:ref:student a member of dwb:svc:LMS_eligible
Make  a member of dwb:svc:courseAuthor_eligible

Paul Caskey’s Web app will route
  dwb:svc:courseAuthor_eligible members to a dummy course content creation page
  dwb:svc:LMS_eligible members to a dummy Learning Management System course home page

I’ve already setup a couple test values in our OpenDJ LDAP server.

Uid: edisabb has employeetype: faculty
Uid: keith      has employeetype: student

How’s your available time for this?  If you do have time, let me know if you need anything more to build this out using Grouper features.

         Best, and thanks for all your help so far,   --Keith
_____________________
h6. 2016-09-17 20:31  adding revised xml for OpenDJ resource

- have to recreate Localhost OpenDJ because of a fatal app error due to a misssing namespace where I used e:na in <xsd:complexType name="eduMember"> for appInfo annotation

- need to figure out what goes in the header textbox fields
_____________________
h6. 2016-09-17 20:37  multi-valued attributes still unsolved

[midPoint] Re. Multi-valued properties

Deepak Natarajan dnataraj at trilobytesystems.com
Tue May 13 12:12:40 CEST 2014
Previous message: [midPoint] Re. Multi-valued properties
Next message: [midPoint] Re. Error using ValuePolicyGenerator
Messages sorted by: [ date ] [ thread ] [ subject ] [ author ]
Yes! This was the issue, thanks guys!

BR/Deepak

> Paul Heaney <mailto:lists at pheaney.co.uk>
> May 13, 2014 at 10:40 AM
> Hi Deepak,
>
> Pavol is right you need to return a List object luckily groovy has the
> tokenize operation which will do exactly that, I'm using the below in
> one of my connectors sucessfully:
>
>  <inbound>
>                         <strength>strong</strength>
>                         <expression>
>                         <script>
>
> <language>http://midpoint.evolveum.com/xml/ns/public/expression/language#Groovy</language>
>                             <code>
>                                     if (!basic.isEmpty(input))
>                                     {
>                                         input.tokenize(",");
>                                     }
>                             </code>
>                         </script>
>                         </expression>
>                         <target>
>                             <path>$user/extension/pid:foo</path>
>                         </target>
>
>                     </inbound>
>
> Cheers
> Paul
>
> On 13/05/14 08:31, Pavol Mederly wrote:
_____________________
h6. 2016-09-17 11:34  testing revised xml for Localhost OpenDJ resource

- ../mPLocalhostOpenDJAdminGUIedited.xml copy/pasted into xml edit window on resource detail page of mP admin ui

- on save, got schema error: aux objClass eduPerson does not exist:

            <token>1000000000000002795</token>

            <message>Schema error while processing schemaHandling section of
            	resource:ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2(Localhost OpenDJ):

            	Auxiliary object class {http://id.internet2.edu/namespaces/edu}eduPerson   <==
            	specified in rOCD(ACCOUNT:default={.../resource/instance-3}inetOrgPerson)  <==
            	does not exist															   <==

            </message>
...
com.evolveum.midpoint.common.refinery.RefinedObjectClassDefinition.parseAuxiliaryObjectClasses(RefinedObjectClassDefinition.java:636)
...

- Full error result:

----------
<operationResult xmlns="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
                 xmlns:icfs="http://midpoint.evolveum.com/xml/ns/public/connector/icf-1/resource-schema-3"
                 xmlns:t="http://prism.evolveum.com/xml/ns/public/types-3"
                 xmlns:c="http://midpoint.evolveum.com/xml/ns/public/common/common-3"
                 xmlns:q="http://prism.evolveum.com/xml/ns/public/query-3"
                 xmlns:ri="http://midpoint.evolveum.com/xml/ns/public/resource/instance-3">
   <operation>com.evolveum.midpoint.web.page.admin.resources.PageResource.loadResource</operation>
   <status>partial_error</status>
   <token>1000000000000002802</token>
   <message>Schema error while processing schemaHandling section of resource:ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2(Localhost OpenDJ): Auxiliary object class {http://id.internet2.edu/namespaces/edu}eduPerson specified in rOCD(ACCOUNT:default={.../resource/instance-3}inetOrgPerson) does not exist</message>
   <partialResults>
      <operation>com.evolveum.midpoint.gui.api.util.WebModelServiceUtils.loadObject</operation>
      <status>partial_error</status>
      <token>1000000000000002801</token>
      <message>Schema error while processing schemaHandling section of resource:ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2(Localhost OpenDJ): Auxiliary object class {http://id.internet2.edu/namespaces/edu}eduPerson specified in rOCD(ACCOUNT:default={.../resource/instance-3}inetOrgPerson) does not exist</message>
      <partialResults>
         <operation>com.evolveum.midpoint.model.api.ModelService.getObject</operation>
         <status>partial_error</status>
         <params>
            <entry key="oid">
               <paramValue>ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2</paramValue>
            </entry>
            <entry key="class">
               <unknownJavaObject>
                  <class>java.lang.Class</class>
                  <toString>class com.evolveum.midpoint.xml.ns._public.common.common_3.ResourceType</toString>
               </unknownJavaObject>
            </entry>
            <entry key="options">
               <unknownJavaObject>
                  <class>java.util.ArrayList</class>
                  <toString>[ObjectOperationOptions(ObjectSelector(connector): GetOperationOptions(resolve)), ObjectOperationOptions(null: GetOperationOptions(resolveNames))]</toString>
               </unknownJavaObject>
            </entry>
         </params>
         <token>1000000000000002800</token>
         <message>Schema error while processing schemaHandling section of resource:ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2(Localhost OpenDJ): Auxiliary object class {http://id.internet2.edu/namespaces/edu}eduPerson specified in rOCD(ACCOUNT:default={.../resource/instance-3}inetOrgPerson) does not exist</message>
         <partialResults>
            <operation>com.evolveum.midpoint.provisioning.api.ProvisioningService.getObject</operation>
            <status>partial_error</status>
            <params>
               <entry key="oid">
                  <paramValue>ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2</paramValue>
               </entry>
               <entry key="type">
                  <unknownJavaObject>
                     <class>java.lang.Class</class>
                     <toString>class com.evolveum.midpoint.xml.ns._public.common.common_3.ResourceType</toString>
                  </unknownJavaObject>
               </entry>
               <entry key="options">
                  <unknownJavaObject>
                     <class>java.util.ArrayList</class>
                     <toString>[ObjectOperationOptions(ObjectSelector(connector): GetOperationOptions(resolve)), ObjectOperationOptions(null: GetOperationOptions(resolveNames))]</toString>
                  </unknownJavaObject>
               </entry>
            </params>
            <context>
               <entry key="implementationClass">
                  <unknownJavaObject>
                     <class>java.lang.Class</class>
                     <toString>class com.evolveum.midpoint.provisioning.impl.ProvisioningServiceImpl</toString>
                  </unknownJavaObject>
               </entry>
            </context>
            <token>1000000000000002795</token>
            <message>Schema error while processing schemaHandling section of resource:ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2(Localhost OpenDJ): Auxiliary object class {http://id.internet2.edu/namespaces/edu}eduPerson specified in rOCD(ACCOUNT:default={.../resource/instance-3}inetOrgPerson) does not exist</message>
            <partialResults>
               <operation>com.evolveum.midpoint.provisioning.impl.ResourceManager.completeResource</operation>
               <status>partial_error</status>
               <token>1000000000000002798</token>
               <message>Schema error while processing schemaHandling section of resource:ef2bc95b-76e0-48e2-86d6-3d4f02d3e1a2(Localhost OpenDJ): Auxiliary object class {http://id.internet2.edu/namespaces/edu}eduPerson specified in rOCD(ACCOUNT:default={.../resource/instance-3}inetOrgPerson) does not exist</message>
               <details>com.evolveum.midpoint.util.exception.SchemaException: Auxiliary object class {http://id.internet2.edu/namespaces/edu}eduPerson specified in rOCD(ACCOUNT:default={.../resource/instance-3}inetOrgPerson) does not exist
com.evolveum.midpoint.common.refinery.RefinedObjectClassDefinition.parseAuxiliaryObjectClasses(RefinedObjectClassDefinition.java:636)
com.evolveum.midpoint.common.refinery.RefinedResourceSchema.parse(RefinedResourceSchema.java:423)
com.evolveum.midpoint.common.refinery.RefinedResourceSchema.parse(RefinedResourceSchema.java:397)
com.evolveum.midpoint.common.refinery.RefinedResourceSchema.getRefinedSchema(RefinedResourceSchema.java:335)
com.evolveum.midpoint.common.refinery.RefinedResourceSchema.getRefinedSchema(RefinedResourceSchema.java:318)
com.evolveum.midpoint.provisioning.impl.ResourceManager.completeResource(ResourceManager.java:341)
com.evolveum.midpoint.provisioning.impl.ResourceManager.loadAndCacheResource(ResourceManager.java:161)
com.evolveum.midpoint.provisioning.impl.ResourceManager.getResource(ResourceManager.java:154)
com.evolveum.midpoint.provisioning.impl.ProvisioningServiceImpl.getObject(ProvisioningServiceImpl.java:208)
com.evolveum.midpoint.model.impl.ModelObjectResolver.getObject(ModelObjectResolver.java:157)
com.evolveum.midpoint.model.impl.controller.ModelController.getObject(ModelController.java:233)
sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
java.lang.reflect.Method.invoke(Method.java:606)
org.apache.wicket.proxy.LazyInitProxyFactory$JdkHandler.invoke(LazyInitProxyFactory.java:507)
com.sun.proxy.$Proxy167.getObject(Unknown Source)
com.evolveum.midpoint.gui.api.util.WebModelServiceUtils.loadObject(WebModelServiceUtils.java:238)
com.evolveum.midpoint.web.page.admin.resources.PageResource.loadResource(PageResource.java:135)
com.evolveum.midpoint.web.page.admin.resources.PageResource.access$000(PageResource.java:63)
com.evolveum.midpoint.web.page.admin.resources.PageResource$1.load(PageResource.java:109)
com.evolveum.midpoint.web.page.admin.resources.PageResource$1.load(PageResource.java:104)
com.evolveum.midpoint.gui.api.model.LoadableModel.getObject(LoadableModel.java:58)
com.evolveum.midpoint.web.page.admin.resources.PageResource.initLayout(PageResource.java:145)
com.evolveum.midpoint.web.page.admin.resources.PageResource.initialize(PageResource.java:112)
com.evolveum.midpoint.web.page.admin.resources.PageResource.&lt;init&gt;(PageResource.java:96)
sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
java.lang.reflect.Constructor.newInstance(Constructor.java:526)
org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:171)
org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:99)
org.apache.wicket.DefaultMapperContext.newPageInstance(DefaultMapperContext.java:106)
org.apache.wicket.core.request.handler.PageProvider.resolvePageInstance(PageProvider.java:271)
org.apache.wicket.core.request.handler.PageProvider.getPageInstance(PageProvider.java:169)
org.apache.wicket.request.handler.render.PageRenderer.getPage(PageRenderer.java:78)
org.apache.wicket.request.handler.render.WebPageRenderer.isPageStateless(WebPageRenderer.java:287)
org.apache.wicket.request.handler.render.WebPageRenderer.shouldRenderPageAndWriteResponse(WebPageRenderer.java:329)
org.apache.wicket.request.handler.render.WebPageRenderer.respond(WebPageRenderer.java:193)
org.apache.wicket.core.request.handler.RenderPageRequestHandler.respond(RenderPageRequestHandler.java:175)
org.apache.wicket.request.cycle.RequestCycle$HandlerExecutor.respond(RequestCycle.java:895)
org.apache.wicket.request.RequestHandlerStack.execute(RequestHandlerStack.java:64)
org.apache.wicket.request.cycle.RequestCycle.execute(RequestCycle.java:265)
org.apache.wicket.request.cycle.RequestCycle.processRequest(RequestCycle.java:222)
org.apache.wicket.request.cycle.RequestCycle.processRequestAndDetach(RequestCycle.java:293)
org.apache.wicket.protocol.http.WicketFilter.processRequestCycle(WicketFilter.java:261)
org.apache.wicket.protocol.http.WicketFilter.processRequest(WicketFilter.java:203)
org.apache.wicket.protocol.http.WicketFilter.doFilter(WicketFilter.java:284)
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:316)
org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:122)
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169)
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:48)
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:205)
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:120)
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:53)
org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:133)
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:91)
org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:213)
org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176)
org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
com.evolveum.midpoint.web.util.MidPointProfilingServletFilter.doFilter(MidPointProfilingServletFilter.java:86)
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:218)
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:505)
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956)
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:442)
org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1082)
org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:623)
org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:318)
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
java.lang.Thread.run(Thread.java:745)
</details>
               <partialResults>
                  <operation>com.evolveum.midpoint.repo.api.RepositoryService.getVersion</operation>
                  <status>success</status>
                  <params>
                     <entry key="oid">
                        <paramValue>00916739-66f5-41fc-b0c3-fe8577d650e4</paramValue>
                     </entry>
                     <entry key="type">
                        <paramValue>com.evolveum.midpoint.xml.ns._public.common.common_3.ConnectorType</paramValue>
                     </entry>
                  </params>
                  <token>1000000000000002799</token>
               </partialResults>
            </partialResults>
         </partialResults>
      </partialResults>
   </partialResults>
</operationResult>
----------
_____________________
h6. 2016-09-17 07:37  adding eduPerson attributes to LocalhostOpenDJ.xml

https://github.com/Evolveum/midpoint
KeithsOfficeMBP:~ khazelton$ cd _notesPlus
KeithsOfficeMBP:_notesPlus khazelton$ ls -lt mPLocalhost*

-rw-r--r--@ 1 khazelton  staff  91292 Sep 17 07:34 mPLocalhostOpenDJAdminGUIedited.xml
-rw-r--r--@ 1 khazelton  staff  89718 Sep 14 12:09 mPLocalhostOpenDJAdminGUI.xml

KeithsOfficeMBP:_notesPlus khazelton$ diff mPLocalhostOpenDJAdminGUIedited.xml mPLocalhostOpenDJAdminGUI.xml

9d8
<           xmlns:ep="http://id.internet2.edu/namespaces/edu"
12d10
<           <!-- khazelton  Added ep namespace prefix for edu* object classes and attribute types  -->
1369,1371d1366
<             <auxiliaryObjectClass>ep:eduPerson</ObjectClass>
<             <auxiliaryObjectClass>ep:eduMember</generateObjectClass>
<             <!-- khazelton added eduPerson and eduMember as auxiliary object classes  -->
1486d1480
<             <!-- the field used by Grouper in displaying subject search results  -->
1491,1495c1485,1486
<                   <!-- <description>Expression that assigns a fixed value</description>
<                   <value>Created by IDM</value>  -->
<                   <script>
<                      <code>name + iterationToken</code>
<                   </script>
---
>                   <description>Expression that assigns a fixed value</description>
>                   <value>Created by IDM</value>
1508,1537d1498
<          <!-- eduPerson and eduMember attributes  -->
<          <attribute>
<             <c:ref>e:eduPersonAffiliation</c:ref>
<             <displayName>eduPersonAffiliation</displayName>
<             <outbound>
<                <source>
<                   <c:path>$user/eduaffil</c:path>
<                </source>
<             </outbound>
<             <inbound>
<                <target>
<                   <c:path>$user/eduaffil</c:path>
<                </target>
<             </inbound>
<          </attribute>
<          <attribute>
<             <c:ref>e:eduMemberOf</c:ref>
<             <displayName>eduMemberOf</displayName>
<             <outbound>
<                <source>
<                   <c:path>$user/edumemberof</c:path>
<                </source>
<             </outbound>
<             <inbound>
<                <target>
<                   <c:path>$user/edumember</c:path>
<                </target>
<             </inbound>
<          </attribute>

_____________________
h6. 2016-09-15 10:03  midPoint xml namespaces & conventions

https://wiki.evolveum.com/display/midPoint/XML+Namespace+List
https://wiki.evolveum.com/display/midPoint/XML+Conventions
_____________________
h6. 2016-09-12 17:10  ID Match

Details here...

  https://spaces.internet2.edu/x/SgIZBg

I stopped loading at 150k records due to performance issues, which I can
explain at some point. Interestingly, the load process identified 870
potential duplicates in the fake dataset I was using...

I've assigned credentials for you:

  System of Record: kh
  apiuser: hazelton
  password: MATCHtest1

Let me know if you have any questions.

Thanks,

-Benn-

_____________________
h6. 2016-09-12 16:52  jimj skype

ideas for demo & beyond:

- midpoint behind SP?  with IdP using testbed.tier credentials for authN

- -change pwd in mP, provision back to TICS

- Grouper & midPoint via https with default port 80

As far as logging into midPoint and doing user admin, I just gave jaj admin privileges, so you should be able to do whatever needs doing.

Also, this is a good site for dry runs:  https://wiki.evolveum.com/display/midPoint/Live+Demo

_____________________
h6. 2016-09-12 09:15  midpoint objectClasses

- clone midpoint repo to mp.tb, then

 bbedit midpoint/infra/schema/src/main/resources/xml/ns/public/common/common-core-3.xsd
 bbedit midpoint/provisioning/provisioning-impl/src/test/resources/common/resource-opendj-initialized.xml
 bbedit midpoint/infra/schema/src/main/resources/xml/ns/public/resource/annotation-3.xsd


_____________________
h6. 2016-09-11 21:08  see how object classes get into midPoint user template

Keiths-MacBook-Pro:opt kei2th$ grep -rnw 'midpoint' -e "inetOrgPerson"

midpoint/infra/common/src/test/java/com/evolveum/midpoint/common/refinery/TestRefinedSchema.java:88:	private static final QName OBJECT_CLASS_INETORGPERSON_QNAME = new QName(MidPointConstants.NS_RI, "inetOrgPerson");
midpoint/infra/common/src/test/resources/refinery/resource-ldap-posix.xml:73:         <generateObjectClass>ri:inetOrgPerson</generateObjectClass>
midpoint/infra/common/src/test/resources/refinery/resource-ldap-posix.xml:658:            <xsd:complexType name="inetOrgPerson">
midpoint/infra/common/src/test/resources/refinery/resource-ldap-posix.xml:666:                     <ra:nativeObjectClass>inetOrgPerson</ra:nativeObjectClass>
midpoint/infra/common/src/test/resources/refinery/resource-ldap-posix.xml:1902:            <objectClass>ri:inetOrgPerson</objectClass>
midpoint/infra/common/src/test/resources/refinery/resource-ldap-posix.xml:2183:    		<objectClass>ri:inetOrgPerson</objectClass>
midpoint/infra/schema/src/main/java/com/evolveum/midpoint/schema/processor/ResourceAttributeContainerDefinition.java:46: * Directory group, inetOrgPerson LDAP objectclass or a schema of USERS database
midpoint/infra/schema/src/main/resources/xml/ns/public/common/common-core-3.xsd:3314:                                inetOrgPerson, that it has "cn" attribute which
midpoint/infra/schema/src/main/resources/xml/ns/public/resource/annotation-3.xsd:92:
...

Keiths-MacBook-Pro:opt kei2th$ ls -la midpoint/infra/schema/src/main/resources/xml/ns/public/common/common-core-3.xsd
-rw-r--r--  1 kei2th  staff  596413 Sep 10 16:54 midpoint/infra/schema/src/main/resources/xml/ns/public/common/common-core-3.xsd

Keiths-MacBook-Pro:opt kei2th$ ls -la midpoint/infra/schema/src/main/resources/xml/ns/public/resource/annotation-3.xsd
-rw-r--r--  1 kei2th  staff  12614 Sep 10 16:54 midpoint/infra/schema/src/main/resources/xml/ns/public/resource/annotation-3.xsd

_____________________
h6. 2016-09-11 15:16  tracing memory usage

- With Grouper, RabbitMQ, OpenDJ and midPoint running:

midpoint#>netstat -tulpn
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 127.0.0.1:8009          0.0.0.0:*               LISTEN      13796/java
tcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN      1443/mysqld
tcp        0      0 0.0.0.0:8080            0.0.0.0:*               LISTEN      13796/java
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      4040/httpd
tcp        0      0 0.0.0.0:4369            0.0.0.0:*               LISTEN      2012/epmd
tcp        0      0 127.0.0.1:8085          0.0.0.0:*               LISTEN      12370/java
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      784/sshd
tcp        0      0 0.0.0.0:8088            0.0.0.0:*               LISTEN      12370/java
tcp        0      0 0.0.0.0:8089            0.0.0.0:*               LISTEN      12370/java
tcp        0      0 0.0.0.0:443             0.0.0.0:*               LISTEN      4040/httpd
tcp        0      0 0.0.0.0:636             0.0.0.0:*               LISTEN      26645/java
tcp        0      0 0.0.0.0:5437            0.0.0.0:*               LISTEN      13796/java
tcp        0      0 0.0.0.0:8989            0.0.0.0:*               LISTEN      26645/java
tcp        0      0 0.0.0.0:5444            0.0.0.0:*               LISTEN      26645/java
tcp        0      0 127.0.0.1:8005          0.0.0.0:*               LISTEN      13796/java
tcp        0      0 0.0.0.0:389             0.0.0.0:*               LISTEN      26645/java
tcp        0      0 0.0.0.0:25672           0.0.0.0:*               LISTEN      2574/beam.smp
tcp6       0      0 :::4369                 :::*                    LISTEN      2012/epmd
tcp6       0      0 :::22                   :::*                    LISTEN      784/sshd
tcp6       0      0 :::5672                 :::*                    LISTEN      2574/beam.smp
udp        0      0 0.0.0.0:23990           0.0.0.0:*                           735/dhclient
udp        0      0 0.0.0.0:68              0.0.0.0:*                           735/dhclient
udp        0      0 127.0.0.1:323           0.0.0.0:*                           491/chronyd
udp        0      0 0.0.0.0:45528           0.0.0.0:*                           13796/java
udp6       0      0 :::28803                :::*                                735/dhclient
udp6       0      0 ::1:323                 :::*                                491/chronyd

- memory usage details for pid 12370 (grouper)

midpoint#>echo $JAVA_HOME
/etc/alternatives/java_sdk_1.7.0

- must use jmap from the appropriate JVM for a given app, else execution error

midpoint#>$JAVA_HOME/bin/jmap -histo  12370

 num     #instances         #bytes  class name
----------------------------------------------
   1:        108508       16857248  <constMethodKlass>
   2:         61210       14768216  [B
   3:        114536       13946040  [C
   4:        108508       13898240  <methodKlass>
   5:          9464       10987736  <constantPoolKlass>
   6:          4478        7842448  [I
   7:          9459        6862312  <instanceKlassKlass>
   8:          7890        5757504  <constantPoolCacheKlass>
   9:        110088        2642112  java.lang.String
  10:         31138        2200704  [Ljava.lang.String;
  11:         20416        1633280  [Lnet.sf.ehcache.store.compound.HashEntry;
  12:         46612        1491584  java.util.HashMap$Entry
  13:          2228        1163608  <methodDataKlass>
  14:         20416        1143296  net.sf.ehcache.store.compound.Segment
  15:         24109        1120600  [Ljava.lang.Object;
  16:         20529         985392  java.util.concurrent.locks.ReentrantReadWriteLock$NonfairSync
  17:         10270         985376  java.lang.Class
  18:          7439         952192  org.apache.ws.commons.schema.XmlSchemaElement
  19:         11834         946720  java.lang.reflect.Method
  20:          9173         943440  [Ljava.util.HashMap$Entry;
  21:         14778         791840  [[I
  22:         12786         774240  [S
  23:         15968         766464  java.util.HashMap
  24:          8574         685752  [Ljava.util.concurrent.ConcurrentHashMap$Segment;
  25:         19911         637152  java.util.concurrent.ConcurrentHashMap$HashEntry
  26:         17558         561856  java.util.concurrent.locks.ReentrantLock$NonfairSync
  27:         12820         512800  java.util.LinkedHashMap$Entry
  28:         11540         461600  java.util.concurrent.ConcurrentHashMap$Segment
  29:         11540         426960  [Ljava.util.concurrent.ConcurrentHashMap$HashEntry;
  30:         10672         426880  java.util.HashMap$ValueIterator
  31:           794         425584  <objArrayKlassKlass>
  32:          8574         411552  java.util.concurrent.ConcurrentHashMap
  33:         16531         396744  java.util.ArrayList
  34:         11246         359872  java.io.File
  35:         10440         334080  org.apache.catalina.LifecycleEvent

- for logs for midPoint, look in tomcat-7.0.70 tree
- for logs for grouper,  look in grouper/apache-tomcat-6.0.35 tree

midpoint#>echo $CATALINA_HOME
/opt/apache-tomcat-7.0.70
midpoint#>

- midPoint's ../logs/idm.log
----------
2016-09-11 13:30:00,438 [] [ClusterManagerThread] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 13:30:00,561 [] [ClusterManagerThread] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 13:30:00,561 [] [midPointScheduler_Worker-7] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 13:45:00,430 [] [midPointScheduler_Worker-3] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 13:45:00,552 [] [midPointScheduler_Worker-10] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 13:45:00,687 [] [midPointScheduler_Worker-3] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 14:00:00,429 [] [midPointScheduler_Worker-4] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 14:00:00,543 [] [midPointScheduler_Worker-5] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 14:00:00,652 [] [midPointScheduler_Worker-4] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 14:00:00,764 [] [midPointScheduler_Worker-5] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements


2016-09-11 14:15:00,429 [] [midPointScheduler_Worker-8] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements


2016-09-11 14:30:00,429 [] [midPointScheduler_Worker-1] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 14:30:00,552 [] [midPointScheduler_Worker-2] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements


2016-09-11 14:32:42,967 [] [localhost-startStop-2] INFO (org.apache.wicket.Application): [wicket] destroy: Wicket core library initializer
2016-09-11 14:32:42,967 [] [localhost-startStop-2] INFO (org.apache.wicket.Application): [wicket] destroy: DevUtils DebugBar Initializer
2016-09-11 14:32:42,967 [] [localhost-startStop-2] INFO (org.apache.wicket.Application): [wicket] destroy: Wicket extensions initializer


2016-09-11 14:32:42,968 [] [localhost-startStop-2] INFO (org.springframework.web.context.support.XmlWebApplicationContext): Closing Root WebApplicationContext: startup date [Sat Sep 10 18:29:34 EDT 2016]; root of context hierarchy


2016-09-11 14:32:42,998 [] [localhost-startStop-2] INFO (com.evolveum.midpoint.wf.impl.activiti.ActivitiEngine): Shutting Activiti ProcessEngine down.
2016-09-11 14:32:42,998 [] [localhost-startStop-2] INFO (org.activiti.engine.impl.jobexecutor.JobExecutor): Shutting down the JobExecutor[org.activiti.engine.impl.jobexecutor.DefaultJobExecutor].
2016-09-11 14:32:42,999 [] [Thread-20] INFO (org.activiti.engine.impl.jobexecutor.AcquireJobsRunnableImpl): JobExecutor[org.activiti.engine.impl.jobexecutor.DefaultJobExecutor] stopped job acquisition
2016-09-11 14:32:43,002 [] [localhost-startStop-2] INFO (com.evolveum.midpoint.provisioning.ucf.impl.ConnectorFactoryIcfImpl): Shutting down ConnId framework
2016-09-11 14:32:43,004 [] [localhost-startStop-2] INFO (com.evolveum.midpoint.task.quartzimpl.TaskManagerQuartzImpl): Task Manager shutdown starting
2016-09-11 14:32:43,004 [] [localhost-startStop-2] INFO (com.evolveum.midpoint.task.quartzimpl.execution.LocalNodeManager): Putting Quartz scheduler into standby mode
2016-09-11 14:32:43,004 [] [localhost-startStop-2] INFO (org.quartz.core.QuartzScheduler): Scheduler midPointScheduler_$_DefaultNode paused.
2016-09-11 14:32:43,005 [] [localhost-startStop-2] INFO (com.evolveum.midpoint.task.quartzimpl.execution.ExecutionManager): Stopping all tasks on local node
2016-09-11 14:32:43,005 [] [localhost-startStop-2] INFO (com.evolveum.midpoint.task.quartzimpl.execution.LocalNodeManager): Shutting down Quartz scheduler
2016-09-11 14:32:43,005 [] [localhost-startStop-2] INFO (org.quartz.core.QuartzScheduler): Scheduler midPointScheduler_$_DefaultNode shutting down.
2016-09-11 14:32:43,005 [] [localhost-startStop-2] INFO (org.quartz.core.QuartzScheduler): Scheduler midPointScheduler_$_DefaultNode paused.
2016-09-11 14:32:43,498 [] [localhost-startStop-2] INFO (org.quartz.core.QuartzScheduler): Scheduler unregistered from name 'quartz:type=QuartzScheduler,name=midPointScheduler,instance=DefaultNode' in the local MBeanServer.
2016-09-11 14:32:43,499 [] [localhost-startStop-2] INFO (org.quartz.core.QuartzScheduler): Scheduler midPointScheduler_$_DefaultNode shutdown complete.
2016-09-11 14:32:43,499 [] [localhost-startStop-2] INFO (com.evolveum.midpoint.task.quartzimpl.execution.LocalNodeManager): Quartz scheduler was shut down
2016-09-11 14:32:43,499 [] [ClusterManagerThread] INFO (com.evolveum.midpoint.task.quartzimpl.cluster.ClusterManager): ClusterManager thread stopping.
2016-09-11 14:32:43,505 [] [localhost-startStop-2] INFO (com.evolveum.midpoint.task.quartzimpl.TaskManagerQuartzImpl): Task Manager shutdown finished
2016-09-11 14:32:43,509 [] [localhost-startStop-2] INFO (com.evolveum.midpoint.repo.sql.SqlRepositoryFactory): Waiting 500 ms for the connection pool to be closed.
2016-09-11 14:32:44,009 [] [localhost-startStop-2] INFO (com.evolveum.midpoint.repo.sql.SqlRepositoryFactory): Shutting down embedded H2
2016-09-11 14:32:44,034 [] [localhost-startStop-2] INFO (com.evolveum.midpoint.repo.sql.SqlRepositoryFactory): Shutdown complete.


2016-09-11 15:58:23,391 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.StartupConfiguration): +--------------------------------------------------------------------------------------------+
2016-09-11 15:58:23,393 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.StartupConfiguration): |             _    | |  _  \     _     _| |_
2016-09-11 15:58:23,393 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.StartupConfiguration): |   ___ ____ (_) __| | |_) |___ (_)___|_   _|
2016-09-11 15:58:23,393 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.StartupConfiguration): |  |  _ ` _ `| |/ _  |  __/  _ \| |  _` | |
2016-09-11 15:58:23,393 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.StartupConfiguration): |  | | | | | | | (_| | |  | (_) | | | | | |_
2016-09-11 15:58:23,393 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.StartupConfiguration): |  |_| |_| |_|_|\____|_|  \____/|_|_| |_|\__|  by Evolveum and partners
2016-09-11 15:58:23,393 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.StartupConfiguration): |
2016-09-11 15:58:23,393 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.StartupConfiguration): |  Licensed under the Apache License, Version 2.0 see: http://www.apache.org/licenses/LICENSE-2.0
2016-09-11 15:58:23,397 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.StartupConfiguration): |  Version :  3.4
2016-09-11 15:58:23,397 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.StartupConfiguration): |  Sources :  https://github.com/Evolveum/midpoint.git  branch:  ${scmBranch}
2016-09-11 15:58:23,397 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.StartupConfiguration): |  Bug reporting system : http://jira.evolveum.com/
2016-09-11 15:58:23,397 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.StartupConfiguration): |  Product information : http://wiki.evolveum.com/display/midPoint
2016-09-11 15:58:23,397 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.StartupConfiguration): +---------------------------------------------------------------------------------------------+
2016-09-11 15:58:23,397 [] [localhost-startStop-1] WARN (com.evolveum.midpoint.init.StartupConfiguration): *****************************************************************************************
2016-09-11 15:58:23,397 [] [localhost-startStop-1] WARN (com.evolveum.midpoint.init.StartupConfiguration): midpoint.home is not set ! Using default configuration, for more information see http://wiki.evolveum.com/display/midPoint/
2016-09-11 15:58:23,397 [] [localhost-startStop-1] WARN (com.evolveum.midpoint.init.StartupConfiguration): *****************************************************************************************
2016-09-11 15:58:23,397 [] [localhost-startStop-1] WARN (com.evolveum.midpoint.init.StartupConfiguration): Setting midpoint.home to '/root/midpoint'.
2016-09-11 15:58:23,403 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.ApplicationHomeSetup): midpoint.home = /root/midpoint/
2016-09-11 15:58:23,403 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.ApplicationHomeSetup): Directory /root/midpoint/ already exists. Reusing it.
2016-09-11 15:58:23,403 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.ApplicationHomeSetup): Directory /root/midpoint//icf-connectors already exists. Reusing it.
2016-09-11 15:58:23,403 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.ApplicationHomeSetup): Directory /root/midpoint//idm-legacy already exists. Reusing it.
2016-09-11 15:58:23,403 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.ApplicationHomeSetup): Directory /root/midpoint//log already exists. Reusing it.
2016-09-11 15:58:23,403 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.ApplicationHomeSetup): Directory /root/midpoint//schema already exists. Reusing it.
2016-09-11 15:58:23,403 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.ApplicationHomeSetup): Directory /root/midpoint//import already exists. Reusing it.
2016-09-11 15:58:23,403 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.ApplicationHomeSetup): Directory /root/midpoint//export already exists. Reusing it.
2016-09-11 15:58:23,404 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.ApplicationHomeSetup): Directory /root/midpoint//tmp already exists. Reusing it.
2016-09-11 15:58:23,405 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.StartupConfiguration): Loading midPoint configuration from file /root/midpoint/config.xml
2016-09-11 15:58:23,728 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.prism.crypto.AESProtector): Using file keystore at /root/midpoint//keystore.jceks
2016-09-11 15:58:23,913 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.ConfigurablePrismContextFactory): Loading extension schemas from folder '/root/midpoint//schema'.
2016-09-11 15:58:32,604 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.RepositoryFactory): Repository factory class name from configuration 'com.evolveum.midpoint.repo.sql.SqlRepositoryFactory'.
2016-09-11 15:58:32,605 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.RepositoryFactory): Getting factory bean 'com.evolveum.midpoint.repo.sql.SqlRepositoryFactory'
2016-09-11 15:58:32,611 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.repo.sql.SqlRepositoryFactory): Initializing SQL repository factory
2016-09-11 15:58:32,618 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.repo.sql.SqlRepositoryFactory): Database wont be deleted, dropIfExists=false.
2016-09-11 15:58:32,618 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.repo.sql.SqlRepositoryFactory): Starting h2 in server mode.
2016-09-11 15:58:32,774 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.repo.sql.SqlRepositoryFactory): H2 files are in '/root/midpoint'.
2016-09-11 15:58:33,283 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.repo.sql.SqlPerformanceMonitor): SQL Performance Monitor initialized (level = 0).
2016-09-11 15:58:33,283 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.repo.sql.SqlRepositoryFactory): Repository initialization finished.
2016-09-11 15:58:33,349 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.repo.sql.DataSourceFactory): Loading datasource.
2016-09-11 15:58:33,350 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.repo.sql.DataSourceFactory): Constructing default C3P0 datasource with connection pooling.
2016-09-11 15:58:37,836 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.repo.sql.helpers.OrgClosureManager): Checking the closure table structure.
2016-09-11 15:58:37,972 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.RepositoryFactory): Getting factory bean 'com.evolveum.midpoint.repo.cache.RepositoryCacheFactory'
2016-09-11 15:58:37,989 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.AuditFactory): Getting factory 'com.evolveum.midpoint.audit.impl.LoggerAuditServiceFactory'
2016-09-11 15:58:37,993 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.AuditFactory): Getting factory 'com.evolveum.midpoint.repo.sql.SqlAuditServiceFactory'
2016-09-11 15:58:38,002 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.repo.sql.SqlAuditServiceFactory): Initializing Sql audit service factory.
2016-09-11 15:58:38,002 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.repo.sql.SqlRepositoryFactory): SQL repository already initialized.
2016-09-11 15:58:38,002 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.repo.sql.SqlAuditServiceFactory): Sql audit service factory initialization complete.
2016-09-11 15:58:38,063 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.task.quartzimpl.Initializer): Task Manager initialization.
2016-09-11 15:58:38,070 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.task.quartzimpl.Initializer): Task Manager: Quartz Job Store: in-memory, NOT clustered. Threads: 10
2016-09-11 15:58:38,080 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.task.quartzimpl.cluster.NodeRegistrar): Registering this node in the repository as DefaultNode at 127.0.0.1:20001
2016-09-11 15:58:38,379 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.task.quartzimpl.execution.TaskSynchronizer): Synchronizing Quartz job store with midPoint repository.
2016-09-11 15:58:38,630 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.task.quartzimpl.execution.TaskSynchronizer): Synchronization of midpoint and Quartz task store finished. 6 task(s) existing in midPoint repository successfully processed, resulting in 4 updated Quartz job(s). 0 task(s) removed from Quartz job store. Processing of 0 task(s) failed.
2016-09-11 15:58:38,630 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.task.quartzimpl.Initializer): Task Manager initialized
2016-09-11 15:58:38,730 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.provisioning.ucf.impl.ConnectorFactoryIcfImpl): Discovered ICF bundle on CLASSPATH: com.evolveum.polygon.connector-csvfile version: 1.4.2.0
2016-09-11 15:58:38,771 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.provisioning.ucf.impl.ConnectorFactoryIcfImpl): Discovered ICF bundle on CLASSPATH: com.evolveum.polygon.connector-databasetable version: 1.4.2.0
2016-09-11 15:58:38,791 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.provisioning.ucf.impl.ConnectorFactoryIcfImpl): Discovered ICF bundle on CLASSPATH: com.evolveum.polygon.connector-ldap version: 1.4.2.17
2016-09-11 15:58:39,139 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.wf.impl.WfConfiguration): Activiti database is at jdbc:h2:tcp://127.0.0.1:5437/midpoint-activiti;DB_CLOSE_ON_EXIT=FALSE (a JDBC URL)
2016-09-11 15:58:39,140 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.wf.impl.WfConfiguration): Activiti automatic schema update: true
2016-09-11 15:58:40,510 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.wf.impl.activiti.ActivitiEngine): Activiti engine successfully created.
2016-09-11 15:58:40,511 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.wf.impl.activiti.ActivitiEngine): Auto deployment from classpath*:processes/*.bpmn20.xml yields 1 resource(s)
2016-09-11 15:58:43,202 [] [localhost-startStop-1] WARN (org.apache.cxf.jaxrs.utils.AnnotationUtils): Method suspendAndDeleteTasks in com.evolveum.midpoint.model.impl.ModelRestService has no JAX-RS Path or HTTP Method annotations
2016-09-11 15:58:43,677 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.wf.impl.WfHook): Workflow change hook was registered.
2016-09-11 15:58:44,273 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.InitialDataImport): Starting initial object import (if necessary).
2016-09-11 15:58:46,616 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.InitialDataImport): Initial object import finished (0 objects imported, 0 errors)
2016-09-11 15:58:46,618 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.ModelInitialSetup): Model post initialization.
2016-09-11 15:58:46,627 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.common.LoggingConfigurationManager): Applying logging configuration (version 1)
2016-09-11 15:58:46,628 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.common.LoggingConfigurationManager): Resetting current logging configuration
2016-09-11 15:58:46,709 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.common.LoggingConfigurationManager): New logging configuration applied
2016-09-11 15:58:46,711 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.task.quartzimpl.execution.LocalNodeManager): Starting the Quartz scheduler
2016-09-11 15:58:46,711 [] [localhost-startStop-1] INFO (org.quartz.core.QuartzScheduler): Scheduler midPointScheduler_$_DefaultNode started.
2016-09-11 15:58:46,717 [] [ClusterManagerThread] INFO (com.evolveum.midpoint.task.quartzimpl.cluster.ClusterManager): ClusterManager thread starting.
2016-09-11 15:58:46,989 [] [ClusterManagerThread] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 15:58:46,998 [] [midPointScheduler_Worker-1] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 15:58:47,012 [] [midPointScheduler_Worker-3] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 15:58:47,138 [] [midPointScheduler_Worker-3] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 15:58:47,248 [] [midPointScheduler_Worker-2] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 15:58:47,248 [] [ClusterManagerThread] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 15:58:47,249 [] [midPointScheduler_Worker-3] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 15:58:47,258 [] [midPointScheduler_Worker-1] INFO (org.hibernate.dialect.Dialect): HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-09-11 15:58:47,258 [] [midPointScheduler_Worker-1] INFO (com.evolveum.midpoint.repo.sql.SqlAuditServiceImpl): Starting audit cleanup, deleting up to Sat Jun 11 15:58:47 EDT 2016 (duration '-P3M'), batch size 500.
2016-09-11 15:58:47,264 [] [midPointScheduler_Worker-1] INFO (com.evolveum.midpoint.repo.sql.SqlAuditServiceImpl): Audit cleanup finished; deleted 0 entries in 0 seconds.
2016-09-11 15:58:47,264 [] [midPointScheduler_Worker-1] INFO (com.evolveum.midpoint.task.quartzimpl.TaskManagerQuartzImpl): Starting cleanup for closed tasks deleting up to Thu Aug 11 15:58:47 EDT 2016 (duration '-P1M').
2016-09-11 15:58:47,328 [] [midPointScheduler_Worker-1] INFO (com.evolveum.midpoint.task.quartzimpl.TaskManagerQuartzImpl): Task cleanup procedure finished. Successfully deleted 0 tasks; there were problems with deleting 0 tasks.
2016-09-11 15:58:47,374 [] [midPointScheduler_Worker-2] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 15:58:47,429 [] [midPointScheduler_Worker-1] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 15:58:47,460 [] [localhost-startStop-1] INFO (com.evolveum.midpoint.init.ModelInitialSetup): Model post initialization finished successful.
2016-09-11 15:58:47,552 [] [localhost-startStop-1] INFO (org.springframework.web.context.ContextLoader): Root WebApplicationContext: initialization completed in 27360 ms
2016-09-11 15:58:47,602 [] [midPointScheduler_Worker-2] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 15:58:47,603 [] [midPointScheduler_Worker-3] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 15:58:47,633 [] [localhost-startStop-1] INFO (ro.isdc.wro.http.WroFilter): wro4j version: 1.8.0
2016-09-11 15:58:47,633 [] [localhost-startStop-1] INFO (ro.isdc.wro.http.WroFilter): wro4j configuration: ro.isdc.wro.config.jmx.WroConfiguration@352521fc[
  cacheUpdatePeriod=0
  modelUpdatePeriod=0
  resourceWatcherUpdatePeriod=0
  resourceWatcherAsync=false
  gzipEnabled=true
  debug=true
  ignoreMissingResources=true
  cacheGzippedContent=false
  jmxEnabled=true
  wroManagerClassName=ro.isdc.wro.manager.factory.ConfigurableWroManagerFactory
  encoding=UTF-8
  mbeanName=<null>
  header=<null>
  connectionTimeout=2000
  parallelPreprocessing=false
  ignoreEmptyGroup=true
  ignoreFailingProcessor=false
  minimizeEnabled=true
]
2016-09-11 15:58:47,659 [] [localhost-startStop-1] INFO (org.apache.wicket.util.file.WebXmlFile): web.xml: url mapping found for filter with name wicket: [/*]
2016-09-11 15:58:47,798 [] [localhost-startStop-1] INFO (org.apache.wicket.Application): [wicket] init: Wicket core library initializer
2016-09-11 15:58:47,800 [] [localhost-startStop-1] INFO (org.apache.wicket.RequestListenerInterface): registered listener interface [RequestListenerInterface name=IBehaviorListener, method=public abstract void org.apache.wicket.behavior.IBehaviorListener.onRequest()]
2016-09-11 15:58:47,800 [] [localhost-startStop-1] INFO (org.apache.wicket.RequestListenerInterface): registered listener interface [RequestListenerInterface name=IFormSubmitListener, method=public abstract void org.apache.wicket.markup.html.form.IFormSubmitListener.onFormSubmitted()]
2016-09-11 15:58:47,800 [] [localhost-startStop-1] INFO (org.apache.wicket.RequestListenerInterface): registered listener interface [RequestListenerInterface name=ILinkListener, method=public abstract void org.apache.wicket.markup.html.link.ILinkListener.onLinkClicked()]
2016-09-11 15:58:47,800 [] [localhost-startStop-1] INFO (org.apache.wicket.RequestListenerInterface): registered listener interface [RequestListenerInterface name=IOnChangeListener, method=public abstract void org.apache.wicket.markup.html.form.IOnChangeListener.onSelectionChanged()]
2016-09-11 15:58:47,801 [] [localhost-startStop-1] INFO (org.apache.wicket.RequestListenerInterface): registered listener interface [RequestListenerInterface name=IResourceListener, method=public abstract void org.apache.wicket.IResourceListener.onResourceRequested()]
2016-09-11 15:58:47,802 [] [localhost-startStop-1] INFO (org.apache.wicket.Application): [wicket] init: DevUtils DebugBar Initializer
2016-09-11 15:58:47,802 [] [localhost-startStop-1] INFO (org.apache.wicket.Application): [wicket] init: Wicket extensions initializer
2016-09-11 15:58:47,908 [] [midPointScheduler_Worker-2] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 15:58:48,235 [] [midPointScheduler_Worker-1] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 15:58:48,407 [] [midPointScheduler_Worker-1] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 15:58:48,418 [] [midPointScheduler_Worker-2] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 15:58:48,619 [] [midPointScheduler_Worker-2] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 15:58:48,620 [] [midPointScheduler_Worker-1] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 15:58:48,913 [] [localhost-startStop-1] INFO (org.apache.wicket.protocol.http.WebApplication): [wicket] Started Wicket version 7.3.0 in DEPLOYMENT mode
2016-09-11 16:13:46,850 [] [midPointScheduler_Worker-7] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 16:13:47,017 [] [midPointScheduler_Worker-6] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
2016-09-11 16:13:47,166 [] [midPointScheduler_Worker-7] INFO (org.hibernate.engine.jdbc.batch.internal.AbstractBatchImpl): HHH000010: On release of batch it still contained JDBC statements
midpoint#>
----------
_____________________
h6. 2016-09-11 07:46  hunting memory leaks

midpoint#>/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.101-3.b13.el7_2.x86_64/bin/jmap -h
Usage:
    jmap [option] <pid>
        (to connect to running process)
    jmap [option] <executable <core>
        (to connect to a core file)
    jmap [option] [server_id@]<remote server IP or hostname>
        (to connect to remote debug server)

where <option> is one of:
    <none>               to print same info as Solaris pmap
    -heap                to print java heap summary
    -histo[:live]        to print histogram of java object heap; if the "live"
                         suboption is specified, only count live objects
    -clstats             to print class loader statistics
    -finalizerinfo       to print information on objects awaiting finalization
    -dump:<dump-options> to dump java heap in hprof binary format
                         dump-options:
                           live         dump only live objects; if not specified,
                                        all objects in the heap are dumped.
                           format=b     binary format
                           file=<file>  dump heap to <file>
                         Example: jmap -dump:live,format=b,file=heap.bin <pid>
    -F                   force. Use with -dump:<dump-options> <pid> or -histo
                         to force a heap dump or histogram when <pid> does not
                         respond. The "live" suboption is not supported
                         in this mode.
    -h | -help           to print this help message
    -J<flag>             to pass <flag> directly to the runtime system

midpoint#>/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.101-3.b13.el7_2.x86_64/bin/jmap 26645

Attaching to process ID 26645, please wait...
Debugger attached successfully.
Server compiler detected.
JVM version is 25.101-b13
0x0000000000400000	7K	/opt/jdk1.8.0_101/jre/bin/java
0x00007f6f8ca7a000	86K	/usr/lib64/libgcc_s-4.8.5-20150702.so.1
0x00007f6f8cc90000	250K	/opt/jdk1.8.0_101/jre/lib/amd64/libsunec.so
0x00007f6fa80be000	90K	/opt/jdk1.8.0_101/jre/lib/amd64/libnio.so
0x00007f6fa82cf000	113K	/opt/jdk1.8.0_101/jre/lib/amd64/libnet.so
0x00007f6fa84e6000	49K	/opt/jdk1.8.0_101/jre/lib/amd64/libmanagement.so
0x00007f6fc1f20000	121K	/opt/jdk1.8.0_101/jre/lib/amd64/libzip.so
0x00007f6fc213b000	60K	/usr/lib64/libnss_files-2.17.so
0x00007f6fc234e000	220K	/opt/jdk1.8.0_101/jre/lib/amd64/libjava.so
0x00007f6fc257a000	64K	/opt/jdk1.8.0_101/jre/lib/amd64/libverify.so
0x00007f6fc2789000	43K	/usr/lib64/librt-2.17.so
0x00007f6fc2991000	1114K	/usr/lib64/libm-2.17.so
0x00007f6fc2c93000	16576K	/opt/jdk1.8.0_101/jre/lib/amd64/server/libjvm.so
0x00007f6fc3c81000	2062K	/usr/lib64/libc-2.17.so
0x00007f6fc4043000	19K	/usr/lib64/libdl-2.17.so
0x00007f6fc4247000	99K	/opt/jdk1.8.0_101/jre/lib/amd64/jli/libjli.so
0x00007f6fc445d000	138K	/usr/lib64/libpthread-2.17.so
0x00007f6fc4679000	160K	/usr/lib64/ld-2.17.so
midpoint#>

midpoint#>/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.101-3.b13.el7_2.x86_64/bin/jmap -heap 26645

Attaching to process ID 26645, please wait...
Debugger attached successfully.
Server compiler detected.
JVM version is 25.101-b13

using thread-local object allocation.
Parallel GC with 2 thread(s)

Heap Configuration:
   MinHeapFreeRatio         = 0
   MaxHeapFreeRatio         = 100
   MaxHeapSize              = 1983905792 (1892.0MB)
   NewSize                  = 41943040 (40.0MB)
   MaxNewSize               = 661127168 (630.5MB)
   OldSize                  = 83886080 (80.0MB)
   NewRatio                 = 2
   SurvivorRatio            = 8
   MetaspaceSize            = 21807104 (20.796875MB)
   CompressedClassSpaceSize = 1073741824 (1024.0MB)
   MaxMetaspaceSize         = 17592186044415 MB
   G1HeapRegionSize         = 0 (0.0MB)

Heap Usage:
PS Young Generation
Eden Space:
   capacity = 98041856 (93.5MB)
   used     = 90672448 (86.47198486328125MB)
   free     = 7369408 (7.02801513671875MB)
   92.48340627088903% used
From Space:
   capacity = 524288 (0.5MB)
   used     = 131072 (0.125MB)
   free     = 393216 (0.375MB)
   25.0% used
To Space:
   capacity = 15204352 (14.5MB)
   used     = 0 (0.0MB)
   free     = 15204352 (14.5MB)
   0.0% used
PS Old Generation
   capacity = 105906176 (101.0MB)
   used     = 52591128 (50.154808044433594MB)
   free     = 53315048 (50.845191955566406MB)
   49.65822578656791% used

19356 interned Strings occupying 2100032 bytes.

- NOTE: Different processes may come from different JAVA_HOMEs

- this failed:
/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.101-3.b13.el7_2.x86_64/bin/jmap

- but this worked:
midpoint#>$JAVA_HOME/bin/jmap 27050

- Evolveum midPoint?

Attaching to process ID 27050, please wait...
Debugger attached successfully.
Server compiler detected.
JVM version is 24.111-b01
0x0000000000400000	7K	/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.111-2.6.7.2.el7_2.x86_64/bin/java
0x00007fb43fdf1000	70K	/opt/apache-tomcat-7.0.70/temp/jffi1147488792983181207.tmp
0x00007fb47d92d000	502K	/usr/lib64/libfreeblpriv3.so
0x00007fb47dbad000	245K	/usr/lib64/libnspr4.so
0x00007fb47ddeb000	19K	/usr/lib64/libplc4.so
0x00007fb47dff0000	15K	/usr/lib64/libplds4.so
0x00007fb47e1f4000	177K	/usr/lib64/libnssutil3.so
0x00007fb47e420000	1191K	/usr/lib64/libnss3.so
0x00007fb47e746000	160K	/usr/lib64/libsmime3.so
0x00007fb47e96d000	270K	/usr/lib64/libssl3.so
0x00007fb47ebb0000	53K	/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.111-2.6.7.2.el7_2.x86_64/jre/lib/amd64/libsunec.so
0x00007fb47eebe000	35K	/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.111-2.6.7.2.el7_2.x86_64/jre/lib/amd64/libmanagement.so
0x00007fb47f0c7000	149K	/usr/lib64/liblzma.so.5.0.99
0x00007fb47f2ec000	388K	/usr/lib64/libpcre.so.1.2.0
0x00007fb47f54d000	297K	/usr/lib64/libdbus-1.so.3.7.4
0x00007fb47f795000	164K	/usr/lib64/libdbus-glib-1.so.2.2.2
0x00007fb47f9bd000	108K	/usr/lib64/libresolv-2.17.so
0x00007fb47fbd7000	143K	/usr/lib64/libselinux.so.1
0x00007fb47fdfc000	15K	/usr/lib64/libgmodule-2.0.so.0.4200.2
0x00007fb4840b2000	31K	/usr/lib64/libffi.so.6.0.1
0x00007fb4842ba000	200K	/usr/lib64/libgconf-2.so.4.1.5
0x00007fb4844eb000	1257K	/usr/lib64/libglib-2.0.so.0.4200.2
0x00007fb484822000	327K	/usr/lib64/libgobject-2.0.so.0.4200.2
0x00007fb484a72000	1516K	/usr/lib64/libgio-2.0.so.0.4200.2
0x00007fb484de8000	97K	/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.111-2.6.7.2.el7_2.x86_64/jre/lib/amd64/libnet.so
0x00007fb48c144000	72K	/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.111-2.6.7.2.el7_2.x86_64/jre/lib/amd64/libnio.so
0x00007fb48e497000	35K	/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.111-2.6.7.2.el7_2.x86_64/jre/lib/amd64/libzip.so
0x00007fb48e6a0000	60K	/usr/lib64/libnss_files-2.17.so
0x00007fb48e8b3000	181K	/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.111-2.6.7.2.el7_2.x86_64/jre/lib/amd64/libjava.so
0x00007fb48eae0000	59K	/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.111-2.6.7.2.el7_2.x86_64/jre/lib/amd64/libverify.so
0x00007fb48ecef000	43K	/usr/lib64/librt-2.17.so
0x00007fb48eef7000	86K	/usr/lib64/libgcc_s-4.8.5-20150702.so.1
0x00007fb48f10d000	1114K	/usr/lib64/libm-2.17.so
0x00007fb48f40f000	972K	/usr/lib64/libstdc++.so.6.0.19
0x00007fb48f717000	12799K	/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.111-2.6.7.2.el7_2.x86_64/jre/lib/amd64/server/libjvm.so
0x00007fb490557000	88K	/usr/lib64/libz.so.1.2.7
0x00007fb49076d000	2062K	/usr/lib64/libc-2.17.so
0x00007fb490b2f000	19K	/usr/lib64/libdl-2.17.so
0x00007fb490d33000	56K	/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.111-2.6.7.2.el7_2.x86_64/lib/amd64/jli/libjli.so
0x00007fb490f41000	138K	/usr/lib64/libpthread-2.17.so
0x00007fb49115d000	160K	/usr/lib64/ld-2.17.so
midpoint#>


- OpenDJ?

midpoint#>$JAVA_HOME/bin/jmap -histo:live  27050

 num     #instances         #bytes  class name
----------------------------------------------
   1:        518242       62616296  [C
   2:        226890       34809576  <constMethodKlass>
   3:         85272       30980240  [B
   4:        226890       29054112  <methodKlass>
   5:         23538       26405168  <constantPoolKlass>
   6:         29358       22913248  [I
   7:         23533       18780720  <instanceKlassKlass>
   8:         18556       13466624  <constantPoolCacheKlass>
   9:        512075       12289800  java.lang.String
  10:         67488        5705680  [Ljava.lang.Object;
  11:          8946        5045304  <methodDataKlass>
  12:         42636        3410880  java.lang.reflect.Method
  13:        101053        3233696  java.util.concurrent.ConcurrentHashMap$HashEntry
  14:         99095        3171040  java.util.HashMap$Entry
  15:         20638        2783656  [Ljava.util.HashMap$Entry;
  16:         68784        2751360  java.util.LinkedHashMap$Entry
  17:         59390        2375600  org.apache.xerces.dom.DeferredTextImpl
  18:         24742        2361336  java.lang.Class
  19:         33812        2163968  java.net.URL
  20:         40501        1941968  [[I
  21:         31655        1772680  java.util.LinkedHashMap
  22:         31837        1738920  [S
  23:         24560        1571840  org.apache.xerces.dom.DeferredElementNSImpl
  24:         53396        1366368  [Ljava.lang.String;
  25:         52584        1262016  java.util.ArrayList
  26:         25677        1232496  org.apache.catalina.loader.ResourceEntry
  27:         13431        1090896  [Ljava.util.concurrent.ConcurrentHashMap$HashEntry;
  28:         32969        1055008  java.lang.ref.WeakReference
  29:         21815        1047120  org.apache.xerces.dom.DeferredAttrNSImpl
  30:         15933         764784  java.util.HashMap
  31:         16111         644440  java.lang.ref.SoftReference
  32:          1192         638912  <objArrayKlassKlass>
  33:         19114         611648  java.util.Vector
  34:         24881         597144  javax.xml.namespace.QName
  35:         23386         561264  org.apache.xerces.dom.AttributeMap
  36:         13431         537240  java.util.concurrent.ConcurrentHashMap$Segment
  37:             2         524320  [Lorg.h2.util.CacheObject;
  38:         16233         519456  java.util.concurrent.locks.ReentrantLock$NonfairSync
  39:         32439         519024  java.lang.Object
  40:         18242         437808  java.beans.MethodRef
  41:         19878         430792  [Ljava.lang.Class;
  42:         13453         430496  java.util.Hashtable$Entry
  43:          5200         374400  java.lang.reflect.Constructor
  44:         11300         361600  java.util.LinkedList
  45:          3475         361400  org.apache.ws.commons.schema.XmlSchemaElement
  46:          6398         358288  org.apache.xerces.dom.DeferredElementImpl
  47:          8729         349160  org.apache.xerces.dom.DeferredAttrImpl
  48:          5788         324128  java.beans.MethodDescriptor
  49:          2796         270824  [Ljava.util.Hashtable$Entry;
  50:          3637         261864  java.beans.PropertyDescriptor
  51:          3542         255024  java.lang.reflect.Field
  52:         15612         249792  java.lang.Integer
  53:          2338         243152  org.h2.table.Column
...

midpoint#>/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.101-3.b13.el7_2.x86_64/bin/jmap -histo 26645

 num     #instances         #bytes  class name
----------------------------------------------
   1:        143000       26287984  [B
   2:        286152       18174152  [C
   3:         75236        7925576  [I
   4:        166981        4007544  java.lang.String
   5:         80350        3418848  [Ljava.lang.String;
   6:         54831        2193240  java.util.LinkedHashMap$Entry
   7:         49988        1599616  java.util.HashMap$Node
   8:         24469        1430848  [Ljava.util.HashMap$Node;
   9:         51970        1247280  org.forgerock.opendj.ldap.ByteString
  10:         49191        1180584  java.lang.StringBuilder
  11:         19128        1071168  java.util.LinkedHashMap
  12:         41179         988296  java.util.LinkedList$Node
  13:         15570         983936  [Ljava.lang.Object;
  14:         28035         897120  java.util.concurrent.locks.AbstractQueuedSynchronizer$Node
  15:         26146         836672  org.opends.server.types.RDN
  16:         23063         738016  [Ljava.lang.Comparable;
  17:          5592         657032  java.lang.Class
  18:         26150         627600  [Lorg.opends.server.types.AttributeType;
  19:         26146         627504  [Lorg.forgerock.opendj.ldap.ByteString;
  20:         26139         627336  java.util.Collections$SingletonList
  21:         12430         596640  java.util.HashMap
  22:         23548         565152  org.forgerock.opendj.ldap.ByteStringBuilder
  23:          4999         559888  java.util.GregorianCalendar
  24:         17107         547424  java.util.concurrent.ConcurrentHashMap$Node
  25:          5002         480192  sun.util.calendar.Gregorian$Date
  26:          7496         479744  java.text.DateFormatSymbols
  27:          7734         433104  org.forgerock.opendj.ldap.schema.MatchingRule
  28:          4379         385352  org.opends.server.types.AttributeType
  29:          3686         324368  java.lang.reflect.Method
  30:          9890         316480  java.util.LinkedList
  31:          8517         272544  java.util.Collections$UnmodifiableMap
  32:          5416         216640  java.lang.ref.Finalizer
  33:          5134         210240  [Z
  34:          4916         202632  [Lorg.opends.server.types.RDN;
  35:          8104         194496  org.opends.server.types.AttributeBuilder$AttributeValue
  36:           383         192256  [Ljava.util.concurrent.ConcurrentHashMap$Node;
  37:          7488         179712  java.lang.StringBuffer
  38:          5473         175136  org.opends.server.replication.common.CSN
  39:          6845         164280  java.util.Collections$UnmodifiableList
  40:         10037         160592  java.lang.Object
  41:          4916         157312  org.opends.server.types.DN
  42:          1796         143680  org.opends.server.types.ObjectClass
  43:          2529         141624  java.util.zip.ZipFile$ZipFileInputStream
  44:          2528         141568  java.util.zip.ZipFile$ZipFileInflaterInputStream
  45:          5827         139848  java.util.ArrayList
  46:          4149         132768  java.io.File
  47:          3093         123720  java.util.TreeMap$Entry
  48:          3042         121680  java.util.HashMap$KeyIterator
  49:           171         118216  [S
  50:          5943          95088  java.util.HashSet
  51:          5928          94848  java.util.Collections$UnmodifiableSet
  52:          3867          92808  org.opends.server.replication.server.changelog.file.Record
  53:          2737          87584  java.util.Hashtable$Entry
  54:          2109          84360  java.lang.ref.SoftReference
  55:          3484          83616  java.text.EntryPair
  56:          1948          77920  org.forgerock.i18n.LocalizableMessageDescriptor$Arg0
  57:          3869          76408  [Ljava.lang.Class;
  58:          3111          74664  java.util.concurrent.CopyOnWriteArrayList$COWIterator
  59:            18          74016  [Ljava.nio.ByteBuffer;
  60:          3521          72608  [Ljava.nio.channels.SelectionKey;
  61:          2136          68352  java.io.FileDescriptor
  62:          4172          66752  java.util.Collections$UnmodifiableMap$UnmodifiableEntrySet
  63:          4121          65936  java.util.LinkedHashMap$LinkedEntrySet
  64:          2026          64832  java.util.AbstractList$Itr
  65:          2680          64320  java.util.Arrays$ArrayList
  66:          2006          64192  java.io.RandomAccessFile
  67:          1336          64128  org.opends.server.replication.protocol.ModifyMsg
  68:          1997          63904  org.opends.server.replication.server.changelog.api.ChangeNumberIndexRecord
  69:          1997          63904  org.opends.server.replication.server.changelog.file.BlockLogReader
  70:          1997          63904  org.opends.server.replication.server.changelog.file.LogFile$LogFileCursor
  71:          3984          63744  java.util.HashMap$KeySet
  72:           777          62160  java.lang.reflect.Constructor
  73:          2543          61032  java.util.Date
  74:          1887          60384  java.util.concurrent.locks.ReentrantLock$NonfairSync
  75:          3684          58944  java.util.LinkedHashMap$LinkedKeySet
  76:          2394          57456  org.opends.server.types.AttributeBuilder$SmallSet
  77:          1787          57184  java.lang.ThreadLocal$ThreadLocalMap$Entry
  78:           891          57024  java.util.concurrent.ConcurrentHashMap
  79:          2295          55080  org.opends.server.types.AttributeBuilder$RealAttributeNoOptions
  80:          1688          54016  org.forgerock.i18n.LocalizableMessageDescriptor$Arg1
  81:          2189          52536  org.forgerock.opendj.ldap.ByteSequenceReader
  82:          1616          51712  java.util.Vector
  83:          2145          51480  org.opends.server.replication.protocol.ByteArrayScanner
  84:          2122          50928  org.forgerock.i18n.LocalizableMessage
  85:          2114          50736  java.lang.Long
  86:          2018          48432  [Ljava.io.Closeable;
  87:           998          47904  java.util.TreeMap$AscendingSubMap
  88:          2990          47840  java.util.HashMap$EntrySet
  89:          1964          47136  org.forgerock.i18n.LocalizableMessageDescriptor$AbstractLocalizableMessageDescriptor$CachedFormatString
  90:           944          45312  java.util.TreeMap
  91:          1836          44064  com.sleepycat.je.utilint.LongStat

_____________________
h6. 2016-09-10 17:14  hunting memory leaks

- Paul Caskey, perhaps:

midpoint#>cat setenv.sh.orig

#CATALINA_OPTS="-XX:+UseG1GC -Xmx4000m -XX:MaxPermSize=128m"
#CATALINA_OPTS="-Xmx6000m -XX:MaxPermSize=128m"
CATALINA_OPTS="-Xmx6000m"
midpoint#>


_____________________
h6. 2016-09-10 15:06  RESTful post person example, python

https://gist.github.com/miguelgrinberg/5614326

../ref/rest-server.py  <== orig with basic auth

../ref/rest-server-01.py
-----------
#!flask/bin/python
from flask import Flask, jsonify, abort, request, make_response, url_for

app = Flask(__name__, static_url_path = "")

@app.route('/api/v1.0/person', methods = ['POST'])
def person():
    return jsonify(request.json), 201

if __name__ == '__main__':
    app.run(debug = True)
----------

~/_notesPlus/ref/ba.json
----------
{
      "schemas":["urn:ietf:params:scim:schemas:core:2.0:User"],
      "userName":"bjensen",
      "externalId":"bjensen",
      "name":{
         "formatted":"Ms. Barbara J Jensen III",
         "familyName":"Jensen",
         "givenName":"Barbara",
         "middleName": "Jane",
         "displayName": "Babs Jensen"
         },
      "emails":[
       {
         "value":"bjensen@example.com"
         }]
     }
----------

Keiths-MacBook-Pro:~ kei2th$ curl -u keith:python -i -H "Content-Type: application/json" -X POST -d @ba.json http://localhost:5000/api/v1.0/person  --header "Content-Type:application/json"

----------
HTTP/1.0 201 CREATED
Content-Type: application/json
Content-Length: 377
Server: Werkzeug/0.11.11 Python/2.7.10
Date: Sat, 10 Sep 2016 20:05:53 GMT

{
  "emails": [
    {
      "value": "bjensen@example.com"
    }
  ],
  "externalId": "bjensen",
  "name": {
    "displayName": "Babs Jensen",
    "familyName": "Jensen",
    "formatted": "Ms. Barbara J Jensen III",
    "givenName": "Barbara",
    "middleName": "Jane"
  },
  "schemas": [
    "urn:ietf:params:scim:schemas:core:2.0:User"
  ],
  "userName": "bjensen"
}
----------

Keiths-MacBook-Pro:~ kei2th$
_____________________
h6. 2016-09-08 18:16  eventually successful schema load of eduMember

- success: eduMember-200507generic loaded at OpenDJ startup

midpoint#>vi /opt/opendj/config/schema/90-eduMember-200507generic.ldif

midpoint#>systemctl stop opendj
midpoint#>systemctl start opendj

midpoint#>cat  /opt/opendj/logs/server.out

[09/Sep/2016:10:54:12 +0000] category=EXTENSIONS severity=NOTICE msgID=org.opends.messages.extension.571 msg=Loaded extension from file '/opt/opendj/lib/extensions/snmp-mib2605.jar' (build 3.0.0, revision 185acee3ba68d8da1782007eebacb3701dc996d6)
[09/Sep/2016:10:54:12 +0000] category=CORE severity=NOTICE msgID=org.opends.messages.core.134 msg=OpenDJ 3.0.0 (build 20160108162510, revision number 185acee3ba68d8da1782007eebacb3701dc996d6) starting up
[09/Sep/2016:10:54:13 +0000] category=UTIL severity=NOTICE msgID=org.opends.messages.runtime.21 msg=Installation Directory:  /opt/opendj
[09/Sep/2016:10:54:13 +0000] category=UTIL severity=NOTICE msgID=org.opends.messages.runtime.23 msg=Instance Directory:      /opt/opendj
[09/Sep/2016:10:54:13 +0000] category=UTIL severity=NOTICE msgID=org.opends.messages.runtime.17 msg=JVM Information: 1.8.0_101-b13 by Oracle Corporation, 64-bit architecture, 1763704832 bytes heap size
[09/Sep/2016:10:54:13 +0000] category=UTIL severity=NOTICE msgID=org.opends.messages.runtime.18 msg=JVM Host: midpoint, running Linux 3.10.0-327.28.3.el7.x86_64 amd64, 7933587456 bytes physical memory size, number of processors available 2
[09/Sep/2016:10:54:13 +0000] category=UTIL severity=NOTICE msgID=org.opends.messages.runtime.19 msg=JVM Arguments: "-Dorg.opends.server.scriptName=start-ds"
[09/Sep/2016:10:54:13 +0000] category=PLUGGABLE severity=NOTICE msgID=org.opends.messages.backend.513 msg=The database backend userRoot containing 8 entries has started
[09/Sep/2016:10:54:13 +0000] category=EXTENSIONS severity=NOTICE msgID=org.opends.messages.extension.221 msg=DIGEST-MD5 SASL mechanism using a server fully qualified domain name of: midpoint
[09/Sep/2016:10:54:14 +0000] category=SYNC severity=NOTICE msgID=org.opends.messages.replication.204 msg=Replication server RS(2) started listening for new connections on address 0.0.0.0 port 8989
[09/Sep/2016:10:54:14 +0000] category=SYNC severity=NOTICE msgID=org.opends.messages.replication.62 msg=Directory server DS(3) has connected to replication server RS(2) for domain "dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu" at midpoint.testbed.tier.internet2.edu/127.0.0.1:8989 with generation ID 79441
[09/Sep/2016:10:54:14 +0000] category=PROTOCOL severity=NOTICE msgID=org.opends.messages.protocol.276 msg=Started listening for new connections on Administration Connector 0.0.0.0 port 5444
[09/Sep/2016:10:54:14 +0000] category=PROTOCOL severity=NOTICE msgID=org.opends.messages.protocol.276 msg=Started listening for new connections on LDAPS Connection Handler 0.0.0.0 port 636
[09/Sep/2016:10:54:14 +0000] category=PROTOCOL severity=NOTICE msgID=org.opends.messages.protocol.276 msg=Started listening for new connections on LDAP Connection Handler 0.0.0.0 port 389
[09/Sep/2016:10:54:14 +0000] category=CORE severity=NOTICE msgID=org.opends.messages.core.135 msg=The Directory Server has started successfully
[09/Sep/2016:10:54:14 +0000] category=CORE severity=NOTICE msgID=org.opends.messages.core.139 msg=The Directory Server has sent an alert notification generated by class org.opends.server.core.DirectoryServer (alert type org.opends.server.DirectoryServerStarted, alert ID org.opends.messages.core-135): The Directory Server has started successfully

- failed attempt (subtle and not-so-subtle format errors in the ldif file)

midpoint#>cat  /opt/opendj/logs/server.out

[08/Sep/2016:22:18:13 +0000] category=EXTENSIONS severity=NOTICE msgID=org.opends.messages.extension.571 msg=Loaded extension from file '/opt/opendj/lib/extensions/snmp-mib2605.jar' (build 3.0.0, revision 185acee3ba68d8da1782007eebacb3701dc996d6)
[08/Sep/2016:22:18:13 +0000] category=CORE severity=NOTICE msgID=org.opends.messages.core.134 msg=OpenDJ 3.0.0 (build 20160108162510, revision number 185acee3ba68d8da1782007eebacb3701dc996d6) starting up

[08/Sep/2016:22:18:13 +0000] category=CORE severity=ERROR msgID=org.opends.messages.config.192

msg=Schema configuration file 90-eduMember-200507generic.ldif in directory /opt/opendj/config/schema cannot be parsed because an unexpected error occurred while trying to read its contents as an LDIF entry: Unable to parse LDIF entry starting at line 10 because the line

"Attributetype ( 1.3.6.1.4.1.5923.1.5.1.1   NAME 'isMemberOf'   DESC 'identifiers for groups to which containing entity belongs'   EQUALITY caseExactMatch   SYNTAX '1.3.6.1.4.1.1466.115.121.1.15' )"

does not include an attribute name (id=org.opends.messages.utility-6)

[08/Sep/2016:22:18:13 +0000] category=CORE severity=ERROR msgID=org.opends.messages.config.193 msg=Unable to parse an attribute type definition from schema configuration file 90-eduPerson-201602generic.ldif: The provided value "( 1.3.6.1.4.1.5923.1.1.1.1   NAME 'eduPersonAffiliation'   DESC 'eduPerson per Internet2 and EDUCAUSE'   EQUALITY caseIgnoreMatch   SUBSTR caseIgnoreSubstringsMatch   SYNTAX '1.3.6.1.4.1.1466.115.121.1.15' )" could not be parsed as an attribute type description because the numeric OID contained an illegal character ' at position 174
...

_____________________
h6. 2016-09-08 17:23  paul caskey spun up a vm for demo.testbed..

Paul,

Excellent!  Please set up accounts for me, kh, and Jim Jokl, jaj for now.

You could grab the authorized_keys files from midpoint.testbed…   /home/kh/.ssh and /home/jaj/.ssh

             With appreciation,   --Keith
___________________________________
email & jabber: keith.hazelton@wisc.edu
calendar: http://go.wisc.edu/i6zxx0

From: Paul Caskey <pcaskey@internet2.edu>
Date: Thursday, September 8, 2016 at 17:18
To: Keith Hazelton <keith.hazelton@wisc.edu>
Cc: Bill Kaufman <wkaufman@internet2.edu>, Jim Jokl <jaj@virginia.edu>
Subject: RE: Installing and configuring Shib IdP v 3.2.1 on the TIER workbench platform

OK, we’ll use that name. [demo.testbed.tier.internet2.edu]

The new VM is up at IP 52.39.215.4, but there’s no DNS entry yet.  I’ve sent the request to TSG.

Who needs an account?


_____________________
h6. 2016-09-08 15:13  add eduPerson* to OpenDJ schema

"The files below are meant to be copied into config/schema directory while the server is off (or restart the server to be loaded)" -- per https://wikis.forgerock.org/confluence/display/OPENDJ/Extend+OpenDJ+Schema


midpoint#>ls -la /opt/opendj/config/schema

total 388
drwxr-xr-x. 2 root root   4096 Sep  8 18:14 .
drwxr-xr-x. 8 root root   4096 Sep  5 19:42 ..
-rw-r--r--. 1 root root  44096 Sep  2 16:09 00-core.ldif
-rw-r--r--. 1 root root   6545 Sep  2 16:09 01-pwpolicy.ldif
-rw-r--r--. 1 root root 200763 Sep  2 16:09 02-config.ldif
-rw-r--r--. 1 root root   5007 Sep  2 16:09 03-changelog.ldif
-rw-r--r--. 1 root root   1227 Sep  2 16:09 03-pwpolicyextension.ldif
-rw-r--r--. 1 root root   3510 Sep  2 16:09 03-rfc2713.ldif
-rw-r--r--. 1 root root   2082 Sep  2 16:09 03-rfc2714.ldif
-rw-r--r--. 1 root root   3184 Sep  2 16:09 03-rfc2739.ldif
-rw-r--r--. 1 root root   3221 Sep  2 16:09 03-rfc2926.ldif
-rw-r--r--. 1 root root   1659 Sep  2 16:09 03-rfc3112.ldif
-rw-r--r--. 1 root root  12601 Sep  2 16:09 03-rfc3712.ldif
-rw-r--r--. 1 root root  15807 Sep  2 16:09 03-uddiv3.ldif
-rw-r--r--. 1 root root  12156 Sep  2 16:09 04-rfc2307bis.ldif
-rw-r--r--. 1 root root   6288 Sep  2 16:09 05-rfc4876.ldif
-rw-r--r--. 1 root root  12172 Sep  2 16:09 05-samba.ldif
-rw-r--r--. 1 root root  14090 Sep  2 16:09 05-solaris.ldif
-rw-r--r--. 1 root root   1309 Sep  2 16:09 06-compat.ldif
-rw-r--r--. 1 root root   1577 Sep  8 18:10 90-eduMember-200507generic.ldif
-rw-r--r--. 1 root root   5149 Sep  8 18:10 90-eduPerson-201602generic.ldif

systemctl restart opendj

ldapsearch -p 5444 -Z -X -D cn="Directory Manager" -w entreg007 -s sub -b 'cn=schema' 'objectclass=*'

_____________________
h6. 2016-09-08 15:09  James Babb on Grouper <==> LDAP; Paul Caskey on ShibIdP <==> LDAP

- added pcaskey and james as users w sudo privs (wheel group)

- create an ldap entry for uid=shibidp, ou=Administrators,....So it can bind with its own identity

midpoint#>ldapmodify -p 389 -D "cn=Directory Manager" -W -c -a -f /usr/local/src/shibidp.ldif
Password for user 'cn=Directory Manager':
Processing ADD request for uid=shibidp,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
ADD operation successful for DN uid=shibidp,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
midpoint#>packet_write_wait: Connection to 52.88.142.178: Broken pipe
KeithsOfficeMBP:~ khazelton$
KeithsOfficeMBP:~ khazelton$
KeithsOfficeMBP:~ khazelton$ ssh kh@midpoint.testbed.tier.internet2.edu
Last login: Thu Sep  8 19:08:48 2016 from 68-190-167-202.dhcp.eucl.wi.charter.com
[kh@midpoint ~]$ ls -la /usr/local/src
total 56
drwxr-xr-x.  2 root root 4096 Sep  8 19:54 .
drwxr-xr-x. 12 root root 4096 Feb 22  2016 ..
-rw-r--r--.  1 root root  561 Sep  2 02:00 addAdmin.ldif
-rw-r--r--.  1 root root  245 Sep  2 01:31 addPeopleAci4idm.ldif
-rw-------.  1 root root  154 Sep  1 21:16 backup.ldif
-rw-r--r--.  1 root root  216 Sep  1 20:58 base.ldif
-rw-r--r--.  1 root root  840 Aug 31 23:52 consumer.py
-rw-r--r--.  1 root root  559 Aug 31 21:47 credCheck.py
-rw-r--r--.  1 root root  925 Aug 31 23:42 producer.py
-rw-r--r--.  1 root root  466 Aug 30 18:07 receive.py
-rw-r--r--.  1 root root  371 Aug 30 17:58 send.py
-rw-r--r--.  1 root root  376 Sep  8 19:54 shibidp.ldif
-rw-r--r--.  1 root root   53 Aug 31 13:00 simple.cfg
-rw-r--r--.  1 root root 1931 Sep  2 21:16 tierBase.ldif

[kh@midpoint ~]$ cat /usr/local/src/shibidp.ldif

dn: uid=shibidp, ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
changetype: add
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
uid: idm
cn: IDM Administrator
sn: IDM Administrator
description: Special LDAP acccount used by the IDM
  to access the LDAP data.
ou: Administrators
userPassword:
_____________________
h6. 2016-09-08 09:56  setting up accounts for workbench elves James Babb and Paul Caskey

midpoint#>cat /etc/sudoers
## Sudoers allows particular users to run various commands as
## the root user, without needing the root password.
##
## Examples are provided at the bottom of the file for collections
## of related commands, which can then be delegated out to particular
## users or groups.
##
## This file must be edited with the 'visudo' command.
...
## Read drop-in files from /etc/sudoers.d (the # here does not mean a comment)
#includedir /etc/sudoers.d

midpoint#>ls -la /etc/sudoers.d

total 16
drwxr-x---.  2 root root   32 Mar 31 13:09 .
drwxr-xr-x. 93 root root 8192 Sep  8 09:55 ..
-r--r-----.  1 root root  123 Aug 11 13:12 90-cloud-init-users

midpoint#>cat /etc/sudoers.d/90-cloud-init-users
# Created by cloud-init v. 0.7.5 on Thu, 11 Aug 2016 17:12:45 +0000

# User rules for centos
centos ALL=(ALL) NOPASSWD:ALL

midpoint#>lid centos
 adm(gid=4)
 wheel(gid=10)
 systemd-journal(gid=190)
 centos(gid=1000)

midpoint#>lid kh
 wheel(gid=10)
 kh(gid=5501)

midpoint#>usermod -a -G wheel james

midpoint#>lid james
 wheel(gid=10)
 james(gid=5502)

...

midpoint#>useradd pcaskey
midpoint#>passwd pcaskey
Changing password for user pcaskey.
New password:
Retype new password:
passwd: all authentication tokens updated successfully.

midpoint#>usermod -a -G wheel pcaskey

midpoint#>lid pcaskey
 wheel(gid=10)
 pcaskey(gid=5503)

midpoint#>mkdir /home/pcaskey/.ssh
midpoint#>vi /home/pcaskey/.ssh/authorized_keys
midpoint#>cat /home/pcaskey/.ssh/authorized_keys
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDZ3+4TSLAruT/RLBHL9aGTDeP4I0XxuqICWj1Ag8H+JVdwrRtW7uGFiFrTbqqfCsBKFIgl64C3ioRixzA4RW8SxeGQj33xJAR+B9EdJg1neIaCwPAdm0snv7A0sRU/0PltHInd2Dcm6EzjIfzyMMPc+t78p9kgyisIKxOTKTjT+Ucty3HoxL2g4Vs3o3T61aM+k1mBGPYIoJxpRkNKho/VviTkJiooemKl4w5sXAzxY7FNpJ18Ir/iUo4hk1Z2766EDObaM1CECSXrEAfo0LA6LbV9ns4BJ1xq9HS4DWxJ6rp1YJcsmihX6nBjnvkM4h+ihjZgxi4iYVWxmAX7OjLV "SSH Key"
midpoint#>chown pcaskey:pcaskey /home/pcaskey/.ssh/authorized_keys
midpoint#>chown pcaskey:pcaskey /home/pcaskey/.ssh

midpoint#>ls -la /home/pcaskey/.ssh

total 4
drwxr-xr-x. 2 pcaskey pcaskey  28 Sep  8 11:09 .
drwx------. 3 pcaskey pcaskey  70 Sep  8 11:08 ..
-rw-r--r--. 1 pcaskey pcaskey 391 Sep  8 11:09 authorized_keys
midpoint#>ls -la /home
total 16
drwxr-xr-x.  9 root      root        92 Sep  8 11:04 .
dr-xr-xr-x. 17 root      root      4096 Feb 22  2016 ..
drwx------.  3 benno     benno       90 Aug 11 14:48 benno
drwx------.  4 centos    centos    4096 Sep  1 14:50 centos
drwx------.  3 jaj       jaj         90 Aug 11 14:50 jaj
drwx------.  3 james     james     4096 Sep  8 10:43 james
drwx------.  6 kh        kh        4096 Sep  7 17:17 kh
drwx------.  3 khazelton khazelton   90 Aug 24 17:47 khazelton
drwx------.  3 pcaskey   pcaskey     70 Sep  8 11:08 pcaskey
midpoint#>usermod -a -G wheel pcaskey

midpoint#>lid pcaskey
 wheel(gid=10)
 pcaskey(gid=5503)

----------
Paul,

Many thanks!  This is a real confidence-booster.

Give it a whirl.  Password (if you need it) entreg007.  ssh pkcaskey@midpoint.testbed.tier.internet2.edu
.ssh/authorized_keys in place.

The user attributes could be pulled from the workbench LDAP instance (on OpenDJ 3.0.0). I’ll set up a cn=shibidp entry in ou=Administrators which should give you full access.
        --Keith
___________________________________
email & jabber: keith.hazelton@wisc.edu
calendar: http://go.wisc.edu/i6zxx0

From: Paul Caskey <pcaskey@internet2.edu>
Date: Thursday, September 8, 2016 at 10:00
To: Keith Hazelton <keith.hazelton@wisc.edu>
Cc: Bill Kaufman <wkaufman@internet2.edu>
Subject: RE: Installing and configuring Shib IdP v 3.2.1 on the TIER workbench platform

Hi Keith-

Would love to help!

If this is in the TIER testbed in AWS, I’m an admin in that AWS account, so I can help there as well if we need additional VMs provisioned or accounts created, etc.

Preferred username is pcaskey and here’s my public key:

ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDZ3+4TSLAruT/RLBHL9aGTDeP4I0XxuqICWj1Ag8H+JVdwrRtW7uGFiFrTbqqfCsBKFIgl64C3ioRixzA4RW8SxeGQj33xJAR+B9EdJg1neIaCwPAdm0snv7A0sRU/0PltHInd2Dcm6EzjIfzyMMPc+t78p9kgyisIKxOTKTjT+Ucty3HoxL2g4Vs3o3T61aM+k1mBGPYIoJxpRkNKho/VviTkJiooemKl4w5sXAzxY7FNpJ18Ir/iUo4hk1Z2766EDObaM1CECSXrEAfo0LA6LbV9ns4BJ1xq9HS4DWxJ6rp1YJcsmihX6nBjnvkM4h+ihjZgxi4iYVWxmAX7OjLV "SSH Key"


Thanks – looking forward to working on this!
_____________________
h6. 2016-09-07 13:36  collation issue solved, Grouper up

From: Keith Hazelton <keith.hazelton@wisc.edu>
Date: Wednesday, September 7, 2016 at 12:41
To: "grouper-users@internet2.edu" <grouper-users@internet2.edu>
Subject: Re: [grouper-users] Grouper 2.3.0 startup error: Queries seem to be case insensitive

Thanks to further suggestions from Michael Gettes this is fixed and I have Grouper 2.3.0 is up and running with Mariadb.

The key was the default INSTALL-TIME settings for Mariadb as set in /var/lib/mysql/grouperdb/db.opt

Once those were corrected I dropped the grouper database completely and recreated it. Now it’s using the defaults defined in db.opt:

cat /var/lib/mysql/grouperdb/db.opt
default-character-set=utf8
default-collation=utf8_bin

A remaining question for the list is why aren’t the /var/lib/mysql/grouperdb/db.opt contents right to begin with?
_____________________
h6. 2016-09-07 05:05  still fighting collation / char set issues

- sent email to grouper-users.           I guess I can always switch to postgres  =))
__________________________________________

Thanks, Scott.  I had high hopes that this would fix the case insensitivity issues I’m having with a fresh install of Grouper-2.3.0 using MariaDB.

I’m still getting the same registry build time error. The following are relevant bits of console log on my most recent attempts.  I’ve used comment blocks like the following example to annotate things a bit.

##################
#
# My comment on what’s going on
#
##################

I searched the grouper-user archives, and didn’t find anything on this particular issue.

             Thanks in advance for further assistance,    ---Keith


########################
#
#  KeithH: Showing my configuration related to use of MariaDB
#  and so-far-unsuccessful attempts to get Grouper to support case-sensitive queries
#
########################

midpoint#>cat /etc/my.cnf

[client]
default-character-set=utf8

[mysqld]
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
collation-server = utf8_bin
init-connect='SET NAMES utf8'
character-set-server = utf8

# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0
# Settings user and group are ignored when systemd is used.
# If you need to run mysqld under a different user or group,
# customize your systemd unit file for mariadb according to the
# instructions in http://fedoraproject.org/wiki/Systemd

[mysqld_safe]
log-error=/var/log/mariadb/mariadb.log
pid-file=/var/run/mariadb/mariadb.pid

#
# include all files from the config directory
#
!includedir /etc/my.cnf.d

########################
#
# all my.cnf.d files edited to include:
#
# collation-server = utf8_bin
# init-connect='SET NAMES utf8'
# character-set-server = utf8
#
########################

ls -la /etc/my.cnf.d

drwxr-xr-x.  2 root root 4096 Sep  6 20:56 .
drwxr-xr-x. 93 root root 8192 Sep  6 21:37 ..
-rw-r--r--.  1 root root  351 Sep  5 21:48 client.cnf
-rw-r--r--.  1 root root  295 Sep  5 21:45 client.cnf.orig
-rw-r--r--.  1 root root  260 Sep  5 21:58 mysql-clients.cnf
-rw-r--r--.  1 root root  232 Sep  5 21:57 mysql-clients.cnf.orig
-rw-r--r--.  1 root root  744 Jun 16 15:08 server.cnf


########################
#
# Hibernate properties check
#
########################

midpoint#>vi /opt/grouper/grouper.apiBinary-2.3.0/conf/grouper.hibernate.properties

midpoint#>cat /opt/grouper/grouper.apiBinary-2.3.0/conf/grouper.hibernate.properties

#
# Copyright 2014 Internet2
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#   http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

#
# Grouper Hibernate Configuration
# $Id: grouper.hibernate.example.properties,v 1.9 2009-08-11 20:18:09 mchyzer Exp $
#

# The grouper hibernate config uses Grouper Configuration Overlays (documented on wiki)
# By default the configuration is read from grouper.hibernate.base.properties
# (which should not be edited), and the grouper.hibernate.properties overlays
# the base settings.  See the grouper.hibernate.base.properties for the possible
# settings that can be applied to the grouper.hibernate.properties

########################################
## DB settings
########################################

# e.g. mysql:           jdbc:mysql://localhost:3306/grouper
# e.g. p6spy (log sql): [use the URL that your DB requires]
# e.g. oracle:          jdbc:oracle:thin:@server.school.edu:1521:sid
# e.g. hsqldb (a):      jdbc:hsqldb:dist/run/grouper;create=true
# e.g. hsqldb (b):      jdbc:hsqldb:hsql://localhost:9001/grouper
# e.g. postgres:        jdbc:postgresql://localhost:5432/database
# e.g. mssql:           jdbc:sqlserver://localhost:3280;databaseName=grouper

########################
#
# Note the following two properties
#
########################

# --> khazelton <-- added at suggestion of Scott Koranda
hibernate.connection.driver_class = org.mariadb.jdbc.Driver
hibernate.dialect = org.hibernate.dialect.MySQL5Dialect
# --> end edit <--

hibernate.connection.url = jdbc:mysql://localhost:3306/grouper?autoReconnect=true&CharSet=utf8&useUnicode=true&characterEncoding=utf8&sessionVariables=wait_timeout=120960

hibernate.connection.username         = sa
# If you are using an empty password, depending upon your version of
# Java and Ant you may need to specify a password of "".
# Note: you can keep passwords external and encrypted: https://bugs.internet2.edu/jira/browse/GRP-122
hibernate.connection.password..............

########################
#
# put the latest 1.5.2 MariaDB driver .jar file in the right places
#
########################

midpoint#>cp /home/kh/mariadb-java-client-1.5.2.jar /opt/grouper/grouper.apiBinary-2.3.0/lib/custom
midpoint#>cp /home/kh/mariadb-java-client-1.5.2.jar /opt/grouper/grouper.apiBinary-2.3.0/lib
midpoint#>cp /home/kh/mariadb-java-client-1.5.2.jar /opt/grouper/grouper.apiBinary-2.3.0/lib/grouper
midpoint#>cp /home/kh/mariadb-java-client-1.5.2.jar /opt/grouper/grouper.apiBinary-2.3.0/lib/test

########################
#
# re-initialize the registry now that proper drivers and .cnf edits are in place
#
########################

midpoint#>export GROUPER_HOME=/opt/grouper/grouper.apiBinary-2.3.0

midpoint#>$GROUPER_HOME/bin/gsh.sh -registry -reset

Using GROUPER_HOME: /opt/grouper/grouper.apiBinary-2.3.0
Using GROUPER_CONF: /opt/grouper/grouper.apiBinary-2.3.0/conf
Using JAVA: /etc/alternatives/java_sdk_1.7.0/bin/java
using MEMORY: 64m-750m
(note, might need to type in your response multiple times (Java stdin is flaky))
(note, you can whitelist or blacklist db urls and users in the grouper.properties)
Are you sure you want to delete all grouper data in db user 'sa', db url 'jdbc:mysql://localhost:3306/grouper?autoReconnect=true&CharSet=utf8&useUnicode=true&characterEncoding=utf8&sessionVariables=wait_timeout=120960'? (y|n):
y
Continuing...
Grouper starting up: version: 2.3.0, build date: 2016/04/16 05:37:21, env: <no label configured>
grouper.properties read from: /opt/grouper/grouper.apiBinary-2.3.0/conf/grouper.properties
Grouper current directory is: /opt/grouper.installer-2.3.0
log4j.properties read from:   /opt/grouper/grouper.apiBinary-2.3.0/conf/log4j.properties
Grouper is logging to file:   /opt/grouper/grouper.apiBinary-2.3.0/logs/grouper_error.log, at min level WARN for package: edu.internet2.middleware.grouper, based on log4j.properties
grouper.hibernate.properties: /opt/grouper/grouper.apiBinary-2.3.0/conf/grouper.hibernate.properties
grouper.hibernate.properties: sa@jdbc:mysql://localhost:3306/grouper?autoReconnect=true&CharSet=utf8&useUnicode=true&characterEncoding=utf8&sessionVariables=wait_timeout=120960
sources.xml read from:        /opt/grouper/grouper.apiBinary-2.3.0/conf/sources.xml
sources.xml groupersource id: g:gsa
sources.xml groupersource id: grouperEntities
sources.xml jdbc source id:   jdbc: GrouperJdbcConnectionProvider

########################
#
# This is where the error re case insensitivity shows up
#
########################

Error: Queries in your database seem to be case insensitive, this can be a problem for Grouper, if you are using MySQL you should use a bin collation

Grouper error: detected mismatch in hibernate.connection.driver_class (org.mariadb.jdbc.Driver) and hibernate.dialect (org.hibernate.dialect.MySQL5Dialect) in grouper.hibernate.properties
Grouper error: detected mismatch in hibernate.connection.driver_class (org.mariadb.jdbc.Driver) and hibernate.dialect (org.hibernate.dialect.MySQL5Dialect) in grouper.hibernate.properties

___________________________________
email & jabber: keith.hazelton@wisc.edu
calendar: http://go.wisc.edu/i6zxx0
__________________________________________

- per https://spaces.internet2.edu/pages/viewpage.action?pageId=14517958

for mariadb:
character-set-server = utf8
collation-server = utf8_bin

########################
#
#  KeithH: Showing my configuration related to use of MariaDB
#  and so-far-unsuccessful attempts to get Grouper to support case-sensitive queries
#
########################

midpoint#>cat /etc/my.cnf

[client]
default-character-set=utf8

[mysqld]
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
collation-server = utf8_bin
init-connect='SET NAMES utf8'
character-set-server = utf8
# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0
# Settings user and group are ignored when systemd is used.
# If you need to run mysqld under a different user or group,
# customize your systemd unit file for mariadb according to the
# instructions in http://fedoraproject.org/wiki/Systemd

[mysqld_safe]
log-error=/var/log/mariadb/mariadb.log
pid-file=/var/run/mariadb/mariadb.pid

#
# include all files from the config directory
#
!includedir /etc/my.cnf.d

########################
#
# all .cnf files edited to include:
#
# collation-server = utf8_bin
# init-connect='SET NAMES utf8'
# character-set-server = utf8
#
########################

ls -la /etc/my.cnf.d

drwxr-xr-x.  2 root root 4096 Sep  6 20:56 .
drwxr-xr-x. 93 root root 8192 Sep  6 21:37 ..
-rw-r--r--.  1 root root  351 Sep  5 21:48 client.cnf
-rw-r--r--.  1 root root  295 Sep  5 21:45 client.cnf.orig
-rw-r--r--.  1 root root  260 Sep  5 21:58 mysql-clients.cnf
-rw-r--r--.  1 root root  232 Sep  5 21:57 mysql-clients.cnf.orig
-rw-r--r--.  1 root root  744 Jun 16 15:08 server.cnf


########################
#
# Hibernate properties check
#
########################

midpoint#>vi /opt/grouper/grouper.apiBinary-2.3.0/conf/grouper.hibernate.properties

midpoint#>cat /opt/grouper/grouper.apiBinary-2.3.0/conf/grouper.hibernate.properties

#
# Copyright 2014 Internet2
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#   http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

#
# Grouper Hibernate Configuration
# $Id: grouper.hibernate.example.properties,v 1.9 2009-08-11 20:18:09 mchyzer Exp $
#

# The grouper hibernate config uses Grouper Configuration Overlays (documented on wiki)
# By default the configuration is read from grouper.hibernate.base.properties
# (which should not be edited), and the grouper.hibernate.properties overlays
# the base settings.  See the grouper.hibernate.base.properties for the possible
# settings that can be applied to the grouper.hibernate.properties

########################################
## DB settings
########################################

# e.g. mysql:           jdbc:mysql://localhost:3306/grouper
# e.g. p6spy (log sql): [use the URL that your DB requires]
# e.g. oracle:          jdbc:oracle:thin:@server.school.edu:1521:sid
# e.g. hsqldb (a):      jdbc:hsqldb:dist/run/grouper;create=true
# e.g. hsqldb (b):      jdbc:hsqldb:hsql://localhost:9001/grouper
# e.g. postgres:        jdbc:postgresql://localhost:5432/database
# e.g. mssql:           jdbc:sqlserver://localhost:3280;databaseName=grouper

########################
#
# Note the following two properties
#
########################

# --> khazelton <-- added at suggestion of Scott Koranda
hibernate.connection.driver_class = org.mariadb.jdbc.Driver
hibernate.dialect = org.hibernate.dialect.MySQL5Dialect
# --> end edit <--

hibernate.connection.url = jdbc:mysql://localhost:3306/grouper?autoReconnect=true&CharSet=utf8&useUnicode=true&characterEncoding=utf8&sessionVariables=wait_timeout=120960

hibernate.connection.username         = sa
# If you are using an empty password, depending upon your version of
# Java and Ant you may need to specify a password of "".
# Note: you can keep passwords external and encrypted: https://bugs.internet2.edu/jira/browse/GRP-122
hibernate.connection.password..............

########################
#
# put the latest 1.5.2 MariaDB driver .jar file in the right places
#
########################

midpoint#>cp /home/kh/mariadb-java-client-1.5.2.jar /opt/grouper/grouper.apiBinary-2.3.0/lib/custom
midpoint#>cp /home/kh/mariadb-java-client-1.5.2.jar /opt/grouper/grouper.apiBinary-2.3.0/lib
midpoint#>cp /home/kh/mariadb-java-client-1.5.2.jar /opt/grouper/grouper.apiBinary-2.3.0/lib/grouper
midpoint#>cp /home/kh/mariadb-java-client-1.5.2.jar /opt/grouper/grouper.apiBinary-2.3.0/lib/test

########################
#
# re-initialize the registry now that proper drivers and .cnf edits are in place
#
########################

midpoint#>export GROUPER_HOME=/opt/grouper/grouper.apiBinary-2.3.0

midpoint#>$GROUPER_HOME/bin/gsh.sh -registry -reset

Using GROUPER_HOME: /opt/grouper/grouper.apiBinary-2.3.0
Using GROUPER_CONF: /opt/grouper/grouper.apiBinary-2.3.0/conf
Using JAVA: /etc/alternatives/java_sdk_1.7.0/bin/java
using MEMORY: 64m-750m
(note, might need to type in your response multiple times (Java stdin is flaky))
(note, you can whitelist or blacklist db urls and users in the grouper.properties)
Are you sure you want to delete all grouper data in db user 'sa', db url 'jdbc:mysql://localhost:3306/grouper?autoReconnect=true&CharSet=utf8&useUnicode=true&characterEncoding=utf8&sessionVariables=wait_timeout=120960'? (y|n):
y
Continuing...
Grouper starting up: version: 2.3.0, build date: 2016/04/16 05:37:21, env: <no label configured>
grouper.properties read from: /opt/grouper/grouper.apiBinary-2.3.0/conf/grouper.properties
Grouper current directory is: /opt/grouper.installer-2.3.0
log4j.properties read from:   /opt/grouper/grouper.apiBinary-2.3.0/conf/log4j.properties
Grouper is logging to file:   /opt/grouper/grouper.apiBinary-2.3.0/logs/grouper_error.log, at min level WARN for package: edu.internet2.middleware.grouper, based on log4j.properties
grouper.hibernate.properties: /opt/grouper/grouper.apiBinary-2.3.0/conf/grouper.hibernate.properties
grouper.hibernate.properties: sa@jdbc:mysql://localhost:3306/grouper?autoReconnect=true&CharSet=utf8&useUnicode=true&characterEncoding=utf8&sessionVariables=wait_timeout=120960
sources.xml read from:        /opt/grouper/grouper.apiBinary-2.3.0/conf/sources.xml
sources.xml groupersource id: g:gsa
sources.xml groupersource id: grouperEntities
sources.xml jdbc source id:   jdbc: GrouperJdbcConnectionProvider

########################
#
# This is where the error re case insensitivity shows up
#
########################

Error: Queries in your database seem to be case insensitive, this can be a problem for Grouper, if you are using MySQL you should use a bin collation

Grouper error: detected mismatch in hibernate.connection.driver_class (org.mariadb.jdbc.Driver) and hibernate.dialect (org.hibernate.dialect.MySQL5Dialect) in grouper.hibernate.properties
Grouper error: detected mismatch in hibernate.connection.driver_class (org.mariadb.jdbc.Driver) and hibernate.dialect (org.hibernate.dialect.MySQL5Dialect) in grouper.hibernate.properties
_____________________
h6. 2016-09-06 18:21  Grouper mariaDB collation issues

https://mariadb.com/kb/en/mariadb/supported-character-sets-and-collations/

- thought wrongly that this was a clue:
"
A 'ci' at the end of a collation name indicates the collation is case insensitive.
A 'cs' at the end of a collation name indicates the collation is case sensitive.
"

e.g.
utf8_general_ci
utf8_general_cs


midpoint#>vi /etc/my.cnf.d/server.cnf

#
# These groups are read by MariaDB server.
# Use it for options that only the server (but not clients) should see
#
# See the examples of server my.cnf files in /usr/share/mysql/
#

# this is read by the standalone daemon and embedded servers
[server]

# this is only for the mysqld standalone daemon
[mysqld]

# this is only for embedded server
[embedded]

# This group is only read by MariaDB-5.5 servers.
# If you use the same .cnf file for MariaDB of different versions,
# use this group for options that older servers don't understand
[mysqld-5.5]

# These two groups are only read by MariaDB servers, not by MySQL.
# If you use the same .cnf file for MySQL and MariaDB,
# you can put MariaDB-only options here
[mariadb]

[mariadb-5.5]


midpoint#>cat /etc/my.cnf

[mysqld]
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
collation-server = utf8_unicode_ci
init-connect='SET NAMES utf8'
character-set-server = utf8

# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0
# Settings user and group are ignored when systemd is used.
# If you need to run mysqld under a different user or group,
# customize your systemd unit file for mariadb according to the
# instructions in http://fedoraproject.org/wiki/Systemd

[mysqld_safe]
log-error=/var/log/mariadb/mariadb.log
pid-file=/var/run/mariadb/mariadb.pid

#
# include all files from the config directory
#
!includedir /etc/my.cnf.d


midpoint#>cat /etc/my.cnf.orig

[mysqld]
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock

# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0
# Settings user and group are ignored when systemd is used.
# If you need to run mysqld under a different user or group,
# customize your systemd unit file for mariadb according to the
# instructions in http://fedoraproject.org/wiki/Systemd

[mysqld_safe]
log-error=/var/log/mariadb/mariadb.log
pid-file=/var/run/mariadb/mariadb.pid

#
# include all files from the config directory
#
!includedir /etc/my.cnf.d

_____________________
h6. 2016-09-06 16:09  Grouper mariaDB collation issues

- get the driver file ScottK mentioned: org.mariadb.jdbc.Driver



https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client/1.5.2
https://mariadb.com/kb/en/mariadb/about-mariadb-connector-j/

/opt/grouper-2.3.0/grouper.apiBinary-2.3.0
midpoint#>ls -la
total 76
drwxr-xr-x. 10 root root  4096 Sep  5 19:20 .
drwxr-xr-x. 45 root root  8192 Sep  6 09:13 ..
drwxr-xr-x.  5 root root  4096 Sep  5 18:59 api
-rw-r--r--.  1 root root  2617 Sep  5 18:59 API.txt
drwxr-xr-x.  2 root root    92 Sep  5 18:59 bin
drwxr-xr-x.  3 root root  4096 Sep  6 08:45 conf
drwxr-xr-x.  2 root root  4096 Sep  6 07:55 ddlScripts
drwxr-xr-x.  3 root root    16 Sep  5 18:59 dist
-rw-r--r--.  1 root root  3799 Sep  5 19:16 grouperPatchStatus.properties
-rw-r--r--.  1 root root   239 Sep  6 07:58 gshAddGrouperSystemWsGroup.gsh
drwxr-xr-x.  7 root root    89 Sep  5 18:59 lib
-rw-r--r--.  1 root root 12053 Sep  5 18:59 LICENSE.txt
drwxr-xr-x.  2 root root  4096 Sep  6 00:00 logs
drwxr-xr-x.  2 root root  4096 Sep  5 18:59 misc
-rw-------.  1 root root  1497 Sep  5 19:20 nohup.out
-rw-r--r--.  1 root root  1842 Sep  5 18:59 README.txt
-rw-r--r--.  1 root root  7386 Sep  5 18:59 SOURCE_README.txt



Hi,

I use this in my grouper.hibernate.properties:

hibernate.connection.driver_class = org.mariadb.jdbc.Driver
hibernate.dialect = org.hibernate.dialect.MySQL5Dialect
hibernate.connection.url = jdbc:mysql://my.host:3306/grouper?autoReconnect=true&CharSet=utf8&useUnicode=true&characterEncoding=utf8&sessionVariables=wait_timeout=1209600
hibernate.connection.username = grouper
hibernate.connection.password = MY_PASSWORD

Scott K
_____________________
h6. 2016-09-06 13:18  ldap password modifications

midpoint#>ldappasswordmodify -p 5444 --useSSL -D "cn=Directory Manager" -w entreg007 -a "u:keith" -N /var/local/x

The server is using the following certificate:
    Subject DN:  CN=midpoint, O=Administration Connector RSA Self-Signed Certificate
    Issuer DN:  CN=midpoint, O=Administration Connector RSA Self-Signed Certificate
    Validity:  Fri Sep 02 16:09:35 EDT 2016 through Thu Aug 28 16:09:35 EDT 2036
Do you wish to trust this certificate and continue connecting to the server?
Please enter "yes" or "no":yes

The LDAP password modify operation was successful

_____________________
h6. 2016-09-06 11:04  Grouper

Ports that need to be open for AMQP 0.9.1 message traffic with and without TLS include 5671 and 5672.

Port 514 would be used for syslog and port 10514 would be used for TCP and UDP for TLS-enabled Rsyslog.

- email w JimJ

Let’s start with ldap(s).

From my office machine this port 636 (secured) ldapsearch command fails

ldapsearch -D "cn=Directory Manager" -w {###} -p 636 -Z -h midpoint.testbed.tier.internet2.edu -b "dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu" -s sub "(objectclass=*)"
ldap_start_tls: Can't contact LDAP server (-1)
ldap_sasl_bind(SIMPLE): Can't contact LDAP server (-1)

From localhost on midpoint.testbed… the same exact command works successfully.

From my office machine this port 389 (unsecured) ldapsearch command also fails:

ldapsearch -D "cn=Directory Manager" -w {###} -p 389 -h midpoint.testbed.tier.internet2.edu -b "dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu" -s sub "(objectclass=*)"
ldap_sasl_bind(SIMPLE): Can't contact LDAP server (-1)

From localhost on midpoint.testbed… the same exact command works successfully.

It would be handy if port 636 were open so I could use remote graphical LDAP admin tools like jxplorer to connect via ldaps to the OpenDJ LDAP server running at midpoint.testbed.tier.internet2.edu.

Does this help?

            With appreciation,   --Keith
___________________________________
email & jabber: keith.hazelton@wisc.edu
calendar: http://go.wisc.edu/i6zxx0

From: Jim Jokl <jaj@virginia.edu>
Date: Tuesday, September 6, 2016 at 08:58
To: Keith Hazelton <keith.hazelton@wisc.edu>
Subject: RE: port issues

Keith,

What IP address are you trying to use?

Ip addr on midpoint shows an interface ip address of: 172.31.6.112

	Unavailable from outside of course

This is one of the local aws networks for the testbed.
I can telnet to this address and 8088 and all is well.  Localhost also works as you mention.

Amazon maps this address via NAT to:

	Doesn’t really matter but the IP address is missing above.

I’m 99% sure that this address can change on reboot.

We have an elastic IP mapped to the public address of: 52.88.142.178
This is what is in DNS for midpoint and won’t change.

I guess my question is what you are trying to get to talk to what?  I’m sure we can make this work.

Jim
----------
From: Keith Hazelton [mailto:keith.hazelton@wisc.edu]
Sent: Tuesday, September 6, 2016 8:29 AM
To: Jokl, James A. (Jim) (jaj) <jaj@virginia.edu>
Subject: port issues

I am really enjoying my 8Gb, 2 core system.

However, I can’t connect over the network to midpoint.testbed.tier.internet2.edu on ports 8088 (Grouper UI) or 389 (OpenDJ LDAP server.

Both respond fine from localhost.

          Still looking for ideas,    --Keith

_____________________
h6. 2016-09-05 21:08  reinstalling Grouper

note error messages when using mariadb:
...
Error: Queries in your database seem to be case insensitive, this can be a problem for Grouper, if you are using MySQL you should use a bin collation
Error: Problems checking UTF and database features
...

Grouper not accessible over the network.

Still having grouperUi errors on tomcat startup:

2016-09-05 22:13:03,252: [pool-2-thread-1] ERROR GrouperStartup.verifyUtf8andTransactionsHelper(407) -  - Error: Queries in your database seem to be case insensitive, this can be a problem for Grouper, if you are using MySQL you should use a bin collation
2016-09-05 22:13:03,257: [pool-2-thread-1] ERROR GrouperStartup$1.callLogic(318) -  - Error: Problems checking UTF and database features
java.lang.RuntimeException: Problem with query in bysqlstatic: insert into grouper_ddl (id, object_name, history, db_version) values (?, ?, ?, 0),
Problem in HibernateSession: HibernateSession (39b23ca9): new, notReadonly, READ_WRITE_NEW, notActiveTransaction, session (7674427d)
	at edu.internet2.middleware.grouper.hibernate.BySql.executeSql(BySql.java:151)
	at edu.internet2.middleware.grouper.ddl.GrouperDdlUtils.storeDdl(GrouperDdlUtils.java:1942)
	at edu.internet2.middleware.grouper.ddl.GrouperDdlUtils$1.callback(GrouperDdlUtils.java:1910)
	at edu.internet2.middleware.grouper.hibernate.HibernateSession.callbackHibernateSession(HibernateSession.java:700)
	at edu.internet2.middleware.grouper.ddl.GrouperDdlUtils.storeAndReadUtfString(GrouperDdlUtils.java:1904)
	at edu.internet2.middleware.grouper.misc.GrouperStartup.verifyUtf8andTransactionsHelper(GrouperStartup.java:420)
	at edu.internet2.middleware.grouper.misc.GrouperStartup$1.callLogic(GrouperStartup.java:315)
	at edu.internet2.middleware.grouper.misc.GrouperStartup$1.callLogic(GrouperStartup.java:310)
	at edu.internet2.middleware.grouper.util.GrouperCallable.callLogicWithSessionIfExists(GrouperCallable.java:169)
	at edu.internet2.middleware.grouper.util.GrouperCallable.call(GrouperCallable.java:132)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.MysqlDataTruncation: Data truncation: Incorrect string value: '\xD9\xB9\xD9\xBA\xD9\xBB...' for column 'history' at row 1
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3876)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3814)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2478)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2625)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2551)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1861)
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2073)
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2009)
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5094)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1994)
	at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeUpdate(NewProxyPreparedStatement.java:384)
	at edu.internet2.middleware.grouper.hibernate.BySql.executeSql(BySql.java:146)
	... 13 more


- hints:  https://spaces.internet2.edu/display/Grouper/Grouper+internationalization
  and Scott Koranda back in March on Grouper-users

- ? reinstall Grouper once more to recreate the database, hopefully now with UTF8 support
  - no joy, same error
_____________________
h6. 2016-09-05 20:34  collation/char issues with mariadb

https://mariadb.com/kb/en/mariadb/setting-character-sets-and-collations/#example-changing-the-default-character-set-to-utf-8

To change the default character set from latin1 to UTF-8, the following settings should be specified in the my.cnf configuration file.

[client]
...
default-character-set=utf8
...
[mysql]
...
default-character-set=utf8
...
[mysqld]
...
collation-server = utf8_unicode_ci
init-connect='SET NAMES utf8'
character-set-server = utf8
...

- changes

midpoint#>cat /etc/my.cnf

[mysqld]
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
collation-server = utf8_unicode_ci
init-connect='SET NAMES utf8'
character-set-server = utf8
# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0
# Settings user and group are ignored when systemd is used.
# If you need to run mysqld under a different user or group,
# customize your systemd unit file for mariadb according to the
# instructions in http://fedoraproject.org/wiki/Systemd

[mysqld_safe]
log-error=/var/log/mariadb/mariadb.log
pid-file=/var/run/mariadb/mariadb.pid

#
# include all files from the config directory
#
!includedir /etc/my.cnf.d

midpoint#>cat /etc/my.cnf.d/client.cnf

#
# These two groups are read by the client library
# Use it for options that affect all clients, but not the server
#

[client]

# This group is not read by mysql client library,
# If you use the same .cnf file for MySQL and MariaDB,
# use it for MariaDB-only client options

default-character-set=utf8

[client-mariadb]

default-character-set=utf8

midpoint#>cat /etc/my.cnf.d/mysql-clients.cnf

#
# These groups are read by MariaDB command-line tools
# Use it for options that affect only one utility
#

[mysql]

default-character-set=utf8

[mysql_upgrade]

[mysqladmin]

[mysqlbinlog]

[mysqlcheck]

[mysqldump]

[mysqlimport]

[mysqlshow]

[mysqlslap]

- restart mariadb.service to pick up new character sets

_____________________
h6. 2016-09-05 20:14   collation/char issues with mariadb

midpoint#>mysql --help

mysql  Ver 15.1 Distrib 5.5.50-MariaDB, for Linux (x86_64) using readline 5.1
Copyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.

Usage: mysql [OPTIONS] [database]

Default options are read from the following files in the given order:
/etc/mysql/my.cnf /etc/my.cnf ~/.my.cnf
The following groups are read: mysql client client-server client-mariadb
The following options may be given as the first argument:
--print-defaults        Print the program argument list and exit.
--no-defaults           Don't read default options from any option file.
--defaults-file=#       Only read default options from the given file #.
--defaults-extra-file=# Read this file after the global files are read.

  -?, --help          Display this help and exit.
  -I, --help          Synonym for -?
  --abort-source-on-error
                      Abort 'source filename' operations in case of errors
  --auto-rehash       Enable automatic rehashing. One doesn't need to use
                      'rehash' to get table and field completion, but startup
                      and reconnecting may take a longer time. Disable with
                      --disable-auto-rehash.
                      (Defaults to on; use --skip-auto-rehash to disable.)
  -A, --no-auto-rehash
                      No automatic rehashing. One has to use 'rehash' to get
                      table and field completion. This gives a quicker start of
                      mysql and disables rehashing on reconnect.
  --auto-vertical-output
                      Automatically switch to vertical output mode if the
                      result is wider than the terminal width.
  -B, --batch         Don't use history file. Disable interactive behavior.
                      (Enables --silent.)
  --character-sets-dir=name
                      Directory for character set files.
  --column-type-info  Display column type information.
  -c, --comments      Preserve comments. Send comments to the server. The
                      default is --skip-comments (discard comments), enable
                      with --comments.
  -C, --compress      Use compression in server/client protocol.
  -#, --debug[=#]     This is a non-debug version. Catch this and exit.
  --debug-check       Check memory and open file usage at exit.
  -T, --debug-info    Print some debug info at exit.
  -D, --database=name Database to use.
  --default-character-set=name
                      Set the default character set.
  --delimiter=name    Delimiter to be used.
  -e, --execute=name  Execute command and quit. (Disables --force and history
                      file.)
  -E, --vertical      Print the output of a query (rows) vertically.
  -f, --force         Continue even if we get an SQL error. Sets
                      abort-source-on-error to 0
  -G, --named-commands
                      Enable named commands. Named commands mean this program's
                      internal commands; see mysql> help . When enabled, the
                      named commands can be used from any line of the query,
                      otherwise only from the first line, before an enter.
                      Disable with --disable-named-commands. This option is
                      disabled by default.
  -i, --ignore-spaces Ignore space after function names.
  --init-command=name SQL Command to execute when connecting to MySQL server.
                      Will automatically be re-executed when reconnecting.
  --local-infile      Enable/disable LOAD DATA LOCAL INFILE.
  -b, --no-beep       Turn off beep on error.
  -h, --host=name     Connect to host.
  -H, --html          Produce HTML output.
  -X, --xml           Produce XML output.
  --line-numbers      Write line numbers for errors.
                      (Defaults to on; use --skip-line-numbers to disable.)
  -L, --skip-line-numbers
                      Don't write line number for errors.
  -n, --unbuffered    Flush buffer after each query.
  --column-names      Write column names in results.
                      (Defaults to on; use --skip-column-names to disable.)
  -N, --skip-column-names
                      Don't write column names in results.
  --sigint-ignore     Ignore SIGINT (CTRL-C).
  -o, --one-database  Ignore statements except those that occur while the
                      default database is the one named at the command line.
  --pager[=name]      Pager to use to display results. If you don't supply an
                      option, the default pager is taken from your ENV variable
                      PAGER. Valid pagers are less, more, cat [> filename],
                      etc. See interactive help (\h) also. This option does not
                      work in batch mode. Disable with --disable-pager. This
                      option is disabled by default.
  -p, --password[=name]
                      Password to use when connecting to server. If password is
                      not given it's asked from the tty.
  -P, --port=#        Port number to use for connection or 0 for default to, in
                      order of preference, my.cnf, $MYSQL_TCP_PORT,
                      /etc/services, built-in default (3306).
  --progress-reports  Get progress reports for long running commands (like
                      ALTER TABLE)
                      (Defaults to on; use --skip-progress-reports to disable.)
  --prompt=name       Set the mysql prompt to this value.
  --protocol=name     The protocol to use for connection (tcp, socket, pipe,
                      memory).
  -q, --quick         Don't cache result, print it row by row. This may slow
                      down the server if the output is suspended. Doesn't use
                      history file.
  -r, --raw           Write fields without conversion. Used with --batch.
  --reconnect         Reconnect if the connection is lost. Disable with
                      --disable-reconnect. This option is enabled by default.
                      (Defaults to on; use --skip-reconnect to disable.)
  -s, --silent        Be more silent. Print results with a tab as separator,
                      each row on new line.
  -S, --socket=name   The socket file to use for connection.
  --ssl               Enable SSL for connection (automatically enabled with
                      other flags).
  --ssl-ca=name       CA file in PEM format (check OpenSSL docs, implies
                      --ssl).
  --ssl-capath=name   CA directory (check OpenSSL docs, implies --ssl).
  --ssl-cert=name     X509 cert in PEM format (implies --ssl).
  --ssl-cipher=name   SSL cipher to use (implies --ssl).
  --ssl-key=name      X509 key in PEM format (implies --ssl).
  --ssl-verify-server-cert
                      Verify server's "Common Name" in its cert against
                      hostname used when connecting. This option is disabled by
                      default.
  -t, --table         Output in table format.
  --tee=name          Append everything into outfile. See interactive help (\h)
                      also. Does not work in batch mode. Disable with
                      --disable-tee. This option is disabled by default.
  -u, --user=name     User for login if not current user.
  -U, --safe-updates  Only allow UPDATE and DELETE that uses keys.
  -U, --i-am-a-dummy  Synonym for option --safe-updates, -U.
  -v, --verbose       Write more. (-v -v -v gives the table output format).
  -V, --version       Output version information and exit.
  -w, --wait          Wait and retry if connection is down.
  --connect-timeout=# Number of seconds before connection timeout.
  --max-allowed-packet=#
                      The maximum packet length to send to or receive from
                      server.
  --net-buffer-length=#
                      The buffer size for TCP/IP and socket communication.
  --select-limit=#    Automatic limit for SELECT when using --safe-updates.
  --max-join-size=#   Automatic limit for rows in a join when using
                      --safe-updates.
  --secure-auth       Refuse client connecting to server if it uses old
                      (pre-4.1.1) protocol.
  --server-arg=name   Send embedded server this as a parameter.
  --show-warnings     Show warnings after every statement.
  --plugin-dir=name   Directory for client-side plugins.
  --default-auth=name Default authentication client-side plugin to use.
  --binary-mode       By default, ASCII '\0' is disallowed and '\r\n' is
                      translated to '\n'. This switch turns off both features,
                      and also turns off parsing of all clientcommands except
                      \C and DELIMITER, in non-interactive mode (for input
                      piped to mysql or loaded using the 'source' command).
                      This is necessary when processing output from mysqlbinlog
                      that may contain blobs.

Variables (--variable-name=value)
and boolean options {FALSE|TRUE}  Value (after reading options)
--------------------------------- ----------------------------------------
abort-source-on-error             FALSE
auto-rehash                       TRUE
auto-vertical-output              FALSE
character-sets-dir                (No default value)
column-type-info                  FALSE
comments                          FALSE
compress                          FALSE
debug-check                       FALSE
debug-info                        FALSE
database                          (No default value)
default-character-set             auto
delimiter                         ;
vertical                          FALSE
force                             FALSE
named-commands                    FALSE
ignore-spaces                     FALSE
init-command                      (No default value)
local-infile                      FALSE
no-beep                           FALSE
host                              (No default value)
html                              FALSE
xml                               FALSE
line-numbers                      TRUE
unbuffered                        FALSE
column-names                      TRUE
sigint-ignore                     FALSE
port                              0
progress-reports                  TRUE
prompt                            \N [\d]>
quick                             FALSE
raw                               FALSE
reconnect                         TRUE
socket                            (No default value)
ssl                               FALSE
ssl-ca                            (No default value)
ssl-capath                        (No default value)
ssl-cert                          (No default value)
ssl-cipher                        (No default value)
ssl-key                           (No default value)
ssl-verify-server-cert            FALSE
table                             FALSE
user                              (No default value)
safe-updates                      FALSE
i-am-a-dummy                      FALSE
connect-timeout                   0
max-allowed-packet                16777216
net-buffer-length                 16384
select-limit                      1000
max-join-size                     1000000
secure-auth                       FALSE
show-warnings                     FALSE
plugin-dir                        (No default value)
default-auth                      (No default value)
binary-mode                       FALSE
midpoint#>

_____________________
h6. 2016-09-05 13:08  Grouper running successfully, but memory is short

Jim,

I need to ask you to open port 8088 on midpoint.testbed.. for use by the Grouper UI.  And I wonder if we can double the total mem from 2Gb to 4Gb. Memory is getting cramped.  There are lots of things running on midpoint.testbed now: RabbitMQ, Tomcat, httpd, midpoint and Grouper.

Htop shows very little headroom even without Grouper running. Typically 1.2 Gb of 1.8 is in use.

If Grouper is started, midPoint crashes at the point where I enter my admin credentials. When I shut down Grouper, and restart midPoint, it  works again. Grouper and midPoint both rely on Tomcat, but midpoint uses the main instance at /opt/apache-tomcat-7.0.70 and the default Tomcat port 8080 while Grouper sets up its own from /opt/Grouper-2.3.0/apache-tomcat-6.0.35 running on port 8088. But I can’t see why that in itself would cause issues since they have different ports.

         Happy Labor Day!     ---Keith
_____________________
h6. 2016-09-05 07:46  install Grouper per https://spaces.internet2.edu/display/Grouper/Grouper+Wiki+Home

- set JAVA_HOME
midpoint#>export JAVA_HOME=/etc/alternatives/java_sdk_1.8.0/bin

midpoint#>cd /opt/grouper.installer-2.3.0
midpoint#>java -jar grouperInstaller.jar

port 8088 must be opened for Grouper UI to be available externally
_____________________
h6. 2016-09-04 17:47  midPoint live demo site

https://wiki.evolveum.com/display/midPoint/Live+Demo
_____________________
h6. 2016-09-04 15:32  understanding assignments and inducements

- assignment/inducement: assignment of resources to objects or indirect assignment of resources to occupants of a role carrying an inducement
  - per https://wiki.evolveum.com/display/midPoint/Assignment+vs+Inducement

_____________________
h6. 2016-09-04 10:24  Continue first steps per https://wiki.evolveum.com/display/midPoint/First+Steps

- Test resource def for OpenDJ:
  - Test connection result(s)
    - Configuration validaesption
    - Connector initialization
    - Connector connection test
    - Connector schema
    OK

- First Account Management test

- Term for associating accounts with user is 'projecttion', managed from user detail view.
  - New projection for user keith
      - Localhost OpenDJ default, uid=keith,ou=people,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
  - Assignments (already assigned to SuperUser role)

- added user edisabb: Ethan Disabb

- added /opt/opendj/bin to path so ldapsearch etc. could be accessible

midpoint#>cat /etc/profile.d/tier.sh
PATH=$PATH:/usr/local/bin:/usr/local/sbin:/opt/opendj/bin:/opt/opendj-ldap-toolkit/bin
export JAVA_HOME=/usr
export CATALINA_HOME=/opt/apache-tomcat-7.0.70
export HISTFILESIZE=
export HISTSIZE=
export HISTTIMEFORMAT="[%F %T] "
# Change the file location because certain bash sessions truncate .bash_history file upon close.
# http://superuser.com/questions/575479/bash-history-truncated-to-500-lines-on-each-login
export HISTFILE=~/.bash_eternal_history
# Force prompt to write history after every command.
# http://superuser.com/questions/20900/bash-history-loss
PROMPT_COMMAND="history -a; $PROMPT_COMMAND"

- show that ethan was added to LDAP by midPoint:

midpoint#>ldapsearch -p 5444 -Z -X -D cn="Directory Manager" -w entreg007 -s sub -b '' 'objectclass=*'

dn: dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: domain
dc: midpoint

dn: ou=Groups,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: organizationalunit
ou: Groups

dn: ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: organizationalunit
ou: People

dn: ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: organizationalunit
ou: Administrators

dn: uid=idm,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: organizationalPerson
objectClass: top
objectClass: person
objectClass: inetOrgPerson
uid: idm
ou: Administrators
description: Special LDAP acccount used by the IDM to access the LDAP data.
cn: IDM Administrator
sn: IDM Administrator
userPassword: {SSHA}qALW+kzPSKGJvQ+53ReDitYVqVeEU2w5sFkX7Q==

dn: uid=keith,ou=people,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: organizationalPerson
objectClass: top
objectClass: person
objectClass: inetOrgPerson
uid: keith
givenName: Keith
description: Created by IDM
cn: Keith Hazelton
sn: Hazelton
userPassword: {SSHA}pa6kTukOq3gPkMu8UBpJVnL0t+TSHPFbTif3Qg==

dn: uid=edisabb,ou=people,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: organizationalPerson
objectClass: top
objectClass: person
objectClass: inetOrgPerson
uid: edisabb
givenName: Ethan
description: Created by IDM
sn: Disabb
cn: Ethan Disabb
userPassword: {SSHA}Db77J35WClKLMPOJ8Um5TEAla34Amraf90caZw==

- show just ou=people

midpoint#>ldapsearch -p 5444 -Z -X -D cn="Directory Manager" -w entreg007 -s sub -b 'ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu' 'objectclass=*'

dn: ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: organizationalunit
ou: People

dn: uid=keith,ou=people,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: organizationalPerson
objectClass: top
objectClass: person
objectClass: inetOrgPerson
uid: keith
givenName: Keith
description: Created by IDM
cn: Keith Hazelton
sn: Hazelton
userPassword: {SSHA}pa6kTukOq3gPkMu8UBpJVnL0t+TSHPFbTif3Qg==

dn: uid=edisabb,ou=people,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: organizationalPerson
objectClass: top
objectClass: person
objectClass: inetOrgPerson
uid: edisabb
givenName: Ethan
description: Created by IDM
sn: Disabb
cn: Ethan Disabb
userPassword: {SSHA}Db77J35WClKLMPOJ8Um5TEAla34Amraf90caZw==

- Show top level ou's, including Administrators

midpoint#>ldapsearch -p 5444 -Z -X -D cn="Directory Manager" -w entreg007 -s sub -b ''  'objectclass=organizationalunit'
dn: ou=Groups,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: organizationalunit
ou: Groups

dn: ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: organizationalunit
ou: People

dn: ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: organizationalunit
ou: Administrators

- Show inetOrgPerson entries including midPoint principal, idm

midpoint#>ldapsearch -p 5444 -Z -X -D cn="Directory Manager" -w entreg007 -s sub -b ''  'objectclass=inetOrgPerson'
dn: uid=idm,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: organizationalPerson
objectClass: top
objectClass: person
objectClass: inetOrgPerson
uid: idm
ou: Administrators
description: Special LDAP acccount used by the IDM to access the LDAP data.
cn: IDM Administrator
sn: IDM Administrator
userPassword: {SSHA}qALW+kzPSKGJvQ+53ReDitYVqVeEU2w5sFkX7Q==

dn: uid=keith,ou=people,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: organizationalPerson
objectClass: top
objectClass: person
objectClass: inetOrgPerson
uid: keith
givenName: Keith
description: Created by IDM
cn: Keith Hazelton
sn: Hazelton
userPassword: {SSHA}pa6kTukOq3gPkMu8UBpJVnL0t+TSHPFbTif3Qg==

dn: uid=edisabb,ou=people,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: organizationalPerson
objectClass: top
objectClass: person
objectClass: inetOrgPerson
uid: edisabb
givenName: Ethan
description: Created by IDM
sn: Disabb
cn: Ethan Disabb
userPassword: {SSHA}Db77J35WClKLMPOJ8Um5TEAla34Amraf90caZw==


- search by particular attribute/value pair

midpoint#>ldapsearch --port 389 --baseDN dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu  "(uid=edisabb)"

dn: uid=edisabb,ou=people,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: organizationalPerson
objectClass: top
objectClass: person
objectClass: inetOrgPerson
uid: edisabb
givenName: Ethan
description: Created by IDM
sn: Disabb
cn: Ethan Disabb

- show Administrator principal, idm

midpoint#>ldapsearch --port 389 --baseDN dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu  "(uid=idm)"
dn: uid=idm,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: organizationalPerson
objectClass: top
objectClass: person
objectClass: inetOrgPerson
uid: idm
ou: Administrators
description: Special LDAP acccount used by the IDM to access the LDAP data.
cn: IDM Administrator
sn: IDM Administrator

- show Administrators entries

midpoint#>ldapsearch --port 389 --baseDN dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu  "(ou=Administrators)"

dn: ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: organizationalunit
ou: Administrators

dn: uid=idm,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: organizationalPerson
objectClass: top
objectClass: person
objectClass: inetOrgPerson
uid: idm
ou: Administrators
description: Special LDAP acccount used by the IDM to access the LDAP data.
cn: IDM Administrator
sn: IDM Administrator

_____________________
h6. 2016-09-04 09:38  fix config by using up-to-date resource definition files for OpenDJ LDAP connector

cloned the current version of midpoint repo. https://github.com/Evolveum/midpoint
See ../midpoint.utf

/home/kh/midpoint/samples/resources/opendj/opendj-localhost-medium.xml
~/_notesPlus/opendj-localhost-medium.xml is the up-to-date version of the opendj ldap connector resource

midpoint#>pwd
/home/kh/midpoint

midpoint#>cat README.md

Status: [![Build Status](https://travis-ci.org/Evolveum/midpoint.svg?branch=master)](https://travis-ci.org/Evolveum/midpoint)

midPoint 3.4 "Heisenberg"
-------------------------------

General information:

MidPoint is a comprehensive identity provisioning system. MidPoint can synchronize several
identity repositories, manage and transform data in these repostories to keep them synchronized.
MidPoint also makes the data available in unified form.

The most important features of midPoint are:
   - User provisioning and deprovisioning
   - Integration of ConnId connector framework
   - Administration GUI
   - Identity repository implemention (SQL)
   - Custom schema extensibility
   - Identity synchronization (liveSync, reconciliation, discovery, import)
   - Support for expressions in synchronization mappings (Groovy, JavaScript, XPathv2)
   - Advanced RBAC support with temporal constraints
   - Identity management process automation (workflow, notifications)
   - Password policies
   - Password reset
   - Generic synchronization
   - Entitlements
   - Support for ConnId and OpenICF connectors
   - Provisioning consistency and error handling
   - Identity governance (access certification)
   - Support for security auditing and reporting
   - Workflow
   - Reporting
   - Notifications
   - Local Java APIs, Remote web service interface (SOAP), REST API
   - High availablity (HA) support

For more information please go to:

  http://midpoint.evolveum.com/

For bugtracking system please go to:

  http://jira.evolveum.com/

MidPoint source code is maintained on github:

  https://github.com/Evolveum/midpoint

Latest source code can be obtained from our Git repository using one of the
following repository locations:

  https://github.com/Evolveum/midpoint.git

  git@github.com:Evolveum/midpoint.git

This project is developed under Apache license (version 2.0) You may get copy
of licence in LICENSE file. Please also see NOTICE file for addtional
copyright statements.

- Move on to Account Management section of First Steps
_____________________
h6. 2016-09-04 07:34  config error report and response

From: midPoint <midpoint-bounces@lists.evolveum.com> on behalf of Jason Everling <jeverling@bshp.edu>
Reply-To: midPoint General Discussion <midpoint@lists.evolveum.com>
Date: Saturday, September 3, 2016 at 21:48
To: midPoint General Discussion <midpoint@lists.evolveum.com>
Subject: Re: [midPoint] midpoint configuration error attempting to import opendj-localhost-resource-sync-advanced.xml

Some of the wiki docs that relate to sample objects are more than likely out of date, that namespace '2a' is for an older version of midpoint, the wiki page also has 2.2 as the latest release BUT the latest is 3.4 so you would be better off referring to the github samples,

https://github.com/Evolveum/midpoint/tree/master/samples

And opendj is in the resources folder

https://github.com/Evolveum/midpoint/tree/master/samples/resources/opendj

JASON
------------------------------
On Sat, Sep 3, 2016 at 6:29 PM, Keith Hazelton <keith.hazelton@wisc.edu> wrote:
The attached file is a downloaded error message from my new midPoint 3.4 instance.

Error occurred when I attempted to import opendj-localhost-resource-sync-advanced.xml following the instructions on the midpoint wiki https://wiki.evolveum.com/display/midPoint/First+Steps page, the “Importing Resource Definition” section

As instructed I pasted the contents of the .xml file into the embedded editor pane on the Import Objects, clicked ‘import object’ and the error popped up in red at the top of the page: “No object definition for element name {http://midpoint.evolveum.com/xml/ns/public/common/common-2a}objects”

Suggestions welcome.    –Keith Hazelton
_______________________________________________
midPoint mailing list
midPoint@lists.evolveum.com
http://lists.evolveum.com/mailman/listinfo/midpoint

_____________________
h6. 2016-09-03 08:22  more configuration of OpenDJ per https://wiki.evolveum.com/display/midPoint/OpenDJ+Installation+and+Configuration

- The IDM administration account needs access rights to the cn=changelog suffix

dsconfig -h localhost -p 5444 -D "cn=Directory Manager" -w entreg007 -X -n set-access-control-handler-prop --add global-aci:"(target=\"ldap:///cn=changelog\")(targetattr=\"*||+\")(version 3.0; acl \"IDM Access to ChangeLog\"; allow (read,search,compare) userdn=\"ldap:///uid=idm,ou=Administrators,dc=example,dc=com\";)" -n

- allow ACI for Root DSE

./dsconfig -h localhost -p 5444 -D "cn=Directory Manager" -w entreg007 -X -n set-access-control-handler-prop --add global-aci:"(target=\"ldap:///\")(targetattr=\"changeLog || firstChangeNumber || lastChangeNumber\")(version 3.0; acl \"IDM Access to ChangeLog\"; allow (read,search,compare) userdn=\"ldap:///uid=idm,ou=Administrators,dc=example,dc=com\";)" -n

Referential Integrity Plugin
Enter the dsconfig (you need run the file from bin/bat subdirectory) interactive mode by entering:

./dsconfig -h localhost -p 5444 -D "cn=Directory Manager" -w secret

  (double-check the choice numbers)

Choose 30) Plugin
Choose 3) View and Edit an existing Plugin
Choose 9) Referential Integrity
Choose 6) enabled
Choose 2) Change it to the value: true
Finish the command by selecting f) Finish

- experiment with ldapsearch

midpoint#>./ldapsearch -p 5444 -Z -X -D cn="Directory Manager" -w entreg007 -s sub -b '' 'objectclass=*'

dn: dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: domain
dc: midpoint

dn: ou=Groups,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: organizationalunit
ou: Groups

dn: ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: organizationalunit
ou: People

dn: ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: organizationalunit
ou: Administrators

dn: uid=idm,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: organizationalPerson
objectClass: top
objectClass: person
objectClass: inetOrgPerson
uid: idm
ou: Administrators
description: Special LDAP acccount used by the IDM to access the LDAP data.
cn: IDM Administrator
sn: IDM Administrator
userPassword: {SSHA}qALW+kzPSKGJvQ+53ReDitYVqVeEU2w5sFkX7Q==

- failed attempt to check availability of external changelog
midpoint#>./ldapsearch -h localhost -p 389 -D "uid=idm,ou=Administrators,dc=midpoint,dctestbed,dc=tier,dc=internet2,dc=edu" -w secret "(objectclass=*)"

- Check Replication Purge delay
./dsconfig -h localhost -p 4444 -D "cn=directory manager" -w secret -n get-replication-server-prop --provider-name "Multimaster Synchronization" --advanced --property replication-purge-delay -X

./dsconfig list-local-db-indexes --backend-name userRoot -p 5444 -j $HOME/etc/pwd.txt -X -n
_____________________
h6. 2016-09-02 16:30  enable external change log per https://ludopoitou.com/2011/05/11/opendj-enabling-the-external-change-log-on-a-single-server/

- no go on first try, see https://bugster.forgerock.org/jira/browse/OPENDJ-1662

2. check that the server is listening on the admin port:

midpoint#>./ldapsearch -p 5444 -Z -X -D cn="Directory Manager" -w entreg007 -s base -b '' 'objectclass=*'
dn:
objectClass: top
objectClass: ds-root-dse

- worked on second try:

midpoint#>./dsconfig create-replication-server -h ldap1.midpoint.testbed.tier.internet2.edu -p 5444 -D "cn=Directory Manager" -w entreg007 -X -n --provider-name "Multimaster Synchronization" --set replication-port:8989 --set replication-server-id:2 --type generic
midpoint#>

midpoint#>./dsconfig create-replication-domain -h midpoint.testbed.tier.internet2.edu -p 5444 -D "cn=Directory Manager" -w entreg007 -X -n --provider-name "Multimaster Synchronization" --set base-dn:dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu --set replication-server:midpoint.testbed.tier.internet2.edu:8989 --set server-id:3  --type generic --domain-name midpoint
midpoint#>

./ldapsearch -h localhost -D cn='Directory Manager' -w "(objectclass=*)" sn cn


_____________________
h6. 2016-09-02 15:34  reconfigure reinstalled opendj

./ldapmodify -p 389 -D "cn=Directory Manager" -W -c -a -f /usr/local/src/tierBase.ldif

midpoint#>cat /usr/local/src/tierBase.ldif

#
# Copyright (c) 2010-2016 Evolveum
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

#
# This is an import LDIF file intended to create a basic structure
# for "midpoint.testbed.tier.internet2.edu" organization.
#

dn: ou=Groups, dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
changetype: add
objectclass: top
objectclass: organizationalunit
ou: Groups
aci: (targetattr="*||+")(version 3.0; acl "IDM Access"; allow (all)
  userdn="ldap:///uid=idm,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu";)

dn: ou=People, dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
changetype: add
objectclass: top
objectclass: organizationalunit
ou: People
aci: (targetattr="*||+")(version 3.0; acl "IDM Access"; allow (all)
  userdn="ldap:///uid=idm,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu";)

dn: ou=Administrators, dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
changetype: add
objectclass: top
objectclass: organizationalunit
ou: Administrators

dn: uid=idm, ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
changetype: add
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
uid: idm
cn: IDM Administrator
sn: IDM Administrator
description: Special LDAP acccount used by the IDM
  to access the LDAP data.
ou: Administrators
userPassword: secret
ds-privilege-name: unindexed-search
ds-privilege-name: password-reset

midpoint#>./ldapmodify -p 389 -D "cn=Directory Manager" -W -c -a -f /usr/local/src/tierBase.ldif

Password for user 'cn=Directory Manager':
Processing ADD request for ou=Groups,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
ADD operation successful for DN ou=Groups,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
Processing ADD request for ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
ADD operation successful for DN ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
Processing ADD request for ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
ADD operation successful for DN ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
Processing ADD request for uid=idm,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
ADD operation successful for DN uid=idm,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
midpoint#>cat /usr/local/src/tierBase.ldif
_____________________
h6. 2016-09-02 15:11  reinstall opendj 3.0.0

midpoint#>yum install opendj-3.0.0-1.noarch.rpm
Loaded plugins: fastestmirror
Examining opendj-3.0.0-1.noarch.rpm: opendj-3.0.0-1.noarch
Marking opendj-3.0.0-1.noarch.rpm to be installed
Resolving Dependencies
--> Running transaction check
---> Package opendj.noarch 0:3.0.0-1 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

=====================================================================================================================================================================
 Package                            Arch                               Version                              Repository                                          Size
=====================================================================================================================================================================
Installing:
 opendj                             noarch                             3.0.0-1                              /opendj-3.0.0-1.noarch                              37 M

Transaction Summary
=====================================================================================================================================================================
Install  1 Package

Total size: 37 M
Installed size: 37 M
Is this ok [y/d/N]: y
Downloading packages:
Running transaction check
Running transaction test
Transaction test succeeded
...
Installed:
  opendj.noarch 0:3.0.0-1

Complete!

midpoint#>./setup --cli
READ THIS SOFTWARE LICENSE AGREEMENT CAREFULLY. BY DOWNLOADING OR INSTALLING
THE FORGEROCK SOFTWARE, YOU, ON BEHALF OF YOURSELF AND YOUR COMPANY, AGREE TO
BE BOUND BY THIS SOFTWARE LICENSE AGREEMENT. IF YOU DO NOT AGREE TO THESE
TERMS, DO NOT DOWNLOAD OR INSTALL THE FORGEROCK SOFTWARE.

1. Software License.

1.1. Development Right to Use. If Company intends to or does use the ForgeRock
Software only for the purpose(s) of developing, testing, prototyping and
demonstrating its application software, then ForgeRock hereby grants Company a
nonexclusive, nontransferable, limited license to use the ForgeRock Software
only for those purposes, solely at Company's facilities and only in a
non-production environment. ForgeRock may audit Company's use of the ForgeRock
Software to confirm that a production license is not required upon reasonable
written notice to Company. If Company intends to use the ForgeRock Software in
a live environment, Company must purchase a production license and may only use
the ForgeRock Software licensed thereunder in accordance with the terms and
conditions of that subscription agreement.

1.2. Restrictions. Except as expressly set forth in this ForgeRock Software
License Agreement (the "Agreement"), Company shall not, directly or indirectly:
(a) sublicense, resell, rent, lease, distribute or otherwise transfer rights or
usage in the ForgeRock Software, including without limitation to Company
subsidiaries and affiliates; (b) remove or alter any copyright, trademark or
proprietary notices in the ForgeRock Software; or (c) use the ForgeRock
Software in any way that would subject the ForgeRock Software, in whole in or
in part, to a Copyleft License. As used herein, "Copyleft License" means a
software license that requires that information necessary for reproducing and
modifying such software must be made available publicly to recipients of
executable versions of such software (see, e.g., GNU General Public License and
http://www.gnu.org/copyleft/).

2. Proprietary Rights.

2.1. ForgeRock Intellectual Property. Title to and ownership of all copies of
the ForgeRock Software whether in machine-readable (source, object code or
other format) or printed form, and all related technical know-how and all
rights therein (including without limitation all intellectual property rights
applicable thereto), belong to ForgeRock and its licensors and shall remain the
exclusive property thereof. ForgeRock's name, logo, trade names and trademarks
are owned exclusively by ForgeRock and no right is granted to Company to use
any of the foregoing except as expressly permitted herein. All rights not
expressly granted to Company are reserved by ForgeRock and its licensors.

2.2. Suggestions. Company hereby grants to ForgeRock a royalty-free, worldwide,
transferable, sublicensable and irrevocable right and license to use, copy,
modify and distribute, including by incorporating into any product or service
owned by ForgeRock, any suggestions, enhancements, recommendations or other
feedback provided by Company relating to any product or service owned or
offered by ForgeRock.

2.3. Source Code. The source code underlying the ForgeRock Software is
available at www.forgerock.org.

3. Term and Termination. The terms of this Agreement shall commence on the
Effective Date and shall continue in force unless earlier terminated in
accordance this Section. This Agreement shall terminate without notice to
Company in the event Company is in material breach of any of the terms and
conditions of this Agreement. As used herein, "Effective Date" means the date
on which Company first accepted this Agreement and downloads the ForgeRock
Software.

4. Disclaimer of Warranties. THE FORGEROCK SOFTWARE LICENSED HEREUNDER IS
LICENSED "AS IS" AND WITHOUT WARRANTY OF ANY KIND. FORGEROCK AND IT'S LICENSORS
EXPRESSLY DISCLAIM ALL WARRANTIES, WHETHER EXPRESS, IMPLIED OR STATUTORY,
INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND ANY WARRANTY OF NON-INFRINGEMENT.

5. General Indemnification. Company shall defend, indemnify and hold ForgeRock
harmless from and against any and all liabilities, damages, losses, costs and
expenses (including but not limited to reasonable fees of attorneys and other
professionals) payable to third parties based upon any claim arising out of or
related to the use of Company's products, provided that ForgeRock: (a) promptly
notifies Company of the claim; (b) provides Company with all reasonable
information and assistance, at Company's expense, to defend or settle such a
claim; and (c) grants Company authority and control of the defense or
settlement of such claim. Company shall not settle any such claim, without
ForgeRock's prior written consent, if such settlement would in any manner
effect ForgeRock's rights in the ForgeRock Software or otherwise. ForgeRock
reserves the right to retain counsel, at ForgeRock's expense, to participate in
the defense and settlement of any such claim.

6. Limitation of Liability. IN NO EVENT SHALL FORGEROCK BE LIABLE FOR THE COST
OF PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES, ANY LOST PROFITS, REVENUE, OR
DATA, INTERRUPTION OF BUSINESS OR FOR ANY INCIDENTAL, SPECIAL, CONSEQUENTIAL OR
INDIRECT DAMAGES OF ANY KIND, AND WHETHER ARISING OUT OF BREACH OF WARRANTY,
BREACH OF CONTRACT, TORT (INCLUDING NEGLIGENCE), STRICT LIABILITY OR OTHERWISE,
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE OR IF SUCH DAMAGE COULD HAVE
BEEN REASONABLY FORESEEN. IN NO EVENT SHALL FORGEROCK'S LIABILITY ARISING OUT
OF OR RELATED TO THIS AGREEMENT WHETHER IN CONTRACT, TORT OR UNDER ANY OTHER
THEORY OF LIABILITY, EXCEED IN THE AGGREGATE $1,000 USD.

7. General.

7.1. Governing Law. This Agreement shall be governed by and interpreted in
accordance with the laws of the State of California without reference to its
conflicts of law provisions.

7.2. Assignment. Company may not assign any of its rights or obligations under
this Agreement without the prior written consent of ForgeRock, which consent
shall not be unreasonably withheld. Any assignment not in conformity with this
Section shall be null and void.

7.3. Waiver. A waiver on one occasion shall not be construed as a waiver of any
right on any future occasion. No delay or omission by a party in exercising any
of its rights hereunder shall operate as a waiver of such rights.

7.4. Compliance with Law. The ForgeRock Software is subject to U.S. export
control laws, including the U.S. Export Administration Act and its associated
regulations, and may be subject to export or import regulations in other
countries. Company agrees to comply with all laws and regulations of the United
States and other countries ("Export Laws") to assure that neither the ForgeRock
Software, nor any direct products thereof are; (a) exported, directly or
indirectly, in violation of Export Laws, either to any countries that are
subject to U.S. export restrictions or to any end user who has been prohibited
from participating in the U.S. export transactions by any federal agency of the
U.S. government or (b) intended to be used for any purpose prohibited by Export
Laws, including, without limitation, nuclear, chemical, or biological weapons
proliferation.

7.5. US Government Restrictions. Company acknowledges that the ForgeRock
Software consists of "commercial computer software" and "commercial computer
software documentation" as such terms are defined in the Code of Federal
Regulations. No Government procurement regulations or contract clauses or
provisions shall be deemed a part of any transaction between the parties unless
its inclusion is required by law, or mutually agreed in writing by the parties
in connection with a specific transaction. Use, duplication, reproduction,
release, modification, disclosure or transfer of the ForgeRock Software is
restricted in accordance with the terms of this Agreement.

7.6. Provision Severability. In the event that it is determined by a court of
competent jurisdiction that any provision of this Agreement is invalid,
illegal, or otherwise unenforceable, such provision shall be enforced as nearly
as possible in accordance with the stated intention of the parties, while the
remainder of this Agreement shall remain in full force and effect and bind the
parties according to its terms. To the extent any provision cannot be enforced
in accordance with the stated intentions of the parties, such terms and
conditions shall be deemed not to be a part of this Agreement.

7.7. Entire Agreement. This Agreement constitutes the entire and exclusive
agreement between the parties with respect to the subject matter hereof and
supersede any prior agreements between the parties with respect to such subject
matter


Please read the License Agreement above.
You must accept the terms of the agreement before continuing with the
installation.
Accept the license (Yes/No) [No]:yes

What would you like to use as the initial root user DN for the Directory
Server? [cn=Directory Manager]:
Please provide the password to use for the initial root user:
Please re-enter the password for confirmation:

Provide the fully-qualified directory server host name that will be used when
generating self-signed certificates for LDAP SSL/StartTLS, the administration
connector, and replication [ip-172-31-6-112.us-west-2.compute.internal]: midpoint

On which port would you like the Directory Server to accept connections from
LDAP clients? [389]:

On which port would you like the Administration Connector to accept
connections? [4444]: 5444

Do you want to create base DNs in the server? (yes / no) [yes]:

Provide the backend type:

    1)  JE Backend
    2)  PDB Backend

Enter choice [1]:

Provide the base DN for the directory data: [dc=example,dc=com]: dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
Options for populating the database:

    1)  Leave the database empty
    2)  Only create the base entry
    3)  Import data from an LDIF file
    4)  Load automatically-generated sample data

Enter choice [1]: 2

Do you want to enable SSL? (yes / no) [no]: yes
On which port would you like the Directory Server to accept connections from
LDAPS clients? [636]:

Do you want to enable Start TLS? (yes / no) [no]: yes
Certificate server options:

    1)  Generate self-signed certificate (recommended for testing purposes
        only)
    2)  Use an existing certificate located on a Java Key Store (JKS)
    3)  Use an existing certificate located on a JCEKS key store
    4)  Use an existing certificate located on a PKCS#12 key store
    5)  Use an existing certificate on a PKCS#11 token

Enter choice [1]:

Do you want to start the server when the configuration is completed? (yes /
no) [yes]:


Setup Summary
=============
LDAP Listener Port:            389
Administration Connector Port: 5444
JMX Listener Port:
LDAP Secure Access:            Enable StartTLS
                               Enable SSL on LDAP Port 636
                               Create a new Self-Signed Certificate
Root User DN:                  cn=Directory Manager
Directory Data:                Backend Type: JE Backend
Create New Base DN dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
Base DN Data: Only Create Base Entry
(dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu)

Start Server when the configuration is completed


What would you like to do?

    1)  Set up the server with the parameters above
    2)  Provide the setup parameters again
    3)  Print equivalent non-interactive command-line
    4)  Cancel and exit

Enter choice [1]: 3

Equivalent non-interactive command-line to setup server:

/opt/opendj/setup \
          --cli \
          --backendType je \
          --baseDN dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu \
          --addBaseEntry \
          --ldapPort 389 \
          --adminConnectorPort 5444 \
          --rootUserDN cn=Directory\ Manager \
          --rootUserPassword ****** \
          --enableStartTLS \
          --ldapsPort 636 \
          --generateSelfSignedCertificate \
          --hostName midpoint \
          --no-prompt \
          --noPropertiesFile


What would you like to do?

    1)  Set up the server with the parameters above
    2)  Provide the setup parameters again
    3)  Print equivalent non-interactive command-line
    4)  Cancel and exit

Enter choice [1]:

See /tmp/opendj-setup-5825972915391786427.log for a detailed log of this
operation.

Configuring Directory Server ..... Done.
Configuring Certificates ..... Done.
Creating Base Entry dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu ..... Done.
Starting Directory Server ........ Done.

To see basic server configuration status and configuration you can launch
/opt/opendj/bin/status

midpoint#>./bin/status


>>>> Specify OpenDJ LDAP connection parameters

Administrator user bind DN [cn=Directory Manager]:

Password for user 'cn=Directory Manager':

          --- Server Status ---
Server Run Status:        Started
Open Connections:         1

          --- Server Details ---
Host Name:                ip-172-31-6-112.us-west-2.compute.internal
Administrative Users:     cn=Directory Manager
Installation Path:        /opt/opendj
Version:                  OpenDJ 3.0.0
Java Version:             1.8.0_101
Administration Connector: Port 5444 (LDAPS)

          --- Connection Handlers ---
Address:Port : Protocol               : State
-------------:------------------------:---------
--           : LDIF                   : Disabled
0.0.0.0:161  : SNMP                   : Disabled
0.0.0.0:389  : LDAP (allows StartTLS) : Enabled
0.0.0.0:636  : LDAPS                  : Enabled
0.0.0.0:1689 : JMX                    : Disabled
0.0.0.0:8080 : HTTP                   : Disabled

          --- Data Sources ---
Base DN:     dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
Backend ID:  userRoot
Entries:     1
Replication:

midpoint#>

_____________________
h6. 2016-09-01 19:02  back to the book LDAP System Administration

midpoint#>./ldapmodify -p 389 -D "cn=Directory Manager" -w entreg007 -a

dn: dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: domain
objectClass: top
dc: midpoint
<cr><cr>

Processing ADD request for dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
ADD operation successful for DN dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
<^c> to exit

midpoint#>./ldapsearch -b dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu "(objectclass=*)"

dn: dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: domain
dc: midpoint

midpoint#>./ldapmodify -p 389 -D "cn=Directory Manager" -w entreg007 -a
dn: ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: organizationalUnit
ou: People

dn: ou=Group,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: organizationalUnit
ou: GroupProcessing ADD request for ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
ADD operation successful for DN ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu

midpoint#>./ldapsearch -b dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu "(objectclass=*)"

dn: dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: domain
dc: midpoint

dn: ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: organizationalUnit
ou: People

^Cmidpoint#>./ldapmodify -p 389 -D "cn=Directory Manager" -w entreg007 -a
dn: ou=Group,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: organizationalUnit
ou: Group

Processing ADD request for ou=Group,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
ADD operation successful for DN ou=Group,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu

midpoint#>ldapsearch -b dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu "(objectclass=*)"

dn: dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: domain
dc: midpoint

dn: ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: organizationalUnit
ou: People

dn: ou=Group,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: organizationalUnit
ou: Group

- add midPoint idm user and acis

dn: ou=People,dc=acme,dc=com
objectclass: top
objectclass: organizationalunit
ou: People
aci: (targetattr="*||ds-pwp-account-disabled")(version 3.0; acl "IDM Access"; allow (all)
  userdn="ldap:///uid=idm,ou=Administrators,dc=acme,dc=com";)

dn: ou=Administrators,dc=acme,dc=com
objectclass: top
objectclass: organizationalunit
ou: Administrators

dn: uid=idm, ou=Administrators,dc=acme,dc=com
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
uid: idm
cn: IDM Administrator
sn: IDM Administrator
description: Special LDAP acccount used by the IDM
  to access the LDAP data.
ou: Administrators
userPassword: secret
ds-privilege-name: unindexed-search
ds-privilege-name: password-reset

- add aci

addPeopleAci4idm.ldif
dn: ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
changetype: modify
add: aci
aci: (targetattr="*||ds-pwp-account-disabled")(version 3.0; acl "IDM Access"; allow (all)
  userdn="ldap:///uid=idm,ou=Administrators,dc=acme,dc=com";)

- run ./ldapmodify -p 389 -D "cn=Directory Manager" -W -c -f /usr/local/src/addPeopleAci4idm.ldif

midpoint#>./ldapmodify -p 389 -D "cn=Directory Manager" -W -c -f /usr/local/src/addPeopleAci4idm.ldif
Password for user 'cn=Directory Manager':
Processing MODIFY request for ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
MODIFY operation successful for DN ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu

- unsuccessful attempt to view aci: ldapsearch -p 389 -D "cn=Directory Manager" -W (aci=*) aci

- add admin user

midpoint#>cat /usr/local/src/addAdmin.ldif

dn: ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectclass: top
objectclass: organizationalunit
ou: Administrators

dn: uid=idm, ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
uid: idm
cn: IDM Administrator
sn: IDM Administrator
description: Special LDAP acccount used by the IDM to access the LDAP data.
ou: Administrators
userPassword: secret
ds-privilege-name: unindexed-search
ds-privilege-name: password-reset

midpoint#>./ldapmodify -p 389 -D "cn=Directory Manager" -W -c -a -f /usr/local/src/addAdmin.ldif

Password for user 'cn=Directory Manager':
Processing ADD request for ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
ADD operation successful for DN ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
Processing ADD request for uid=idm,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
ADD operation successful for DN uid=idm,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu

- list all directory entries

midpoint#>./ldapsearch -b dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu "(objectclass=*)"

dn: dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: domain
dc: midpoint

dn: ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: organizationalUnit
ou: People

dn: ou=Group,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: organizationalUnit
ou: Group

dn: ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: organizationalunit
ou: Administrators

dn: uid=idm,ou=Administrators,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: organizationalPerson
objectClass: top
objectClass: person
objectClass: inetOrgPerson
uid: idm
ou: Administrators
description: Special LDAP acccount used by the IDM to access the LDAP data.
cn: IDM Administrator
sn: IDM Administrator

_____________________
h6. 2016-09-01 16:58  try import-ldif -b dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu -n userRoot -l /usr/local/src/base.ldif

per https://backstage.forgerock.com/#!/docs/opendj/3/reference/admin-tools-ref

./bin/ldapsearch -h 127.0.0.1 -b "dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu" -s sub "objectclass=*"
_____________________
h6. 2016-09-01 11:10  adding entries to LDAP with ./ldapmodify -a

stop-ds
export-ldif  --includeBranch dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu  --backendID userRoot  --ldifFile /usr/local/src/backup.ldif

midpoint#>cat /usr/local/src/backup.ldif

dn: dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: domain
dc: midpoint
entryUUID: 50ebeead-4884-37fe-af2b-7b3ae1025c5b



midpoint#>./bin/ldapsearch --baseDN dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu "(objectclass=*)"

dn: dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: domain
dc: midpoint

midpoint#>pwd
/opt/opendj

midpoint#>./bin/ldapmodify -a -W -Dcn='Directory Manager' -v -f /usr/local/src/base.ldif

Processing ADD request for ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
[01/09/2016:17:00:26 -0400] category=TOOLS seq=0 severity=FINEST msg=LDAPMessage(msgID=1, protocolOp=AddRequest(dn=ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu, attrs={LDAPAttribute(type=objectClass, values={organizationalUnit}), LDAPAttribute(type=ou, values={People})}))
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=1 severity=FINEST msg=WRITE ASN.1 START SEQUENCE(type=0x30)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=2 severity=FINEST msg=WRITE ASN.1 INTEGER(type=0x2, length=1, value=1)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=3 severity=FINEST msg=WRITE ASN.1 START SEQUENCE(type=0x68)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=4 severity=FINEST msg=WRITE ASN.1 OCTETSTRING(type=0x4, length=60)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=5 severity=FINEST msg=WRITE ASN.1 START SEQUENCE(type=0x30)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=6 severity=FINEST msg=WRITE ASN.1 START SEQUENCE(type=0x30)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=7 severity=FINEST msg=WRITE ASN.1 OCTETSTRING(type=0x4, length=11, value=objectClass)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=8 severity=FINEST msg=WRITE ASN.1 START SEQUENCE(type=0x31)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=9 severity=FINEST msg=WRITE ASN.1 OCTETSTRING(type=0x4, length=18)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=10 severity=FINEST msg=WRITE ASN.1 END SEQUENCE(length=20)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=11 severity=FINEST msg=WRITE ASN.1 END SEQUENCE(length=35)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=12 severity=FINEST msg=WRITE ASN.1 START SEQUENCE(type=0x30)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=13 severity=FINEST msg=WRITE ASN.1 OCTETSTRING(type=0x4, length=2, value=ou)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=14 severity=FINEST msg=WRITE ASN.1 START SEQUENCE(type=0x31)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=15 severity=FINEST msg=WRITE ASN.1 OCTETSTRING(type=0x4, length=6)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=16 severity=FINEST msg=WRITE ASN.1 END SEQUENCE(length=8)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=17 severity=FINEST msg=WRITE ASN.1 END SEQUENCE(length=14)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=18 severity=FINEST msg=WRITE ASN.1 END SEQUENCE(length=53)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=19 severity=FINEST msg=WRITE ASN.1 END SEQUENCE(length=117)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=20 severity=FINEST msg=WRITE ASN.1 END SEQUENCE(length=122)
[01/09/2016:17:00:26 -0400] category=TOOLS seq=21 severity=FINEST msg=bytes written to wire(len=124):
    30 7A 02 01 01 68 75 04   3C 6F 75 3D 50 65 6F 70  0z   hu  <ou=Peop
    6C 65 2C 64 63 3D 6D 69   64 70 6F 69 6E 74 2C 64  le,dc=mi dpoint,d
    63 3D 74 65 73 74 62 65   64 2C 64 63 3D 74 69 65  c=testbe d,dc=tie
    72 2C 64 63 3D 69 6E 74   65 72 6E 65 74 32 2C 64  r,dc=int ernet2,d
    63 3D 65 64 75 30 35 30   23 04 0B 6F 62 6A 65 63  c=edu050 #  objec
    74 43 6C 61 73 73 31 14   04 12 6F 72 67 61 6E 69  tClass1    organi
    7A 61 74 69 6F 6E 61 6C   55 6E 69 74 30 0E 04 02  zational Unit0
    6F 75 31 08 04 06 50 65   6F 70 6C 65              ou1   Pe ople

[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=22 severity=FINEST msg=READ ASN.1 START SEQUENCE(type=0x30, length=132)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=23 severity=FINEST msg=READ ASN.1 INTEGER(type=0x2, length=1, value=1)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=24 severity=FINEST msg=READ ASN.1 START SEQUENCE(type=0x69, length=127)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=25 severity=FINEST msg=READ ASN.1 INTEGER(type=0xa, length=1, value=50)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=26 severity=FINEST msg=READ ASN.1 OCTETSTRING(type=0x4, length=120, value=The entry ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu cannot be added due to insufficient access rights)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=27 severity=FINEST msg=READ ASN.1 END SEQUENCE
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=28 severity=FINEST msg=READ ASN.1 END SEQUENCE
[01/09/2016:17:00:26 -0400] category=TOOLS seq=29 severity=FINEST msg=bytes read from wire(len=135):
    30 81 84 02 01 01 69 7F   0A 01 32 04 00 04 78 54  0     i    2   xT
    68 65 20 65 6E 74 72 79   20 6F 75 3D 50 65 6F 70  he entry  ou=Peop
    6C 65 2C 64 63 3D 6D 69   64 70 6F 69 6E 74 2C 64  le,dc=mi dpoint,d
    63 3D 74 65 73 74 62 65   64 2C 64 63 3D 74 69 65  c=testbe d,dc=tie
    72 2C 64 63 3D 69 6E 74   65 72 6E 65 74 32 2C 64  r,dc=int ernet2,d
    63 3D 65 64 75 20 63 61   6E 6E 6F 74 20 62 65 20  c=edu ca nnot be
    61 64 64 65 64 20 64 75   65 20 74 6F 20 69 6E 73  added du e to ins
    75 66 66 69 63 69 65 6E   74 20 61 63 63 65 73 73  ufficien t access
    20 72 69 67 68 74 73                                rights

[01/09/2016:17:00:26 -0400] category=TOOLS seq=30 severity=FINEST msg=LDAPMessage(msgID=1, protocolOp=AddResponse(resultCode=50, errorMessage=The entry ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu cannot be added due to insufficient access rights))
[01/09/2016:17:00:26 -0400] category=TOOLS seq=31 severity=FINEST msg=ADD operation failed exception=LDAPException: ADD operation failed (LDAPModify.java:398 LDAPModify.java:1117 LDAPModify.java:510)
ADD operation failed
Result Code:  50 (Insufficient Access Rights)
Additional Information:  The entry ou=People,dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu cannot be added due to insufficient access rights
[01/09/2016:17:00:26 -0400] category=TOOLS seq=32 severity=FINEST msg=LDAPMessage(msgID=2, protocolOp=UnbindRequest())
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=33 severity=FINEST msg=WRITE ASN.1 START SEQUENCE(type=0x30)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=34 severity=FINEST msg=WRITE ASN.1 INTEGER(type=0x2, length=1, value=2)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=35 severity=FINEST msg=WRITE ASN.1 NULL(type=0x42, length=0)
[01/09/2016:17:00:26 -0400] category=PROTOCOL seq=36 severity=FINEST msg=WRITE ASN.1 END SEQUENCE(length=5)
[01/09/2016:17:00:26 -0400] category=TOOLS seq=37 severity=FINEST msg=bytes written to wire(len=7):
    30 05 02 01 02 42 00                               0    B


./bin/ldapsearch –h localhost –D “cn=directory manager” –w “Ent-Reg-=mp” -b “cn=config” -s sub “cn=Access Control Handler” ds-cfg-global-aci
_____________________
h6. 2016-09-01 06:51  Adding entries to LDAP

./ldapmodify -a -W -D 'cn=Directory Manager' -v -f ../config/config.ldif -c

already loaded
_____________________
h6. 2016-08-31 19:36  load base and other objects into OpenDJ LDAP server per https://wikis.forgerock.org/confluence/display/OPENDJ/OpenDJ+Installation+Guide

midpoint#>pwd
/opt/opendj/config

midpoint#>ls -la
total 4508
drwxr-xr-x.  8 root root    4096 Aug 27 12:45 .
drwxr-xr-x. 17 root root    4096 Aug 27 12:44 ..
-rw-------.  1 root root    2420 Aug 27 12:45 admin-backend.ldif
-rw-r--r--.  1 root root     999 Aug 27 12:44 admin-backend.ldif.old
-rw-r--r--.  1 root root    2215 Aug 27 12:45 admin-keystore
-rw-------.  1 root root      51 Aug 27 12:45 admin-keystore.pin
-rw-r--r--.  1 root root     925 Aug 27 12:45 admin-truststore
-rw-r--r--.  1 root root    3014 Aug 27 12:45 ads-truststore
-rw-------.  1 root root      51 Aug 27 12:45 ads-truststore.pin
drwxr-xr-x.  2 root root      70 Aug 27 12:44 archived-configs
-rw-r--r--.  1 root root      46 Aug 27 12:44 buildinfo
-rw-------.  1 root root   95176 Aug 27 12:44 config.ldif
-rw-------.  1 root root   95176 Aug 27 12:45 config.ldif.startok
-rw-r--r--.  1 root root    7601 Aug 27 12:44 http-config.json
-rw-r--r--.  1 root root    5256 Aug 27 12:44 java.properties
-rw-r--r--.  1 root root    2180 Aug 27 12:44 keystore
-rw-------.  1 root root      51 Aug 27 12:44 keystore.pin
drwxr-xr-x.  2 root root     104 Aug 27 12:44 MakeLDIF
drwxr-xr-x.  2 root root    4096 Aug 27 12:44 messages
drwxr-xr-x.  2 root root    4096 Aug 27 12:44 schema
drwxr-xr-x.  3 root root      21 Aug 27 12:44 snmp
-rw-------.  1 root root     572 Aug 27 12:45 tasks.ldif
-rw-r--r--.  1 root root    1852 Aug 27 12:44 tools.properties
-rw-r--r--.  1 root root     890 Aug 27 12:44 truststore
drwxr-xr-x.  2 root root      65 Aug 27 12:44 upgrade
-rw-r--r--.  1 root root 4330722 Aug 27 12:44 wordlist.txt

midpoint#>ls -la schema
total 376
drwxr-xr-x. 2 root root   4096 Aug 27 12:44 .
drwxr-xr-x. 8 root root   4096 Aug 27 12:45 ..
-rw-r--r--. 1 root root  44096 Aug 27 12:44 00-core.ldif
-rw-r--r--. 1 root root   6545 Aug 27 12:44 01-pwpolicy.ldif
-rw-r--r--. 1 root root 200763 Aug 27 12:44 02-config.ldif
-rw-r--r--. 1 root root   5007 Aug 27 12:44 03-changelog.ldif
-rw-r--r--. 1 root root   1227 Aug 27 12:44 03-pwpolicyextension.ldif
-rw-r--r--. 1 root root   3510 Aug 27 12:44 03-rfc2713.ldif
-rw-r--r--. 1 root root   2082 Aug 27 12:44 03-rfc2714.ldif
-rw-r--r--. 1 root root   3184 Aug 27 12:44 03-rfc2739.ldif
-rw-r--r--. 1 root root   3221 Aug 27 12:44 03-rfc2926.ldif
-rw-r--r--. 1 root root   1659 Aug 27 12:44 03-rfc3112.ldif
-rw-r--r--. 1 root root  12601 Aug 27 12:44 03-rfc3712.ldif
-rw-r--r--. 1 root root  15807 Aug 27 12:44 03-uddiv3.ldif
-rw-r--r--. 1 root root  12156 Aug 27 12:44 04-rfc2307bis.ldif
-rw-r--r--. 1 root root   6288 Aug 27 12:44 05-rfc4876.ldif
-rw-r--r--. 1 root root  12172 Aug 27 12:44 05-samba.ldif
-rw-r--r--. 1 root root  14090 Aug 27 12:44 05-solaris.ldif
-rw-r--r--. 1 root root   1309 Aug 27 12:44 06-compat.ldif

midpoint#>cat schema/00-core.ldif

# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License, Version 1.0 only
# (the "License").  You may not use this file except in compliance
# with the License.
#
# You can obtain a copy of the license at legal-notices/CDDLv1_0.txt
# or http://forgerock.org/license/CDDLv1.0.html.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at legal-notices/CDDLv1_0.txt.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information:
#      Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
#
#      Copyright 2006-2010 Sun Microsystems, Inc.
#      Portions Copyright 2011-2015 ForgeRock AS
#      Portions Copyright 2013-2014 Manuel Gaupp
#
#
# This file contains a core set of attribute type and objectlass definitions
# from several standard LDAP documents (primarily RFCs and IETF Internet
# Drafts).  The X-ORIGIN component of each name should provide the
# specification in which that attribute type or objectclass is defined.
dn: cn=schema
objectClass: top
objectClass: ldapSubentry
objectClass: subschema
ldapSyntaxes: ( 1.3.6.1.4.1.26027.1.3.6 DESC 'Collective Conflict Behavior'
  X-ENUM ( 'real-overrides-virtual' 'virtual-overrides-real'
  'merge-real-and-virtual' ) )
attributeTypes: ( 2.5.4.41 NAME 'name' EQUALITY caseIgnoreMatch
  SUBSTR caseIgnoreSubstringsMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{32768}
  X-ORIGIN 'RFC 4519' )
attributeTypes: ( 2.5.4.49 NAME 'distinguishedName'
  EQUALITY distinguishedNameMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.12
  X-ORIGIN 'RFC 4519' )
attributeTypes: ( 2.5.4.0 NAME 'objectClass' EQUALITY objectIdentifierMatch
  SYNTAX 1.3.6.1.4.1.1466.115.121.1.38 X-ORIGIN 'RFC 4512' )
...

midpoint#>ldapsearch --hostname localhost --baseDN "dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu" "(objectclass=*)"

dn: dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass: top
objectClass: domain
dc: midpoint


Result Code:  0 (Success)
midpoint#>

ldapsearch --hostname localhost --baseDN "dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu" --typesOnly "(objectclass=*)"

midpoint#>ldapsearch --hostname localhost --baseDN "dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu" --typesOnly "(objectclass=*)"
dn: dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
objectClass:
dc:

Result Code:  0 (Success)

ldapsearch --hostname localhost --baseDN "dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu" "(objectclass=*)"

Only one dn in the directory.
_____________________
h6. 2016-08-31 18:54  making rabbitmq more real (already tested on midpoint.testbed host)

Jim,

Here’s some python code that should publish a json message to a queue on my remote machine (midpoint.testbed.tier.internet2.edu)
Assumes that port 5672 outbound is open and that pip packages pika and json are available.

              YMMV,    --Keith

import pika
import json

credentials = pika.PlainCredentials('tics', 't1cst1cs')

connection = pika.BlockingConnection(pika.ConnectionParameters(host='midpoint.testbed.tier.internet2.edu',
        port=5672,
        virtual_host='/',
        credentials=credentials))
channel = connection.channel()
channel.queue_declare(queue='SorPerson')

data = {
      "schemas":["urn:ietf:params:scim:schemas:core:2.0:User"],
      "userName":"bjensen",
      "externalId":"bjensen",
      "name":{
         "formatted":"Ms. Barbara J Jensen III",
         "familyName":"Jensen",
         "givenName":"Barbara",
         "middleName": "Jane",
         "displayName": "Babs Jensen"
         },
      "emails":[
       {
         "value":"bjensen@example.com"
         }]
     }

message = json.dumps(data)

channel.basic_publish(exchange='', routing_key='SorPerson', body=message)

print(" [x] Sent data to RabbitMQ")

connection.close()
____________________________
_____________________
h6. 2016-08-31 13:44  learning log speak

- With audit logging on (created jaj w t1csx2):

midpoint#>cat $CATALINA_HOME/logs/idm-profile.log

2016-08-31 14:42:53,005 INFO: 2016-08-31T14:42:53.005-0400 eid=1472668973005-0-1, et=ADD_OBJECT, es=REQUEST, sid=null, tid=1472668972973-0-1, toid=null, hid=null, I=FocusType:d775667f-868e-4fb7-a514-d1b95513bcd4({http://midpoint.evolveum.com/xml/ns/public/common/common-3}user), T=FocusType:null({http://midpoint.evolveum.com/xml/ns/public/common/common-3}user), TO=null, D=[null:ADD], ch=http://midpoint.evolveum.com/xml/ns/public/gui/channels-3#user, o=null, p=null, m=
2016-08-31 14:42:53,028 DEBUG: Details of event 1472668973005-0-1 stage REQUEST
Deltas:
  ObjectDeltaOperation
    Delta:
      ObjectDelta<UserType>(UserType:null,ADD):
        user: (null, UserType)
            parentOrgRef: [ ]
            name: jaj
            fullName: James Jokl
            givenName: James
            familyName: Jokl
            activation:
                administrativeStatus: ENABLED
            credentials:
                password:
                    value:
                      ProtectedStringType(encrypted=EncryptedDataType(encryptionMethod=EncryptionMethodType(algorithm=http://www.w3.org/2001/04/xmlenc#aes128-cbc), keyInfo=KeyInfoType(keyName=Q+AvyGW74OoXmdukiz3RAzE7fH8=), cipherData=CipherDataType(cipherValue=[32 bytes])))
            assignment:
    Execution result: null
    Object name: null

2016-08-31 14:42:53,045 INFO: 2016-08-31T14:42:53.045-0400 eid=1472668973045-0-1, et=ADD_OBJECT, es=EXECUTION, sid=null, tid=1472668972973-0-1, toid=null, hid=null, I=FocusType:d775667f-868e-4fb7-a514-d1b95513bcd4({http://midpoint.evolveum.com/xml/ns/public/common/common-3}user), T=FocusType:840a1a41-fa64-4774-9c9c-c907ebe3ae5b({http://midpoint.evolveum.com/xml/ns/public/common/common-3}user), TO=null, D=[840a1a41-fa64-4774-9c9c-c907ebe3ae5b:ADD], ch=http://midpoint.evolveum.com/xml/ns/public/gui/channels-3#user, o=SUCCESS, p=null, m=
2016-08-31 14:42:53,047 DEBUG: Details of event 1472668973045-0-1 stage EXECUTION
Deltas:
  LensObjectDeltaOperation
    Delta:
      ObjectDelta<UserType>(UserType:840a1a41-fa64-4774-9c9c-c907ebe3ae5b,ADD):
        user: (840a1a41-fa64-4774-9c9c-c907ebe3ae5b, v0, UserType)
            name: jaj
            fullName: James Jokl
            givenName: James
            familyName: Jokl
            activation:
                administrativeStatus: ENABLED
                effectiveStatus: ENABLED
                enableTimestamp: 2016-08-31T14:42:53.034-04:00
            credentials:
                password:
                    value:
                      ProtectedStringType(encrypted=EncryptedDataType(encryptionMethod=EncryptionMethodType(algorithm=http://www.w3.org/2001/04/xmlenc#aes128-cbc), keyInfo=KeyInfoType(keyName=Q+AvyGW74OoXmdukiz3RAzE7fH8=), cipherData=CipherDataType(cipherValue=[32 bytes])))
                    metadata:
                        createChannel:
                          http://midpoint.evolveum.com/xml/ns/public/gui/channels-3#user
                        createTimestamp: 2016-08-31T14:42:53.034-04:00
                        creatorRef: oid=d775667f-868e-4fb7-a514-d1b95513bcd4(UserType)('keith')
            iteration: 0
            iterationToken:
            metadata:
                createChannel:
                  http://midpoint.evolveum.com/xml/ns/public/gui/channels-3#user
                createTimestamp: 2016-08-31T14:42:53.040-04:00
                creatorRef: oid=d775667f-868e-4fb7-a514-d1b95513bcd4(UserType)('keith')
                createApproverRef: [ ]
                modifyApproverRef: [ ]
            parentOrgRef: [ ]
            trigger:
            linkRef: [ ]
            roleMembershipRef: [ ]
            assignment:
            employeeType: []
            organizationalUnit: []
            organization: []
    Execution result:
            *op* com.evolveum.midpoint.model.impl.lens.ChangeExecutor.executeDelta, st: SUCCESS, msg: null
                *op* com.evolveum.midpoint.task.api.Task.listSubtasksDeeply, st: SUCCESS, msg: null
                        [c]implementationClass=com.evolveum.midpoint.task.quartzimpl.TaskQuartzImpl
                        [c]oid=null
                    *op* com.evolveum.midpoint.task.api.Task.listSubtasksRaw, st: SUCCESS, msg: null
                            [c]implementationClass=com.evolveum.midpoint.task.quartzimpl.TaskQuartzImpl
                            [c]oid=null
                *op* com.evolveum.midpoint.repo.api.RepositoryService.addObject, st: SUCCESS, msg: null
                        [p]options=RepoAddOptions(overwrite=false, allowUnencryptedValues=false)
                        [p]object=user:840a1a41-fa64-4774-9c9c-c907ebe3ae5b(jaj)

    Object name:
      PolyString(jaj,jaj)
    audited: false

2016-08-31 14:42:53,097 INFO: 2016-08-31T14:42:53.096-0400 eid=1472668973096-0-1, et=ADD_OBJECT, es=EXECUTION, sid=null, tid=1472668972973-0-1, toid=null, hid=null, I=FocusType:d775667f-868e-4fb7-a514-d1b95513bcd4({http://midpoint.evolveum.com/xml/ns/public/common/common-3}user), T=FocusType:840a1a41-fa64-4774-9c9c-c907ebe3ae5b({http://midpoint.evolveum.com/xml/ns/public/common/common-3}user), TO=null, D=[840a1a41-fa64-4774-9c9c-c907ebe3ae5b:MODIFY], ch=http://midpoint.evolveum.com/xml/ns/public/gui/channels-3#user, o=SUCCESS, p=null, m=
2016-08-31 14:42:53,098 DEBUG: Details of event 1472668973096-0-1 stage EXECUTION
Deltas:
  LensObjectDeltaOperation
    Delta:
      ObjectDelta<UserType>(UserType:840a1a41-fa64-4774-9c9c-c907ebe3ae5b,MODIFY):
        activation/enableTimestamp
          REPLACE: 2016-08-31T14:42:53.070-04:00
        metadata/modifyChannel
          REPLACE: http://midpoint.evolveum.com/xml/ns/public/gui/channels-3#user
        metadata/modifyTimestamp
          REPLACE: 2016-08-31T14:42:53.078-04:00
        metadata/modifierRef
          REPLACE: oid=d775667f-868e-4fb7-a514-d1b95513bcd4('keith')
    Execution result:
            *op* com.evolveum.midpoint.model.impl.lens.ChangeExecutor.executeDelta, st: SUCCESS, msg: null
                *op* com.evolveum.midpoint.task.api.Task.listSubtasksDeeply, st: SUCCESS, msg: null
                        [c]implementationClass=com.evolveum.midpoint.task.quartzimpl.TaskQuartzImpl
                        [c]oid=null
                    *op* com.evolveum.midpoint.task.api.Task.listSubtasksRaw, st: SUCCESS, msg: null
                            [c]implementationClass=com.evolveum.midpoint.task.quartzimpl.TaskQuartzImpl
                            [c]oid=null
                *op* com.evolveum.midpoint.repo.api.RepositoryService.modifyObject, st: SUCCESS, msg: null
                        [p]oid=840a1a41-fa64-4774-9c9c-c907ebe3ae5b
                        [p]type=com.evolveum.midpoint.xml.ns._public.common.common_3.UserType
                        [p]modifications=[PropertyDelta(activation / {.../common/common-3}enableTimestamp, REPLACE),PropertyDelta(metadata / {.../common/common-3}modifyChannel, REPLACE),PropertyDelta(metadata / {.../common/common-3}modifyTimestamp, REPLACE),ReferenceDelta(metadata / {.../common/common-3}modifierRef, REPLACE)]

    Object name:
      PolyString(jaj,jaj)
    audited: false

_____________________
h6. 2016-08-31 12:16  administering RabbitMQ

[kh@midpoint ~]$ sudo bash
midpoint#>rabbitmqctl status
Status of node rabbit@midpoint ...
[{pid,27097},
 {running_applications,[{rabbit,"RabbitMQ","3.6.1"},
                        {mnesia,"MNESIA  CXC 138 12","4.14"},
                        {rabbit_common,[],"3.6.1"},
                        {xmerl,"XML parser","1.3.11"},
                        {ranch,"Socket acceptor pool for TCP protocols.",
                               "1.2.1"},
                        {os_mon,"CPO  CXC 138 46","2.4.1"},
                        {sasl,"SASL  CXC 138 11","3.0"},
                        {stdlib,"ERTS  CXC 138 10","3.0"},
                        {kernel,"ERTS  CXC 138 10","5.0"}]},
 {os,{unix,linux}},
 {erlang_version,"Erlang/OTP 19 [erts-8.0] [source-6dc93c1] [64-bit] [async-threads:64] [hipe] [kernel-poll:true]\n"},
 {memory,[{total,35819344},
          {connection_readers,0},
          {connection_writers,0},
          {connection_channels,0},
          {connection_other,0},
          {queue_procs,26128},
          {queue_slave_procs,0},
          {plugins,0},
          {other_proc,13285912},
          {mnesia,60000},
          {mgmt_db,0},
          {msg_index,38664},
          {other_ets,892832},
          {binary,11024},
          {code,15449173},
          {atom,662433},
          {other_system,5393178}]},
 {alarms,[]},
 {listeners,[{clustering,25672,"::"},{amqp,5672,"::"}]},
 {vm_memory_high_watermark,0.4},
 {vm_memory_limit,771144089},
 {disk_free_limit,50000000},
 {disk_free,4326563840},
 {file_descriptors,[{total_limit,924},
                    {total_used,2},
                    {sockets_limit,829},
                    {sockets_used,0}]},
 {processes,[{limit,1048576},{used,142}]},
 {run_queue,0},
 {uptime,84193},
 {kernel,{net_ticktime,60}}]
midpoint#>sudo rabbitmqctl add_user tics entreg007
Creating user "tics" ...
midpoint#>sudo rabbitmqctl add_user keith Ent-Reg-=mp
Creating user "keith" ...
midpoint#>rabbitmqctl help
Usage:
rabbitmqctl [-n <node>] [-t <timeout>] [-q] <command> [<command options>]

Options:
    -n node
    -q
    -t timeout

Default node is "rabbit@server", where server is the local host. On a host
named "server.example.com", the node name of the RabbitMQ Erlang node will
usually be rabbit@server (unless RABBITMQ_NODENAME has been set to some
non-default value at broker startup time). The output of hostname -s is usually
the correct suffix to use after the "@" sign. See rabbitmq-server(1) for
details of configuring the RabbitMQ broker.

Quiet output mode is selected with the "-q" flag. Informational messages are
suppressed when quiet mode is in effect.

Operation timeout in seconds. Only applicable to "list" commands. Default is
"infinity".

Commands:
    stop [<pid_file>]
    stop_app
    start_app
    wait <pid_file>
    reset
    force_reset
    rotate_logs <suffix>

    join_cluster <clusternode> [--ram]
    cluster_status
    change_cluster_node_type disc | ram
    forget_cluster_node [--offline]
    rename_cluster_node oldnode1 newnode1 [oldnode2] [newnode2 ...]
    update_cluster_nodes clusternode
    force_boot
    sync_queue [-p <vhost>] queue
    cancel_sync_queue [-p <vhost>] queue
    purge_queue [-p <vhost>] queue
    set_cluster_name name

    add_user <username> <password>
    delete_user <username>
    change_password <username> <newpassword>
    clear_password <username>

            authenticate_user <username> <password>

    set_user_tags <username> <tag> ...
    list_users

    add_vhost <vhost>
    delete_vhost <vhost>
    list_vhosts [<vhostinfoitem> ...]
    set_permissions [-p <vhost>] <user> <conf> <write> <read>
    clear_permissions [-p <vhost>] <username>
    list_permissions [-p <vhost>]
    list_user_permissions <username>

    set_parameter [-p <vhost>] <component_name> <name> <value>
    clear_parameter [-p <vhost>] <component_name> <key>
    list_parameters [-p <vhost>]

    set_policy [-p <vhost>] [--priority <priority>] [--apply-to <apply-to>]
<name> <pattern>  <definition>
    clear_policy [-p <vhost>] <name>
    list_policies [-p <vhost>]

    list_queues [-p <vhost>] [<queueinfoitem> ...]
    list_exchanges [-p <vhost>] [<exchangeinfoitem> ...]
    list_bindings [-p <vhost>] [<bindinginfoitem> ...]
    list_connections [<connectioninfoitem> ...]
    list_channels [<channelinfoitem> ...]
    list_consumers [-p <vhost>]
    status
    environment
    report
    eval <expr>

    close_connection <connectionpid> <explanation>
    trace_on [-p <vhost>]
    trace_off [-p <vhost>]
    set_vm_memory_high_watermark <fraction>
    set_vm_memory_high_watermark absolute <memory_limit>
    set_disk_free_limit <disk_limit>
    set_disk_free_limit mem_relative <fraction>

<vhostinfoitem> must be a member of the list [name, tracing].

The list_queues, list_exchanges and list_bindings commands accept an optional
virtual host parameter for which to display results. The default value is "/".

<queueinfoitem> must be a member of the list [name, durable, auto_delete,
arguments, policy, pid, owner_pid, exclusive, exclusive_consumer_pid,
exclusive_consumer_tag, messages_ready, messages_unacknowledged, messages,
messages_ready_ram, messages_unacknowledged_ram, messages_ram,
messages_persistent, message_bytes, message_bytes_ready,
message_bytes_unacknowledged, message_bytes_ram, message_bytes_persistent,
head_message_timestamp, disk_reads, disk_writes, consumers,
consumer_utilisation, memory, slave_pids, synchronised_slave_pids, state].

<exchangeinfoitem> must be a member of the list [name, type, durable,
auto_delete, internal, arguments, policy].

<bindinginfoitem> must be a member of the list [source_name, source_kind,
destination_name, destination_kind, routing_key, arguments].

<connectioninfoitem> must be a member of the list [pid, name, port, host,
peer_port, peer_host, ssl, ssl_protocol, ssl_key_exchange, ssl_cipher,
ssl_hash, peer_cert_subject, peer_cert_issuer, peer_cert_validity, state,
channels, protocol, auth_mechanism, user, vhost, timeout, frame_max,
channel_max, client_properties, recv_oct, recv_cnt, send_oct, send_cnt,
send_pend, connected_at].

<channelinfoitem> must be a member of the list [pid, connection, name, number,
user, vhost, transactional, confirm, consumer_count, messages_unacknowledged,
messages_uncommitted, acks_uncommitted, messages_unconfirmed, prefetch_count,
global_prefetch_count].


midpoint#>hostname -s
midpoint

midpoint#>rabbitmqctl list_users

Listing users ...
tics	[]
keith	[]
guest	[administrator]



midpoint#>rabbitmqctl list_user_permissions tics

Listing permissions for user "tics" ...

midpoint#>rabbitmqctl list_user_permissions guest

Listing permissions for user "guest" ...

/	.*	.*	.*

midpoint#>rabbitmqctl list_user_permissions keith

Listing permissions for user "keith" ...

midpoint#>rabbitmqctl change_password guest nuh-uh-uhh!
_____________________
h6. 2016-08-31 10:41  install ant and maven

----------
KeithsOfficeMBP:~ khazelton$ ssh kh@midpoint.testbed.tier.internet2.edu
Last login: Wed Aug 31 12:23:03 2016 from 68-190-167-202.dhcp.eucl.wi.charter.com
[kh@midpoint ~]$ sudo bash

midpoint#>yum info ant
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirror.metrocast.net
 * epel: mirrors.cat.pdx.edu
 * extras: mirrors.kernel.org
 * updates: mirror.tocici.com
Available Packages
Name        : ant
Arch        : noarch
Version     : 1.9.2
Release     : 9.el7
Size        : 1.9 M
Repo        : base/7/x86_64
Summary     : Build tool for java
URL         : http://ant.apache.org/
License     : ASL 2.0
Description : Ant is a platform-independent build tool for java. It's used by apache
            : jakarta and xml projects.

midpoint#>yum install ant

Loaded plugins: fastestmirror
base                                                                                                                     | 3.6 kB  00:00:00
epel/x86_64/metalink                                                                                                     | 9.9 kB  00:00:00
epel                                                                                                                     | 4.3 kB  00:00:00
erlang-solutions                                                                                                         |  951 B  00:00:00
extras                                                                                                                   | 3.4 kB  00:00:00
updates                                                                                                                  | 3.4 kB  00:00:00
(1/2): epel/x86_64/updateinfo                                                                                            | 612 kB  00:00:00
(2/2): epel/x86_64/primary_db                                                                                            | 4.3 MB  00:00:00
Loading mirror speeds from cached hostfile
 * base: mirror.math.princeton.edu
 * epel: s3-mirror-us-west-2.fedoraproject.org
 * extras: mirrors.kernel.org
 * updates: mirror.tocici.com
Resolving Dependencies
--> Running transaction check
---> Package ant.noarch 0:1.9.2-9.el7 will be installed
--> Processing Dependency: java-devel >= 1.5.0 for package: ant-1.9.2-9.el7.noarch
--> Processing Dependency: xml-commons-apis for package: ant-1.9.2-9.el7.noarch
--> Processing Dependency: xerces-j2 for package: ant-1.9.2-9.el7.noarch
--> Running transaction check
---> Package java-1.7.0-openjdk-devel.x86_64 1:1.7.0.111-2.6.7.2.el7_2 will be installed
--> Processing Dependency: java-1.7.0-openjdk = 1:1.7.0.111-2.6.7.2.el7_2 for package: 1:java-1.7.0-openjdk-devel-1.7.0.111-2.6.7.2.el7_2.x86_64
---> Package xerces-j2.noarch 0:2.11.0-17.el7_0 will be installed
--> Processing Dependency: xml-commons-resolver >= 1.2 for package: xerces-j2-2.11.0-17.el7_0.noarch
--> Processing Dependency: xalan-j2 >= 2.7.1 for package: xerces-j2-2.11.0-17.el7_0.noarch
--> Processing Dependency: osgi(org.apache.xml.serializer) for package: xerces-j2-2.11.0-17.el7_0.noarch
--> Processing Dependency: osgi(org.apache.xml.resolver) for package: xerces-j2-2.11.0-17.el7_0.noarch
---> Package xml-commons-apis.noarch 0:1.4.01-16.el7 will be installed
--> Running transaction check
---> Package java-1.7.0-openjdk.x86_64 1:1.7.0.111-2.6.7.2.el7_2 will be installed
--> Processing Dependency: java-1.7.0-openjdk-headless = 1:1.7.0.111-2.6.7.2.el7_2 for package: 1:java-1.7.0-openjdk-1.7.0.111-2.6.7.2.el7_2.x86_64
--> Processing Dependency: libpulse.so.0(PULSE_0)(64bit) for package: 1:java-1.7.0-openjdk-1.7.0.111-2.6.7.2.el7_2.x86_64
--> Processing Dependency: libpulse.so.0()(64bit) for package: 1:java-1.7.0-openjdk-1.7.0.111-2.6.7.2.el7_2.x86_64
---> Package xalan-j2.noarch 0:2.7.1-23.el7 will be installed
---> Package xml-commons-resolver.noarch 0:1.2-15.el7 will be installed
--> Running transaction check
---> Package java-1.7.0-openjdk-headless.x86_64 1:1.7.0.111-2.6.7.2.el7_2 will be installed
--> Processing Dependency: libpcsclite.so.1()(64bit) for package: 1:java-1.7.0-openjdk-headless-1.7.0.111-2.6.7.2.el7_2.x86_64
--> Processing Dependency: libgconf-2.so.4()(64bit) for package: 1:java-1.7.0-openjdk-headless-1.7.0.111-2.6.7.2.el7_2.x86_64
---> Package pulseaudio-libs.x86_64 0:6.0-7.el7 will be installed
--> Processing Dependency: libsndfile.so.1(libsndfile.so.1.0)(64bit) for package: pulseaudio-libs-6.0-7.el7.x86_64
--> Processing Dependency: libsndfile.so.1()(64bit) for package: pulseaudio-libs-6.0-7.el7.x86_64
--> Processing Dependency: libasyncns.so.0()(64bit) for package: pulseaudio-libs-6.0-7.el7.x86_64
--> Running transaction check
---> Package GConf2.x86_64 0:3.2.6-8.el7 will be installed
--> Processing Dependency: /usr/bin/killall for package: GConf2-3.2.6-8.el7.x86_64
---> Package libasyncns.x86_64 0:0.8-7.el7 will be installed
---> Package libsndfile.x86_64 0:1.0.25-10.el7 will be installed
--> Processing Dependency: libvorbisenc.so.2()(64bit) for package: libsndfile-1.0.25-10.el7.x86_64
--> Processing Dependency: libvorbis.so.0()(64bit) for package: libsndfile-1.0.25-10.el7.x86_64
--> Processing Dependency: libogg.so.0()(64bit) for package: libsndfile-1.0.25-10.el7.x86_64
--> Processing Dependency: libgsm.so.1()(64bit) for package: libsndfile-1.0.25-10.el7.x86_64
--> Processing Dependency: libFLAC.so.8()(64bit) for package: libsndfile-1.0.25-10.el7.x86_64
---> Package pcsc-lite-libs.x86_64 0:1.8.8-6.el7 will be installed
--> Running transaction check
---> Package flac-libs.x86_64 0:1.3.0-5.el7_1 will be installed
---> Package gsm.x86_64 0:1.0.13-11.el7 will be installed
---> Package libogg.x86_64 2:1.3.0-7.el7 will be installed
---> Package libvorbis.x86_64 1:1.3.3-8.el7 will be installed
---> Package psmisc.x86_64 0:22.20-9.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================================================================================
 Package                                      Arch                    Version                                    Repository                Size
================================================================================================================================================
Installing:
 ant                                          noarch                  1.9.2-9.el7                                base                     1.9 M
Installing for dependencies:
 GConf2                                       x86_64                  3.2.6-8.el7                                base                     1.0 M
 flac-libs                                    x86_64                  1.3.0-5.el7_1                              base                     169 k
 gsm                                          x86_64                  1.0.13-11.el7                              base                      30 k
 java-1.7.0-openjdk                           x86_64                  1:1.7.0.111-2.6.7.2.el7_2                  updates                  209 k
 java-1.7.0-openjdk-devel                     x86_64                  1:1.7.0.111-2.6.7.2.el7_2                  updates                  9.2 M
 java-1.7.0-openjdk-headless                  x86_64                  1:1.7.0.111-2.6.7.2.el7_2                  updates                   25 M
 libasyncns                                   x86_64                  0.8-7.el7                                  base                      26 k
 libogg                                       x86_64                  2:1.3.0-7.el7                              base                      24 k
 libsndfile                                   x86_64                  1.0.25-10.el7                              base                     149 k
 libvorbis                                    x86_64                  1:1.3.3-8.el7                              base                     204 k
 pcsc-lite-libs                               x86_64                  1.8.8-6.el7                                base                      34 k
 psmisc                                       x86_64                  22.20-9.el7                                base                     140 k
 pulseaudio-libs                              x86_64                  6.0-7.el7                                  base                     576 k
 xalan-j2                                     noarch                  2.7.1-23.el7                               base                     1.9 M
 xerces-j2                                    noarch                  2.11.0-17.el7_0                            base                     1.1 M
 xml-commons-apis                             noarch                  1.4.01-16.el7                              base                     227 k
 xml-commons-resolver                         noarch                  1.2-15.el7                                 base                     108 k

Transaction Summary
================================================================================================================================================
Install  1 Package (+17 Dependent packages)

Total download size: 42 M
Installed size: 147 M
Is this ok [y/d/N]: y
Downloading packages:
(1/18): GConf2-3.2.6-8.el7.x86_64.rpm                                                                                    | 1.0 MB  00:00:00
(2/18): flac-libs-1.3.0-5.el7_1.x86_64.rpm                                                                               | 169 kB  00:00:00
(3/18): ant-1.9.2-9.el7.noarch.rpm                                                                                       | 1.9 MB  00:00:01
(4/18): gsm-1.0.13-11.el7.x86_64.rpm                                                                                     |  30 kB  00:00:00
(5/18): libasyncns-0.8-7.el7.x86_64.rpm                                                                                  |  26 kB  00:00:00
(6/18): libogg-1.3.0-7.el7.x86_64.rpm                                                                                    |  24 kB  00:00:00
(7/18): java-1.7.0-openjdk-1.7.0.111-2.6.7.2.el7_2.x86_64.rpm                                                            | 209 kB  00:00:00
(8/18): libsndfile-1.0.25-10.el7.x86_64.rpm                                                                              | 149 kB  00:00:00
(9/18): libvorbis-1.3.3-8.el7.x86_64.rpm                                                                                 | 204 kB  00:00:00
(10/18): pcsc-lite-libs-1.8.8-6.el7.x86_64.rpm                                                                           |  34 kB  00:00:00
(11/18): psmisc-22.20-9.el7.x86_64.rpm                                                                                   | 140 kB  00:00:00
(12/18): pulseaudio-libs-6.0-7.el7.x86_64.rpm                                                                            | 576 kB  00:00:00
(13/18): xalan-j2-2.7.1-23.el7.noarch.rpm                                                                                | 1.9 MB  00:00:00
(14/18): xml-commons-apis-1.4.01-16.el7.noarch.rpm                                                                       | 227 kB  00:00:00
(15/18): xml-commons-resolver-1.2-15.el7.noarch.rpm                                                                      | 108 kB  00:00:00
(16/18): xerces-j2-2.11.0-17.el7_0.noarch.rpm                                                                            | 1.1 MB  00:00:00
(17/18): java-1.7.0-openjdk-devel-1.7.0.111-2.6.7.2.el7_2.x86_64.rpm                                                     | 9.2 MB  00:00:01
(18/18): java-1.7.0-openjdk-headless-1.7.0.111-2.6.7.2.el7_2.x86_64.rpm                                                  |  25 MB  00:00:09
------------------------------------------------------------------------------------------------------------------------------------------------
Total                                                                                                           3.9 MB/s |  42 MB  00:00:10
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : 2:libogg-1.3.0-7.el7.x86_64                                                                                                 1/18
  Installing : flac-libs-1.3.0-5.el7_1.x86_64                                                                                              2/18
  Installing : 1:libvorbis-1.3.3-8.el7.x86_64                                                                                              3/18
  Installing : pcsc-lite-libs-1.8.8-6.el7.x86_64                                                                                           4/18
  Installing : gsm-1.0.13-11.el7.x86_64                                                                                                    5/18
  Installing : libsndfile-1.0.25-10.el7.x86_64                                                                                             6/18
  Installing : psmisc-22.20-9.el7.x86_64                                                                                                   7/18
  Installing : GConf2-3.2.6-8.el7.x86_64                                                                                                   8/18
  Installing : 1:java-1.7.0-openjdk-headless-1.7.0.111-2.6.7.2.el7_2.x86_64                                                                9/18
  Installing : libasyncns-0.8-7.el7.x86_64                                                                                                10/18
  Installing : pulseaudio-libs-6.0-7.el7.x86_64                                                                                           11/18
  Installing : 1:java-1.7.0-openjdk-1.7.0.111-2.6.7.2.el7_2.x86_64                                                                        12/18
  Installing : xml-commons-apis-1.4.01-16.el7.noarch                                                                                      13/18
  Installing : xml-commons-resolver-1.2-15.el7.noarch                                                                                     14/18
  Installing : xalan-j2-2.7.1-23.el7.noarch                                                                                               15/18
  Installing : xerces-j2-2.11.0-17.el7_0.noarch                                                                                           16/18
  Installing : 1:java-1.7.0-openjdk-devel-1.7.0.111-2.6.7.2.el7_2.x86_64                                                                  17/18
  Installing : ant-1.9.2-9.el7.noarch                                                                                                     18/18
  Verifying  : xml-commons-apis-1.4.01-16.el7.noarch                                                                                       1/18
  Verifying  : libasyncns-0.8-7.el7.x86_64                                                                                                 2/18
  Verifying  : xml-commons-resolver-1.2-15.el7.noarch                                                                                      3/18
  Verifying  : psmisc-22.20-9.el7.x86_64                                                                                                   4/18
  Verifying  : flac-libs-1.3.0-5.el7_1.x86_64                                                                                              5/18
  Verifying  : pulseaudio-libs-6.0-7.el7.x86_64                                                                                            6/18
  Verifying  : 1:java-1.7.0-openjdk-headless-1.7.0.111-2.6.7.2.el7_2.x86_64                                                                7/18
  Verifying  : ant-1.9.2-9.el7.noarch                                                                                                      8/18
  Verifying  : 2:libogg-1.3.0-7.el7.x86_64                                                                                                 9/18
  Verifying  : libsndfile-1.0.25-10.el7.x86_64                                                                                            10/18
  Verifying  : 1:java-1.7.0-openjdk-1.7.0.111-2.6.7.2.el7_2.x86_64                                                                        11/18
  Verifying  : gsm-1.0.13-11.el7.x86_64                                                                                                   12/18
  Verifying  : xalan-j2-2.7.1-23.el7.noarch                                                                                               13/18
  Verifying  : xerces-j2-2.11.0-17.el7_0.noarch                                                                                           14/18
  Verifying  : 1:java-1.7.0-openjdk-devel-1.7.0.111-2.6.7.2.el7_2.x86_64                                                                  15/18
  Verifying  : pcsc-lite-libs-1.8.8-6.el7.x86_64                                                                                          16/18
  Verifying  : 1:libvorbis-1.3.3-8.el7.x86_64                                                                                             17/18
  Verifying  : GConf2-3.2.6-8.el7.x86_64                                                                                                  18/18

Installed:
  ant.noarch 0:1.9.2-9.el7

Dependency Installed:
  GConf2.x86_64 0:3.2.6-8.el7                                           flac-libs.x86_64 0:1.3.0-5.el7_1
  gsm.x86_64 0:1.0.13-11.el7                                            java-1.7.0-openjdk.x86_64 1:1.7.0.111-2.6.7.2.el7_2
  java-1.7.0-openjdk-devel.x86_64 1:1.7.0.111-2.6.7.2.el7_2             java-1.7.0-openjdk-headless.x86_64 1:1.7.0.111-2.6.7.2.el7_2
  libasyncns.x86_64 0:0.8-7.el7                                         libogg.x86_64 2:1.3.0-7.el7
  libsndfile.x86_64 0:1.0.25-10.el7                                     libvorbis.x86_64 1:1.3.3-8.el7
  pcsc-lite-libs.x86_64 0:1.8.8-6.el7                                   psmisc.x86_64 0:22.20-9.el7
  pulseaudio-libs.x86_64 0:6.0-7.el7                                    xalan-j2.noarch 0:2.7.1-23.el7
  xerces-j2.noarch 0:2.11.0-17.el7_0                                    xml-commons-apis.noarch 0:1.4.01-16.el7
  xml-commons-resolver.noarch 0:1.2-15.el7

Complete!

midpoint#>yum info maven

Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirror.cs.vt.edu
 * epel: mirror.sfo12.us.leaseweb.net
 * extras: mirrors.kernel.org
 * updates: mirror.tocici.com
Available Packages
Name        : maven
Arch        : noarch
Version     : 3.0.5
Release     : 16.el7
Size        : 1.3 M
Repo        : base/7/x86_64
Summary     : Java project management and project comprehension tool
URL         : http://maven.apache.org/
License     : ASL 2.0
Description : Maven is a software project management and comprehension tool. Based on the
            : concept of a project object model (POM), Maven can manage a project's build,
            : reporting and documentation from a central piece of information.

midpoint#>yum install maven

Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
 * base: mirror.math.princeton.edu
 * epel: s3-mirror-us-west-2.fedoraproject.org
 * extras: mirrors.kernel.org
 * updates: mirror.tocici.com
Resolving Dependencies
--> Running transaction check
---> Package maven.noarch 0:3.0.5-16.el7 will be installed
--> Processing Dependency: sisu-inject-plexus for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: sisu-inject-bean for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: plexus-utils for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: plexus-sec-dispatcher for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: plexus-interpolation for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: plexus-containers-component-annotations for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: plexus-cipher for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: objectweb-asm for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: mvn(org.sonatype.sisu:sisu-inject-plexus) for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: mvn(org.sonatype.plexus:plexus-sec-dispatcher) for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: mvn(org.sonatype.plexus:plexus-cipher) for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: mvn(org.sonatype.aether:aether-util) for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: mvn(org.sonatype.aether:aether-spi) for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: mvn(org.sonatype.aether:aether-impl) for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: mvn(org.sonatype.aether:aether-api) for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: mvn(org.codehaus.plexus:plexus-utils) for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: mvn(org.codehaus.plexus:plexus-interpolation) for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: mvn(org.codehaus.plexus:plexus-container-default) for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: mvn(org.codehaus.plexus:plexus-component-annotations) for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: mvn(org.codehaus.plexus:plexus-classworlds) for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: mvn(org.apache.maven.wagon:wagon-provider-api) for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: mvn(commons-cli:commons-cli) for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: maven-wagon for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: httpcomponents-core for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: httpcomponents-client for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: guava for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: google-guice for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: cglib for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: atinject for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: apache-commons-logging for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: apache-commons-codec for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: apache-commons-cli for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: aopalliance for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: aether-util for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: aether-spi for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: aether-impl for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: aether-connector-wagon for package: maven-3.0.5-16.el7.noarch
--> Processing Dependency: aether-api for package: maven-3.0.5-16.el7.noarch
--> Running transaction check
---> Package aether-api.noarch 0:1.13.1-13.el7 will be installed
---> Package aether-connector-wagon.noarch 0:1.13.1-13.el7 will be installed
---> Package aether-impl.noarch 0:1.13.1-13.el7 will be installed
---> Package aether-spi.noarch 0:1.13.1-13.el7 will be installed
---> Package aether-util.noarch 0:1.13.1-13.el7 will be installed
---> Package aopalliance.noarch 0:1.0-8.el7 will be installed
---> Package apache-commons-cli.noarch 0:1.2-13.el7 will be installed
---> Package apache-commons-codec.noarch 0:1.8-7.el7 will be installed
---> Package apache-commons-logging.noarch 0:1.1.2-7.el7 will be installed
--> Processing Dependency: mvn(logkit:logkit) for package: apache-commons-logging-1.1.2-7.el7.noarch
--> Processing Dependency: mvn(log4j:log4j) for package: apache-commons-logging-1.1.2-7.el7.noarch
--> Processing Dependency: mvn(avalon-framework:avalon-framework-api) for package: apache-commons-logging-1.1.2-7.el7.noarch
---> Package atinject.noarch 0:1-13.20100611svn86.el7 will be installed
---> Package cglib.noarch 0:2.2-18.el7 will be installed
---> Package google-guice.noarch 0:3.1.3-9.el7 will be installed
--> Processing Dependency: mvn(org.slf4j:slf4j-api) for package: google-guice-3.1.3-9.el7.noarch
---> Package guava.noarch 0:13.0-6.el7 will be installed
---> Package httpcomponents-client.noarch 0:4.2.5-5.el7_0 will be installed
---> Package httpcomponents-core.noarch 0:4.2.4-6.el7 will be installed
---> Package maven-wagon.noarch 0:2.4-3.el7 will be installed
--> Processing Dependency: mvn(org.jsoup:jsoup) for package: maven-wagon-2.4-3.el7.noarch
--> Processing Dependency: mvn(org.codehaus.plexus:plexus-interactivity-api) for package: maven-wagon-2.4-3.el7.noarch
--> Processing Dependency: mvn(nekohtml:nekohtml) for package: maven-wagon-2.4-3.el7.noarch
--> Processing Dependency: mvn(commons-net:commons-net) for package: maven-wagon-2.4-3.el7.noarch
--> Processing Dependency: mvn(commons-lang:commons-lang) for package: maven-wagon-2.4-3.el7.noarch
--> Processing Dependency: mvn(commons-io:commons-io) for package: maven-wagon-2.4-3.el7.noarch
--> Processing Dependency: mvn(commons-httpclient:commons-httpclient) for package: maven-wagon-2.4-3.el7.noarch
--> Processing Dependency: mvn(com.jcraft:jsch) for package: maven-wagon-2.4-3.el7.noarch
---> Package objectweb-asm.noarch 0:3.3.1-9.el7 will be installed
---> Package plexus-cipher.noarch 0:1.7-5.el7 will be installed
---> Package plexus-classworlds.noarch 0:2.4.2-8.el7 will be installed
---> Package plexus-containers-component-annotations.noarch 0:1.5.5-14.el7 will be installed
---> Package plexus-containers-container-default.noarch 0:1.5.5-14.el7 will be installed
--> Processing Dependency: mvn(org.apache.xbean:xbean-reflect) for package: plexus-containers-container-default-1.5.5-14.el7.noarch
--> Processing Dependency: mvn(junit:junit) for package: plexus-containers-container-default-1.5.5-14.el7.noarch
---> Package plexus-interpolation.noarch 0:1.15-8.el7 will be installed
---> Package plexus-sec-dispatcher.noarch 0:1.4-13.el7 will be installed
---> Package plexus-utils.noarch 0:3.0.9-9.el7 will be installed
---> Package sisu-inject-bean.noarch 0:2.3.0-11.el7 will be installed
--> Processing Dependency: mvn(javax.enterprise:cdi-api) for package: sisu-inject-bean-2.3.0-11.el7.noarch
---> Package sisu-inject-plexus.noarch 0:2.3.0-11.el7 will be installed
--> Running transaction check
---> Package apache-commons-io.noarch 1:2.4-12.el7 will be installed
---> Package apache-commons-lang.noarch 0:2.6-15.el7 will be installed
---> Package apache-commons-net.noarch 0:3.2-8.el7.centos will be installed
---> Package avalon-framework.noarch 0:4.3-10.el7 will be installed
---> Package avalon-logkit.noarch 0:2.1-14.el7 will be installed
--> Processing Dependency: tomcat-servlet-3.0-api for package: avalon-logkit-2.1-14.el7.noarch
--> Processing Dependency: jms for package: avalon-logkit-2.1-14.el7.noarch
---> Package cdi-api.noarch 0:1.0-11.SP4.el7 will be installed
--> Processing Dependency: jboss-interceptors-1.1-api for package: cdi-api-1.0-11.SP4.el7.noarch
--> Processing Dependency: jboss-el-2.2-api for package: cdi-api-1.0-11.SP4.el7.noarch
--> Processing Dependency: jboss-ejb-3.1-api for package: cdi-api-1.0-11.SP4.el7.noarch
--> Processing Dependency: geronimo-annotation for package: cdi-api-1.0-11.SP4.el7.noarch
---> Package jakarta-commons-httpclient.noarch 1:3.1-16.el7_0 will be installed
---> Package jsch.noarch 0:0.1.50-5.el7 will be installed
--> Processing Dependency: jzlib >= 1.0.5 for package: jsch-0.1.50-5.el7.noarch
---> Package jsoup.noarch 0:1.6.1-10.el7 will be installed
---> Package junit.noarch 0:4.11-8.el7 will be installed
--> Processing Dependency: osgi(org.hamcrest.core) for package: junit-4.11-8.el7.noarch
--> Processing Dependency: hamcrest for package: junit-4.11-8.el7.noarch
---> Package log4j.noarch 0:1.2.17-15.el7 will be installed
--> Processing Dependency: mvn(javax.mail:mail) for package: log4j-1.2.17-15.el7.noarch
---> Package nekohtml.noarch 0:1.9.14-13.el7 will be installed
--> Processing Dependency: bcel for package: nekohtml-1.9.14-13.el7.noarch
---> Package plexus-interactivity.noarch 0:1.0-0.14.alpha6.el7 will be installed
--> Processing Dependency: mvn(org.codehaus.plexus:plexus-component-api) for package: plexus-interactivity-1.0-0.14.alpha6.el7.noarch
--> Processing Dependency: mvn(jline:jline) for package: plexus-interactivity-1.0-0.14.alpha6.el7.noarch
---> Package slf4j.noarch 0:1.7.4-3.el7 will be installed
--> Processing Dependency: mvn(javassist:javassist) for package: slf4j-1.7.4-3.el7.noarch
--> Processing Dependency: mvn(ch.qos.cal10n:cal10n-api) for package: slf4j-1.7.4-3.el7.noarch
---> Package xbean.noarch 0:3.13-6.el7 will be installed
--> Processing Dependency: mvn(org.apache.felix:org.apache.felix.framework) for package: xbean-3.13-6.el7.noarch
--> Running transaction check
---> Package bcel.noarch 0:5.2-18.el7 will be installed
--> Processing Dependency: mvn(regexp:regexp) for package: bcel-5.2-18.el7.noarch
---> Package cal10n.noarch 0:0.7.7-4.el7 will be installed
---> Package felix-framework.noarch 0:4.2.1-5.el7 will be installed
---> Package geronimo-annotation.noarch 0:1.0-15.el7 will be installed
---> Package geronimo-jms.noarch 0:1.1.1-19.el7 will be installed
---> Package hamcrest.noarch 0:1.3-6.el7 will be installed
--> Processing Dependency: qdox for package: hamcrest-1.3-6.el7.noarch
--> Processing Dependency: easymock2 for package: hamcrest-1.3-6.el7.noarch
---> Package javamail.noarch 0:1.4.6-8.el7 will be installed
---> Package javassist.noarch 0:3.16.1-10.el7 will be installed
---> Package jboss-ejb-3.1-api.noarch 0:1.0.2-10.el7 will be installed
--> Processing Dependency: jboss-transaction-1.1-api for package: jboss-ejb-3.1-api-1.0.2-10.el7.noarch
--> Processing Dependency: jboss-jaxrpc-1.1-api for package: jboss-ejb-3.1-api-1.0.2-10.el7.noarch
---> Package jboss-el-2.2-api.noarch 0:1.0.1-0.7.20120212git2fabd8.el7 will be installed
---> Package jboss-interceptors-1.1-api.noarch 0:1.0.2-0.9.20120319git49a904.el7 will be installed
---> Package jline.noarch 0:1.0-8.el7 will be installed
---> Package jzlib.noarch 0:1.1.1-6.el7 will be installed
---> Package plexus-component-api.noarch 0:1.0-0.16.alpha15.el7 will be installed
---> Package tomcat-servlet-3.0-api.noarch 0:7.0.54-2.el7_1 will be installed
--> Running transaction check
---> Package easymock2.noarch 0:2.5.2-12.el7 will be installed
---> Package jboss-jaxrpc-1.1-api.noarch 0:1.0.1-7.el7 will be installed
--> Processing Dependency: jboss-servlet-3.0-api for package: jboss-jaxrpc-1.1-api-1.0.1-7.el7.noarch
---> Package jboss-transaction-1.1-api.noarch 0:1.0.1-8.el7 will be installed
---> Package qdox.noarch 0:1.12.1-9.el7 will be installed
---> Package regexp.noarch 0:1.5-13.el7 will be installed
--> Running transaction check
---> Package jboss-servlet-3.0-api.noarch 0:1.0.1-9.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

================================================================================================================================================
 Package                                              Arch                Version                                       Repository         Size
================================================================================================================================================
Installing:
 maven                                                noarch              3.0.5-16.el7                                  base              1.3 M
Installing for dependencies:
 aether-api                                           noarch              1.13.1-13.el7                                 base               89 k
 aether-connector-wagon                               noarch              1.13.1-13.el7                                 base               34 k
 aether-impl                                          noarch              1.13.1-13.el7                                 base              124 k
 aether-spi                                           noarch              1.13.1-13.el7                                 base               19 k
 aether-util                                          noarch              1.13.1-13.el7                                 base              119 k
 aopalliance                                          noarch              1.0-8.el7                                     base               11 k
 apache-commons-cli                                   noarch              1.2-13.el7                                    base               50 k
 apache-commons-codec                                 noarch              1.8-7.el7                                     base              223 k
 apache-commons-io                                    noarch              1:2.4-12.el7                                  base              189 k
 apache-commons-lang                                  noarch              2.6-15.el7                                    base              276 k
 apache-commons-logging                               noarch              1.1.2-7.el7                                   base               78 k
 apache-commons-net                                   noarch              3.2-8.el7.centos                              base              261 k
 atinject                                             noarch              1-13.20100611svn86.el7                        base               13 k
 avalon-framework                                     noarch              4.3-10.el7                                    base               88 k
 avalon-logkit                                        noarch              2.1-14.el7                                    base               87 k
 bcel                                                 noarch              5.2-18.el7                                    base              469 k
 cal10n                                               noarch              0.7.7-4.el7                                   base               36 k
 cdi-api                                              noarch              1.0-11.SP4.el7                                base               41 k
 cglib                                                noarch              2.2-18.el7                                    base              255 k
 easymock2                                            noarch              2.5.2-12.el7                                  base               92 k
 felix-framework                                      noarch              4.2.1-5.el7                                   base              481 k
 geronimo-annotation                                  noarch              1.0-15.el7                                    base               23 k
 geronimo-jms                                         noarch              1.1.1-19.el7                                  base               31 k
 google-guice                                         noarch              3.1.3-9.el7                                   base              385 k
 guava                                                noarch              13.0-6.el7                                    base              1.6 M
 hamcrest                                             noarch              1.3-6.el7                                     base              124 k
 httpcomponents-client                                noarch              4.2.5-5.el7_0                                 base              425 k
 httpcomponents-core                                  noarch              4.2.4-6.el7                                   base              466 k
 jakarta-commons-httpclient                           noarch              1:3.1-16.el7_0                                base              241 k
 javamail                                             noarch              1.4.6-8.el7                                   base              758 k
 javassist                                            noarch              3.16.1-10.el7                                 base              627 k
 jboss-ejb-3.1-api                                    noarch              1.0.2-10.el7                                  base               54 k
 jboss-el-2.2-api                                     noarch              1.0.1-0.7.20120212git2fabd8.el7               base               44 k
 jboss-interceptors-1.1-api                           noarch              1.0.2-0.9.20120319git49a904.el7               base               27 k
 jboss-jaxrpc-1.1-api                                 noarch              1.0.1-7.el7                                   base               44 k
 jboss-servlet-3.0-api                                noarch              1.0.1-9.el7                                   base               82 k
 jboss-transaction-1.1-api                            noarch              1.0.1-8.el7                                   base               40 k
 jline                                                noarch              1.0-8.el7                                     base               69 k
 jsch                                                 noarch              0.1.50-5.el7                                  base              239 k
 jsoup                                                noarch              1.6.1-10.el7                                  base              263 k
 junit                                                noarch              4.11-8.el7                                    base              261 k
 jzlib                                                noarch              1.1.1-6.el7                                   base               72 k
 log4j                                                noarch              1.2.17-15.el7                                 base              443 k
 maven-wagon                                          noarch              2.4-3.el7                                     base              187 k
 nekohtml                                             noarch              1.9.14-13.el7                                 base              152 k
 objectweb-asm                                        noarch              3.3.1-9.el7                                   base              197 k
 plexus-cipher                                        noarch              1.7-5.el7                                     base               22 k
 plexus-classworlds                                   noarch              2.4.2-8.el7                                   base               54 k
 plexus-component-api                                 noarch              1.0-0.16.alpha15.el7                          base               27 k
 plexus-containers-component-annotations              noarch              1.5.5-14.el7                                  base               11 k
 plexus-containers-container-default                  noarch              1.5.5-14.el7                                  base              183 k
 plexus-interactivity                                 noarch              1.0-0.14.alpha6.el7                           base               17 k
 plexus-interpolation                                 noarch              1.15-8.el7                                    base               57 k
 plexus-sec-dispatcher                                noarch              1.4-13.el7                                    base               29 k
 plexus-utils                                         noarch              3.0.9-9.el7                                   base              225 k
 qdox                                                 noarch              1.12.1-9.el7                                  base              170 k
 regexp                                               noarch              1.5-13.el7                                    base               47 k
 sisu-inject-bean                                     noarch              2.3.0-11.el7                                  base              181 k
 sisu-inject-plexus                                   noarch              2.3.0-11.el7                                  base              179 k
 slf4j                                                noarch              1.7.4-3.el7                                   base              170 k
 tomcat-servlet-3.0-api                               noarch              7.0.54-2.el7_1                                base              207 k
 xbean                                                noarch              3.13-6.el7                                    base              376 k

Transaction Summary
================================================================================================================================================
Install  1 Package (+62 Dependent packages)

Total download size: 13 M
Installed size: 17 M
Is this ok [y/d/N]: y
Downloading packages:
(1/63): aether-connector-wagon-1.13.1-13.el7.noarch.rpm                                                                  |  34 kB  00:00:00
(2/63): aether-api-1.13.1-13.el7.noarch.rpm                                                                              |  89 kB  00:00:00
(3/63): aether-spi-1.13.1-13.el7.noarch.rpm                                                                              |  19 kB  00:00:00
(4/63): aether-impl-1.13.1-13.el7.noarch.rpm                                                                             | 124 kB  00:00:00
(5/63): aopalliance-1.0-8.el7.noarch.rpm                                                                                 |  11 kB  00:00:00
(6/63): aether-util-1.13.1-13.el7.noarch.rpm                                                                             | 119 kB  00:00:00
(7/63): apache-commons-cli-1.2-13.el7.noarch.rpm                                                                         |  50 kB  00:00:00
(8/63): apache-commons-codec-1.8-7.el7.noarch.rpm                                                                        | 223 kB  00:00:00
(9/63): apache-commons-io-2.4-12.el7.noarch.rpm                                                                          | 189 kB  00:00:00
(10/63): apache-commons-lang-2.6-15.el7.noarch.rpm                                                                       | 276 kB  00:00:00
(11/63): apache-commons-logging-1.1.2-7.el7.noarch.rpm                                                                   |  78 kB  00:00:00
(12/63): apache-commons-net-3.2-8.el7.centos.noarch.rpm                                                                  | 261 kB  00:00:00
(13/63): atinject-1-13.20100611svn86.el7.noarch.rpm                                                                      |  13 kB  00:00:00
(14/63): avalon-framework-4.3-10.el7.noarch.rpm                                                                          |  88 kB  00:00:00
(15/63): avalon-logkit-2.1-14.el7.noarch.rpm                                                                             |  87 kB  00:00:00
(16/63): bcel-5.2-18.el7.noarch.rpm                                                                                      | 469 kB  00:00:00
(17/63): cal10n-0.7.7-4.el7.noarch.rpm                                                                                   |  36 kB  00:00:00
(18/63): cdi-api-1.0-11.SP4.el7.noarch.rpm                                                                               |  41 kB  00:00:00
(19/63): cglib-2.2-18.el7.noarch.rpm                                                                                     | 255 kB  00:00:00
(20/63): easymock2-2.5.2-12.el7.noarch.rpm                                                                               |  92 kB  00:00:00
(21/63): felix-framework-4.2.1-5.el7.noarch.rpm                                                                          | 481 kB  00:00:00
(22/63): geronimo-annotation-1.0-15.el7.noarch.rpm                                                                       |  23 kB  00:00:00
(23/63): geronimo-jms-1.1.1-19.el7.noarch.rpm                                                                            |  31 kB  00:00:00
(24/63): google-guice-3.1.3-9.el7.noarch.rpm                                                                             | 385 kB  00:00:00
(25/63): hamcrest-1.3-6.el7.noarch.rpm                                                                                   | 124 kB  00:00:00
(26/63): guava-13.0-6.el7.noarch.rpm                                                                                     | 1.6 MB  00:00:00
(27/63): httpcomponents-core-4.2.4-6.el7.noarch.rpm                                                                      | 466 kB  00:00:00
(28/63): httpcomponents-client-4.2.5-5.el7_0.noarch.rpm                                                                  | 425 kB  00:00:00
(29/63): jakarta-commons-httpclient-3.1-16.el7_0.noarch.rpm                                                              | 241 kB  00:00:00
(30/63): javamail-1.4.6-8.el7.noarch.rpm                                                                                 | 758 kB  00:00:00
(31/63): javassist-3.16.1-10.el7.noarch.rpm                                                                              | 627 kB  00:00:00
(32/63): jboss-ejb-3.1-api-1.0.2-10.el7.noarch.rpm                                                                       |  54 kB  00:00:00
(33/63): jboss-el-2.2-api-1.0.1-0.7.20120212git2fabd8.el7.noarch.rpm                                                     |  44 kB  00:00:00
(34/63): jboss-interceptors-1.1-api-1.0.2-0.9.20120319git49a904.el7.noarch.rpm                                           |  27 kB  00:00:00
(35/63): jboss-jaxrpc-1.1-api-1.0.1-7.el7.noarch.rpm                                                                     |  44 kB  00:00:00
(36/63): jboss-servlet-3.0-api-1.0.1-9.el7.noarch.rpm                                                                    |  82 kB  00:00:00
(37/63): jboss-transaction-1.1-api-1.0.1-8.el7.noarch.rpm                                                                |  40 kB  00:00:00
(38/63): jline-1.0-8.el7.noarch.rpm                                                                                      |  69 kB  00:00:00
(39/63): jsch-0.1.50-5.el7.noarch.rpm                                                                                    | 239 kB  00:00:00
(40/63): jsoup-1.6.1-10.el7.noarch.rpm                                                                                   | 263 kB  00:00:00
(41/63): junit-4.11-8.el7.noarch.rpm                                                                                     | 261 kB  00:00:00
(42/63): jzlib-1.1.1-6.el7.noarch.rpm                                                                                    |  72 kB  00:00:00
(43/63): log4j-1.2.17-15.el7.noarch.rpm                                                                                  | 443 kB  00:00:00
(44/63): maven-3.0.5-16.el7.noarch.rpm                                                                                   | 1.3 MB  00:00:00
(45/63): maven-wagon-2.4-3.el7.noarch.rpm                                                                                | 187 kB  00:00:00
(46/63): nekohtml-1.9.14-13.el7.noarch.rpm                                                                               | 152 kB  00:00:00
(47/63): objectweb-asm-3.3.1-9.el7.noarch.rpm                                                                            | 197 kB  00:00:00
(48/63): plexus-cipher-1.7-5.el7.noarch.rpm                                                                              |  22 kB  00:00:00
(49/63): plexus-classworlds-2.4.2-8.el7.noarch.rpm                                                                       |  54 kB  00:00:00
(50/63): plexus-component-api-1.0-0.16.alpha15.el7.noarch.rpm                                                            |  27 kB  00:00:00
(51/63): plexus-containers-component-annotations-1.5.5-14.el7.noarch.rpm                                                 |  11 kB  00:00:00
(52/63): plexus-interactivity-1.0-0.14.alpha6.el7.noarch.rpm                                                             |  17 kB  00:00:00
(53/63): plexus-containers-container-default-1.5.5-14.el7.noarch.rpm                                                     | 183 kB  00:00:00
(54/63): plexus-interpolation-1.15-8.el7.noarch.rpm                                                                      |  57 kB  00:00:00
(55/63): plexus-sec-dispatcher-1.4-13.el7.noarch.rpm                                                                     |  29 kB  00:00:00
(56/63): qdox-1.12.1-9.el7.noarch.rpm                                                                                    | 170 kB  00:00:00
(57/63): plexus-utils-3.0.9-9.el7.noarch.rpm                                                                             | 225 kB  00:00:00
(58/63): regexp-1.5-13.el7.noarch.rpm                                                                                    |  47 kB  00:00:00
(59/63): sisu-inject-bean-2.3.0-11.el7.noarch.rpm                                                                        | 181 kB  00:00:00
(60/63): sisu-inject-plexus-2.3.0-11.el7.noarch.rpm                                                                      | 179 kB  00:00:00
(61/63): slf4j-1.7.4-3.el7.noarch.rpm                                                                                    | 170 kB  00:00:00
(62/63): tomcat-servlet-3.0-api-7.0.54-2.el7_1.noarch.rpm                                                                | 207 kB  00:00:00
(63/63): xbean-3.13-6.el7.noarch.rpm                                                                                     | 376 kB  00:00:00
------------------------------------------------------------------------------------------------------------------------------------------------
Total                                                                                                           2.6 MB/s |  13 MB  00:00:04
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : plexus-utils-3.0.9-9.el7.noarch                                                                                             1/63
  Installing : aether-api-1.13.1-13.el7.noarch                                                                                             2/63
  Installing : plexus-classworlds-2.4.2-8.el7.noarch                                                                                       3/63
  Installing : aether-util-1.13.1-13.el7.noarch                                                                                            4/63
  Installing : aether-spi-1.13.1-13.el7.noarch                                                                                             5/63
  Installing : objectweb-asm-3.3.1-9.el7.noarch                                                                                            6/63
  Installing : httpcomponents-core-4.2.4-6.el7.noarch                                                                                      7/63
  Installing : atinject-1-13.20100611svn86.el7.noarch                                                                                      8/63
  Installing : guava-13.0-6.el7.noarch                                                                                                     9/63
  Installing : apache-commons-codec-1.8-7.el7.noarch                                                                                      10/63
  Installing : cglib-2.2-18.el7.noarch                                                                                                    11/63
  Installing : plexus-cipher-1.7-5.el7.noarch                                                                                             12/63
  Installing : aopalliance-1.0-8.el7.noarch                                                                                               13/63
  Installing : geronimo-jms-1.1.1-19.el7.noarch                                                                                           14/63
  Installing : apache-commons-lang-2.6-15.el7.noarch                                                                                      15/63
  Installing : plexus-containers-component-annotations-1.5.5-14.el7.noarch                                                                16/63
  Installing : plexus-sec-dispatcher-1.4-13.el7.noarch                                                                                    17/63
  Installing : aether-impl-1.13.1-13.el7.noarch                                                                                           18/63
  Installing : plexus-component-api-1.0-0.16.alpha15.el7.noarch                                                                           19/63
  Installing : regexp-1.5-13.el7.noarch                                                                                                   20/63
  Installing : bcel-5.2-18.el7.noarch                                                                                                     21/63
  Installing : nekohtml-1.9.14-13.el7.noarch                                                                                              22/63
  Installing : jboss-transaction-1.1-api-1.0.1-8.el7.noarch                                                                               23/63
  Installing : 1:apache-commons-io-2.4-12.el7.noarch                                                                                      24/63
  Installing : javassist-3.16.1-10.el7.noarch                                                                                             25/63
  Installing : jboss-interceptors-1.1-api-1.0.2-0.9.20120319git49a904.el7.noarch                                                          26/63
  Installing : easymock2-2.5.2-12.el7.noarch                                                                                              27/63
  Installing : hamcrest-1.3-6.el7.noarch                                                                                                  28/63
  Installing : junit-4.11-8.el7.noarch                                                                                                    29/63
  Installing : qdox-1.12.1-9.el7.noarch                                                                                                   30/63
  Installing : cal10n-0.7.7-4.el7.noarch                                                                                                  31/63
  Installing : apache-commons-cli-1.2-13.el7.noarch                                                                                       32/63
  Installing : plexus-interpolation-1.15-8.el7.noarch                                                                                     33/63
  Installing : jboss-el-2.2-api-1.0.1-0.7.20120212git2fabd8.el7.noarch                                                                    34/63
  Installing : geronimo-annotation-1.0-15.el7.noarch                                                                                      35/63
  Installing : jline-1.0-8.el7.noarch                                                                                                     36/63
  Installing : plexus-interactivity-1.0-0.14.alpha6.el7.noarch                                                                            37/63
  Installing : jsoup-1.6.1-10.el7.noarch                                                                                                  38/63
  Installing : felix-framework-4.2.1-5.el7.noarch                                                                                         39/63
  Installing : tomcat-servlet-3.0-api-7.0.54-2.el7_1.noarch                                                                               40/63
  Installing : apache-commons-net-3.2-8.el7.centos.noarch                                                                                 41/63
  Installing : jzlib-1.1.1-6.el7.noarch                                                                                                   42/63
  Installing : jsch-0.1.50-5.el7.noarch                                                                                                   43/63
  Installing : javamail-1.4.6-8.el7.noarch                                                                                                44/63
  Installing : log4j-1.2.17-15.el7.noarch                                                                                                 45/63
  Installing : avalon-framework-4.3-10.el7.noarch                                                                                         46/63
  Installing : avalon-logkit-2.1-14.el7.noarch                                                                                            47/63
  Installing : apache-commons-logging-1.1.2-7.el7.noarch                                                                                  48/63
  Installing : slf4j-1.7.4-3.el7.noarch                                                                                                   49/63
  Installing : google-guice-3.1.3-9.el7.noarch                                                                                            50/63
  Installing : httpcomponents-client-4.2.5-5.el7_0.noarch                                                                                 51/63
  Installing : xbean-3.13-6.el7.noarch                                                                                                    52/63
  Installing : plexus-containers-container-default-1.5.5-14.el7.noarch                                                                    53/63
  Installing : 1:jakarta-commons-httpclient-3.1-16.el7_0.noarch                                                                           54/63
  Installing : maven-wagon-2.4-3.el7.noarch                                                                                               55/63
  Installing : jboss-servlet-3.0-api-1.0.1-9.el7.noarch                                                                                   56/63
  Installing : jboss-jaxrpc-1.1-api-1.0.1-7.el7.noarch                                                                                    57/63
  Installing : jboss-ejb-3.1-api-1.0.2-10.el7.noarch                                                                                      58/63
  Installing : cdi-api-1.0-11.SP4.el7.noarch                                                                                              59/63
  Installing : sisu-inject-bean-2.3.0-11.el7.noarch                                                                                       60/63
  Installing : sisu-inject-plexus-2.3.0-11.el7.noarch                                                                                     61/63
  Installing : aether-connector-wagon-1.13.1-13.el7.noarch                                                                                62/63
  Installing : maven-3.0.5-16.el7.noarch                                                                                                  63/63
  Verifying  : plexus-containers-component-annotations-1.5.5-14.el7.noarch                                                                 1/63
  Verifying  : jsch-0.1.50-5.el7.noarch                                                                                                    2/63
  Verifying  : avalon-logkit-2.1-14.el7.noarch                                                                                             3/63
  Verifying  : sisu-inject-bean-2.3.0-11.el7.noarch                                                                                        4/63
  Verifying  : jboss-servlet-3.0-api-1.0.1-9.el7.noarch                                                                                    5/63
  Verifying  : aether-util-1.13.1-13.el7.noarch                                                                                            6/63
  Verifying  : maven-wagon-2.4-3.el7.noarch                                                                                                7/63
  Verifying  : javamail-1.4.6-8.el7.noarch                                                                                                 8/63
  Verifying  : bcel-5.2-18.el7.noarch                                                                                                      9/63
  Verifying  : 1:jakarta-commons-httpclient-3.1-16.el7_0.noarch                                                                           10/63
  Verifying  : junit-4.11-8.el7.noarch                                                                                                    11/63
  Verifying  : cdi-api-1.0-11.SP4.el7.noarch                                                                                              12/63
  Verifying  : plexus-component-api-1.0-0.16.alpha15.el7.noarch                                                                           13/63
  Verifying  : jzlib-1.1.1-6.el7.noarch                                                                                                   14/63
  Verifying  : apache-commons-codec-1.8-7.el7.noarch                                                                                      15/63
  Verifying  : slf4j-1.7.4-3.el7.noarch                                                                                                   16/63
  Verifying  : plexus-classworlds-2.4.2-8.el7.noarch                                                                                      17/63
  Verifying  : apache-commons-lang-2.6-15.el7.noarch                                                                                      18/63
  Verifying  : apache-commons-net-3.2-8.el7.centos.noarch                                                                                 19/63
  Verifying  : avalon-framework-4.3-10.el7.noarch                                                                                         20/63
  Verifying  : httpcomponents-client-4.2.5-5.el7_0.noarch                                                                                 21/63
  Verifying  : tomcat-servlet-3.0-api-7.0.54-2.el7_1.noarch                                                                               22/63
  Verifying  : felix-framework-4.2.1-5.el7.noarch                                                                                         23/63
  Verifying  : jsoup-1.6.1-10.el7.noarch                                                                                                  24/63
  Verifying  : guava-13.0-6.el7.noarch                                                                                                    25/63
  Verifying  : jline-1.0-8.el7.noarch                                                                                                     26/63
  Verifying  : geronimo-annotation-1.0-15.el7.noarch                                                                                      27/63
  Verifying  : aether-spi-1.13.1-13.el7.noarch                                                                                            28/63
  Verifying  : atinject-1-13.20100611svn86.el7.noarch                                                                                     29/63
  Verifying  : hamcrest-1.3-6.el7.noarch                                                                                                  30/63
  Verifying  : jboss-el-2.2-api-1.0.1-0.7.20120212git2fabd8.el7.noarch                                                                    31/63
  Verifying  : httpcomponents-core-4.2.4-6.el7.noarch                                                                                     32/63
  Verifying  : aether-connector-wagon-1.13.1-13.el7.noarch                                                                                33/63
  Verifying  : plexus-interactivity-1.0-0.14.alpha6.el7.noarch                                                                            34/63
  Verifying  : plexus-interpolation-1.15-8.el7.noarch                                                                                     35/63
  Verifying  : geronimo-jms-1.1.1-19.el7.noarch                                                                                           36/63
  Verifying  : aopalliance-1.0-8.el7.noarch                                                                                               37/63
  Verifying  : apache-commons-cli-1.2-13.el7.noarch                                                                                       38/63
  Verifying  : xbean-3.13-6.el7.noarch                                                                                                    39/63
  Verifying  : maven-3.0.5-16.el7.noarch                                                                                                  40/63
  Verifying  : google-guice-3.1.3-9.el7.noarch                                                                                            41/63
  Verifying  : jboss-ejb-3.1-api-1.0.2-10.el7.noarch                                                                                      42/63
  Verifying  : objectweb-asm-3.3.1-9.el7.noarch                                                                                           43/63
  Verifying  : log4j-1.2.17-15.el7.noarch                                                                                                 44/63
  Verifying  : cal10n-0.7.7-4.el7.noarch                                                                                                  45/63
  Verifying  : easymock2-2.5.2-12.el7.noarch                                                                                              46/63
  Verifying  : aether-impl-1.13.1-13.el7.noarch                                                                                           47/63
  Verifying  : sisu-inject-plexus-2.3.0-11.el7.noarch                                                                                     48/63
  Verifying  : jboss-interceptors-1.1-api-1.0.2-0.9.20120319git49a904.el7.noarch                                                          49/63
  Verifying  : apache-commons-logging-1.1.2-7.el7.noarch                                                                                  50/63
  Verifying  : cglib-2.2-18.el7.noarch                                                                                                    51/63
  Verifying  : nekohtml-1.9.14-13.el7.noarch                                                                                              52/63
  Verifying  : plexus-containers-container-default-1.5.5-14.el7.noarch                                                                    53/63
  Verifying  : plexus-cipher-1.7-5.el7.noarch                                                                                             54/63
  Verifying  : plexus-utils-3.0.9-9.el7.noarch                                                                                            55/63
  Verifying  : qdox-1.12.1-9.el7.noarch                                                                                                   56/63
  Verifying  : javassist-3.16.1-10.el7.noarch                                                                                             57/63
  Verifying  : aether-api-1.13.1-13.el7.noarch                                                                                            58/63
  Verifying  : plexus-sec-dispatcher-1.4-13.el7.noarch                                                                                    59/63
  Verifying  : 1:apache-commons-io-2.4-12.el7.noarch                                                                                      60/63
  Verifying  : jboss-transaction-1.1-api-1.0.1-8.el7.noarch                                                                               61/63
  Verifying  : jboss-jaxrpc-1.1-api-1.0.1-7.el7.noarch                                                                                    62/63
  Verifying  : regexp-1.5-13.el7.noarch                                                                                                   63/63

Installed:
  maven.noarch 0:3.0.5-16.el7

Dependency Installed:
  aether-api.noarch 0:1.13.1-13.el7                                 aether-connector-wagon.noarch 0:1.13.1-13.el7
  aether-impl.noarch 0:1.13.1-13.el7                                aether-spi.noarch 0:1.13.1-13.el7
  aether-util.noarch 0:1.13.1-13.el7                                aopalliance.noarch 0:1.0-8.el7
  apache-commons-cli.noarch 0:1.2-13.el7                            apache-commons-codec.noarch 0:1.8-7.el7
  apache-commons-io.noarch 1:2.4-12.el7                             apache-commons-lang.noarch 0:2.6-15.el7
  apache-commons-logging.noarch 0:1.1.2-7.el7                       apache-commons-net.noarch 0:3.2-8.el7.centos
  atinject.noarch 0:1-13.20100611svn86.el7                          avalon-framework.noarch 0:4.3-10.el7
  avalon-logkit.noarch 0:2.1-14.el7                                 bcel.noarch 0:5.2-18.el7
  cal10n.noarch 0:0.7.7-4.el7                                       cdi-api.noarch 0:1.0-11.SP4.el7
  cglib.noarch 0:2.2-18.el7                                         easymock2.noarch 0:2.5.2-12.el7
  felix-framework.noarch 0:4.2.1-5.el7                              geronimo-annotation.noarch 0:1.0-15.el7
  geronimo-jms.noarch 0:1.1.1-19.el7                                google-guice.noarch 0:3.1.3-9.el7
  guava.noarch 0:13.0-6.el7                                         hamcrest.noarch 0:1.3-6.el7
  httpcomponents-client.noarch 0:4.2.5-5.el7_0                      httpcomponents-core.noarch 0:4.2.4-6.el7
  jakarta-commons-httpclient.noarch 1:3.1-16.el7_0                  javamail.noarch 0:1.4.6-8.el7
  javassist.noarch 0:3.16.1-10.el7                                  jboss-ejb-3.1-api.noarch 0:1.0.2-10.el7
  jboss-el-2.2-api.noarch 0:1.0.1-0.7.20120212git2fabd8.el7         jboss-interceptors-1.1-api.noarch 0:1.0.2-0.9.20120319git49a904.el7
  jboss-jaxrpc-1.1-api.noarch 0:1.0.1-7.el7                         jboss-servlet-3.0-api.noarch 0:1.0.1-9.el7
  jboss-transaction-1.1-api.noarch 0:1.0.1-8.el7                    jline.noarch 0:1.0-8.el7
  jsch.noarch 0:0.1.50-5.el7                                        jsoup.noarch 0:1.6.1-10.el7
  junit.noarch 0:4.11-8.el7                                         jzlib.noarch 0:1.1.1-6.el7
  log4j.noarch 0:1.2.17-15.el7                                      maven-wagon.noarch 0:2.4-3.el7
  nekohtml.noarch 0:1.9.14-13.el7                                   objectweb-asm.noarch 0:3.3.1-9.el7
  plexus-cipher.noarch 0:1.7-5.el7                                  plexus-classworlds.noarch 0:2.4.2-8.el7
  plexus-component-api.noarch 0:1.0-0.16.alpha15.el7                plexus-containers-component-annotations.noarch 0:1.5.5-14.el7
  plexus-containers-container-default.noarch 0:1.5.5-14.el7         plexus-interactivity.noarch 0:1.0-0.14.alpha6.el7
  plexus-interpolation.noarch 0:1.15-8.el7                          plexus-sec-dispatcher.noarch 0:1.4-13.el7
  plexus-utils.noarch 0:3.0.9-9.el7                                 qdox.noarch 0:1.12.1-9.el7
  regexp.noarch 0:1.5-13.el7                                        sisu-inject-bean.noarch 0:2.3.0-11.el7
  sisu-inject-plexus.noarch 0:2.3.0-11.el7                          slf4j.noarch 0:1.7.4-3.el7
  tomcat-servlet-3.0-api.noarch 0:7.0.54-2.el7_1                    xbean.noarch 0:3.13-6.el7

Complete!

midpoint#>mvn -version

Apache Maven 3.0.5 (Red Hat 3.0.5-16)
Maven home: /usr/share/maven
Java version: 1.8.0_101, vendor: Oracle Corporation
Java home: /opt/jdk1.8.0_101/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "3.10.0-327.28.3.el7.x86_64", arch: "amd64", family: "unix"

midpoint#>ant -version

Apache Ant(TM) version 1.9.2 compiled on June 10 2014
----------
_____________________
h6. 2016-08-28 10:57  /opt/opendj folder structure

- ../schema/*.ldif files

midpoint#>ls -lt /opt/opendj/template/config/schema
total 368
-rw-r--r--. 1 root root  44096 Jan  8  2016 00-core.ldif
-rw-r--r--. 1 root root   6545 Jan  8  2016 01-pwpolicy.ldif
-rw-r--r--. 1 root root 200763 Jan  8  2016 02-config.ldif
-rw-r--r--. 1 root root   5007 Jan  8  2016 03-changelog.ldif
-rw-r--r--. 1 root root   1227 Jan  8  2016 03-pwpolicyextension.ldif
-rw-r--r--. 1 root root   3510 Jan  8  2016 03-rfc2713.ldif
-rw-r--r--. 1 root root   2082 Jan  8  2016 03-rfc2714.ldif
-rw-r--r--. 1 root root   3184 Jan  8  2016 03-rfc2739.ldif
-rw-r--r--. 1 root root   3221 Jan  8  2016 03-rfc2926.ldif
-rw-r--r--. 1 root root   1659 Jan  8  2016 03-rfc3112.ldif
-rw-r--r--. 1 root root  12601 Jan  8  2016 03-rfc3712.ldif
-rw-r--r--. 1 root root  15807 Jan  8  2016 03-uddiv3.ldif
-rw-r--r--. 1 root root  12156 Jan  8  2016 04-rfc2307bis.ldif
-rw-r--r--. 1 root root   6288 Jan  8  2016 05-rfc4876.ldif
-rw-r--r--. 1 root root  12172 Jan  8  2016 05-samba.ldif
-rw-r--r--. 1 root root  14090 Jan  8  2016 05-solaris.ldif
-rw-r--r--. 1 root root   1309 Jan  8  2016 06-compat.ldif
midpoint#>


midpoint#>tree /opt/opendj
/opt/opendj
├── bak
├── bin
│   ├── backendstat
│   ├── backup
│   ├── base64
│   ├── control-panel
│   ├── create-rc-script
│   ├── dsconfig
│   ├── dsjavaproperties
│   ├── dsreplication
│   ├── encode-password
│   ├── export-ldif
│   ├── import-ldif
│   ├── ldapcompare
│   ├── ldapdelete
│   ├── ldapmodify
│   ├── ldappasswordmodify
│   ├── ldapsearch
│   ├── ldif-diff
│   ├── ldifmodify
│   ├── ldifsearch
│   ├── list-backends
│   ├── make-ldif
│   ├── manage-account
│   ├── manage-tasks
│   ├── rebuild-index
│   ├── restore
│   ├── start-ds
│   ├── status
│   ├── stop-ds
│   └── verify-index
├── changelogDb
├── classes
├── config
│   ├── admin-backend.ldif
│   ├── admin-backend.ldif.old
│   ├── admin-keystore
│   ├── admin-keystore.pin
│   ├── admin-truststore
│   ├── ads-truststore
│   ├── ads-truststore.pin
│   ├── archived-configs
│   │   ├── config-20160827164448Z.gz
│   │   └── config-20160827164450Z.gz
│   ├── buildinfo
│   ├── config.ldif
│   ├── config.ldif.startok
│   ├── http-config.json
│   ├── java.properties
│   ├── keystore
│   ├── keystore.pin
│   ├── MakeLDIF
│   │   ├── cities
│   │   ├── example.template
│   │   ├── first.names
│   │   ├── last.names
│   │   ├── states
│   │   └── streets
│   ├── messages
│   │   ├── account-disabled.template
│   │   ├── account-enabled.template
│   │   ├── account-expired.template
│   │   ├── account-idle-locked.template
│   │   ├── account-permanently-locked.template
│   │   ├── account-reset-locked.template
│   │   ├── account-temporarily-locked.template
│   │   ├── account-unlocked.template
│   │   ├── password-changed.template
│   │   ├── password-expired.template
│   │   ├── password-expiring.template
│   │   └── password-reset.template
│   ├── schema
│   │   ├── 00-core.ldif
│   │   ├── 01-pwpolicy.ldif
│   │   ├── 02-config.ldif
│   │   ├── 03-changelog.ldif
│   │   ├── 03-pwpolicyextension.ldif
│   │   ├── 03-rfc2713.ldif
│   │   ├── 03-rfc2714.ldif
│   │   ├── 03-rfc2739.ldif
│   │   ├── 03-rfc2926.ldif
│   │   ├── 03-rfc3112.ldif
│   │   ├── 03-rfc3712.ldif
│   │   ├── 03-uddiv3.ldif
│   │   ├── 04-rfc2307bis.ldif
│   │   ├── 05-rfc4876.ldif
│   │   ├── 05-samba.ldif
│   │   ├── 05-solaris.ldif
│   │   └── 06-compat.ldif
│   ├── snmp
│   │   └── security
│   │       └── opendj-snmp.security
│   ├── tasks.ldif
│   ├── tools.properties
│   ├── truststore
│   ├── upgrade
│   │   └── schema.ldif.185acee3ba68d8da1782007eebacb3701dc996d6
│   └── wordlist.txt
├── db
│   └── userRoot
│       ├── dj
│       ├── dj_journal.000000000002
│       ├── dj.lck
│       └── dj.log
├── import-tmp
│   └── userRoot
├── ldif
├── legal-notices
│   ├── CDDLv1_0.txt
│   ├── Forgerock_License.txt
│   ├── licenseAccepted
│   └── THIRDPARTYREADME.txt
├── lib
│   ├── bootstrap-client.jar
│   ├── bootstrap.jar
│   ├── chf-http-core.jar
│   ├── chf-http-servlet.jar
│   ├── _client-script.sh
│   ├── extensions
│   │   └── snmp-mib2605.jar
│   ├── forgerock-audit-core.jar
│   ├── forgerock-audit-handler-csv.jar
│   ├── forgerock-audit-handler-jdbc.jar
│   ├── forgerock-audit-handler-syslog.jar
│   ├── forgerock-audit-json.jar
│   ├── forgerock-persistit-core.jar
│   ├── forgerock-util.jar
│   ├── grizzly-framework.jar
│   ├── grizzly-http.jar
│   ├── grizzly-http-server.jar
│   ├── grizzly-http-servlet.jar
│   ├── i18n-core.jar
│   ├── i18n-slf4j.jar
│   ├── jackson-annotations.jar
│   ├── jackson-core.jar
│   ├── jackson-databind.jar
│   ├── jackson-module-jsonSchema.jar
│   ├── javax.mail.jar
│   ├── javax.servlet-api.jar
│   ├── je.jar
│   ├── joda-time.jar
│   ├── json-resource-http.jar
│   ├── json-resource.jar
│   ├── _mixed-script.sh
│   ├── OpenDJ-ca_ES.jar
│   ├── opendj-cli.jar
│   ├── opendj-config.jar
│   ├── opendj-core.jar
│   ├── OpenDJ-de.jar
│   ├── OpenDJ-es.jar
│   ├── OpenDJ-fr.jar
│   ├── opendj-grizzly.jar
│   ├── OpenDJ-ja.jar
│   ├── OpenDJ.jar
│   ├── opendj-je-backend.jar
│   ├── OpenDJ-ko.jar
│   ├── OpenDJ-pl.jar
│   ├── opendj-rest2ldap.jar
│   ├── opendj-server.jar
│   ├── opendj-slf4j-adapter.jar
│   ├── OpenDJ-zh_CN.jar
│   ├── OpenDJ-zh_TW.jar
│   ├── org.apache.servicemix.bundles.javax-inject.jar
│   ├── quicksetup.jar
│   ├── _script-util.sh
│   ├── _server-script.sh
│   ├── set-java-home
│   ├── slf4j-api.jar
│   ├── slf4j-jdk14.jar
│   ├── super-csv.jar
│   └── validation-api.jar
├── locks
│   ├── backend-adminRoot.lock
│   ├── backend-ads-truststore.lock
│   ├── backend-backup.lock
│   ├── backend-monitor.lock
│   ├── backend-schema.lock
│   ├── backend-tasks.lock
│   ├── backend-userRoot.lock
│   └── server.lock
├── logs
│   ├── access
│   ├── errors
│   ├── replication
│   ├── server.out
│   └── server.pid
├── opendj_logo.png
├── setup
├── share
│   └── man
│       ├── man1
│       │   ├── backendstat.1
│       │   ├── backup.1
│       │   ├── base64.1
│       │   ├── configure.1
│       │   ├── control-panel.1
│       │   ├── create-rc-script.1
│       │   ├── dsconfig.1
│       │   ├── dsconfig_create-access-log-filtering-criteria.1
│       │   ├── dsconfig_create-account-status-notification-handler.1
│       │   ├── dsconfig_create-alert-handler.1
│       │   ├── dsconfig_create-attribute-syntax.1
│       │   ├── dsconfig_create-backend.1
│       │   ├── dsconfig_create-backend-index.1
│       │   ├── dsconfig_create-backend-vlv-index.1
│       │   ├── dsconfig_create-certificate-mapper.1
│       │   ├── dsconfig_create-connection-handler.1
│       │   ├── dsconfig_create-debug-target.1
│       │   ├── dsconfig_create-entry-cache.1
│       │   ├── dsconfig_create-extended-operation-handler.1
│       │   ├── dsconfig_create-group-implementation.1
│       │   ├── dsconfig_create-identity-mapper.1
│       │   ├── dsconfig_create-key-manager-provider.1
│       │   ├── dsconfig_create-log-publisher.1
│       │   ├── dsconfig_create-log-retention-policy.1
│       │   ├── dsconfig_create-log-rotation-policy.1
│       │   ├── dsconfig_create-matching-rule.1
│       │   ├── dsconfig_create-monitor-provider.1
│       │   ├── dsconfig_create-password-generator.1
│       │   ├── dsconfig_create-password-policy.1
│       │   ├── dsconfig_create-password-storage-scheme.1
│       │   ├── dsconfig_create-password-validator.1
│       │   ├── dsconfig_create-plugin.1
│       │   ├── dsconfig_create-replication-domain.1
│       │   ├── dsconfig_create-replication-server.1
│       │   ├── dsconfig_create-sasl-mechanism-handler.1
│       │   ├── dsconfig_create-schema-provider.1
│       │   ├── dsconfig_create-synchronization-provider.1
│       │   ├── dsconfig_create-trust-manager-provider.1
│       │   ├── dsconfig_create-virtual-attribute.1
│       │   ├── dsconfig_delete-access-log-filtering-criteria.1
│       │   ├── dsconfig_delete-account-status-notification-handler.1
│       │   ├── dsconfig_delete-alert-handler.1
│       │   ├── dsconfig_delete-attribute-syntax.1
│       │   ├── dsconfig_delete-backend.1
│       │   ├── dsconfig_delete-backend-index.1
│       │   ├── dsconfig_delete-backend-vlv-index.1
│       │   ├── dsconfig_delete-certificate-mapper.1
│       │   ├── dsconfig_delete-connection-handler.1
│       │   ├── dsconfig_delete-debug-target.1
│       │   ├── dsconfig_delete-entry-cache.1
│       │   ├── dsconfig_delete-extended-operation-handler.1
│       │   ├── dsconfig_delete-group-implementation.1
│       │   ├── dsconfig_delete-identity-mapper.1
│       │   ├── dsconfig_delete-key-manager-provider.1
│       │   ├── dsconfig_delete-log-publisher.1
│       │   ├── dsconfig_delete-log-retention-policy.1
│       │   ├── dsconfig_delete-log-rotation-policy.1
│       │   ├── dsconfig_delete-matching-rule.1
│       │   ├── dsconfig_delete-monitor-provider.1
│       │   ├── dsconfig_delete-password-generator.1
│       │   ├── dsconfig_delete-password-policy.1
│       │   ├── dsconfig_delete-password-storage-scheme.1
│       │   ├── dsconfig_delete-password-validator.1
│       │   ├── dsconfig_delete-plugin.1
│       │   ├── dsconfig_delete-replication-domain.1
│       │   ├── dsconfig_delete-replication-server.1
│       │   ├── dsconfig_delete-sasl-mechanism-handler.1
│       │   ├── dsconfig_delete-schema-provider.1
│       │   ├── dsconfig_delete-synchronization-provider.1
│       │   ├── dsconfig_delete-trust-manager-provider.1
│       │   ├── dsconfig_delete-virtual-attribute.1
│       │   ├── dsconfig_get-access-control-handler-prop.1
│       │   ├── dsconfig_get-access-log-filtering-criteria-prop.1
│       │   ├── dsconfig_get-account-status-notification-handler-prop.1
│       │   ├── dsconfig_get-administration-connector-prop.1
│       │   ├── dsconfig_get-alert-handler-prop.1
│       │   ├── dsconfig_get-attribute-syntax-prop.1
│       │   ├── dsconfig_get-backend-index-prop.1
│       │   ├── dsconfig_get-backend-prop.1
│       │   ├── dsconfig_get-backend-vlv-index-prop.1
│       │   ├── dsconfig_get-certificate-mapper-prop.1
│       │   ├── dsconfig_get-connection-handler-prop.1
│       │   ├── dsconfig_get-crypto-manager-prop.1
│       │   ├── dsconfig_get-debug-target-prop.1
│       │   ├── dsconfig_get-entry-cache-prop.1
│       │   ├── dsconfig_get-extended-operation-handler-prop.1
│       │   ├── dsconfig_get-external-changelog-domain-prop.1
│       │   ├── dsconfig_get-global-configuration-prop.1
│       │   ├── dsconfig_get-group-implementation-prop.1
│       │   ├── dsconfig_get-identity-mapper-prop.1
│       │   ├── dsconfig_get-key-manager-provider-prop.1
│       │   ├── dsconfig_get-log-publisher-prop.1
│       │   ├── dsconfig_get-log-retention-policy-prop.1
│       │   ├── dsconfig_get-log-rotation-policy-prop.1
│       │   ├── dsconfig_get-matching-rule-prop.1
│       │   ├── dsconfig_get-monitor-provider-prop.1
│       │   ├── dsconfig_get-password-generator-prop.1
│       │   ├── dsconfig_get-password-policy-prop.1
│       │   ├── dsconfig_get-password-storage-scheme-prop.1
│       │   ├── dsconfig_get-password-validator-prop.1
│       │   ├── dsconfig_get-plugin-prop.1
│       │   ├── dsconfig_get-plugin-root-prop.1
│       │   ├── dsconfig_get-replication-domain-prop.1
│       │   ├── dsconfig_get-replication-server-prop.1
│       │   ├── dsconfig_get-root-dn-prop.1
│       │   ├── dsconfig_get-root-dse-backend-prop.1
│       │   ├── dsconfig_get-sasl-mechanism-handler-prop.1
│       │   ├── dsconfig_get-schema-provider-prop.1
│       │   ├── dsconfig_get-synchronization-provider-prop.1
│       │   ├── dsconfig_get-trust-manager-provider-prop.1
│       │   ├── dsconfig_get-virtual-attribute-prop.1
│       │   ├── dsconfig_get-work-queue-prop.1
│       │   ├── dsconfig_list-access-log-filtering-criteria.1
│       │   ├── dsconfig_list-account-status-notification-handlers.1
│       │   ├── dsconfig_list-alert-handlers.1
│       │   ├── dsconfig_list-attribute-syntaxes.1
│       │   ├── dsconfig_list-backend-indexes.1
│       │   ├── dsconfig_list-backends.1
│       │   ├── dsconfig_list-backend-vlv-indexes.1
│       │   ├── dsconfig_list-certificate-mappers.1
│       │   ├── dsconfig_list-connection-handlers.1
│       │   ├── dsconfig_list-debug-targets.1
│       │   ├── dsconfig_list-entry-caches.1
│       │   ├── dsconfig_list-extended-operation-handlers.1
│       │   ├── dsconfig_list-group-implementations.1
│       │   ├── dsconfig_list-identity-mappers.1
│       │   ├── dsconfig_list-key-manager-providers.1
│       │   ├── dsconfig_list-log-publishers.1
│       │   ├── dsconfig_list-log-retention-policies.1
│       │   ├── dsconfig_list-log-rotation-policies.1
│       │   ├── dsconfig_list-matching-rules.1
│       │   ├── dsconfig_list-monitor-providers.1
│       │   ├── dsconfig_list-password-generators.1
│       │   ├── dsconfig_list-password-policies.1
│       │   ├── dsconfig_list-password-storage-schemes.1
│       │   ├── dsconfig_list-password-validators.1
│       │   ├── dsconfig_list-plugins.1
│       │   ├── dsconfig_list-properties.1
│       │   ├── dsconfig_list-replication-domains.1
│       │   ├── dsconfig_list-replication-server.1
│       │   ├── dsconfig_list-sasl-mechanism-handlers.1
│       │   ├── dsconfig_list-schema-providers.1
│       │   ├── dsconfig_list-synchronization-providers.1
│       │   ├── dsconfig_list-trust-manager-providers.1
│       │   ├── dsconfig_list-virtual-attributes.1
│       │   ├── dsconfig_set-access-control-handler-prop.1
│       │   ├── dsconfig_set-access-log-filtering-criteria-prop.1
│       │   ├── dsconfig_set-account-status-notification-handler-prop.1
│       │   ├── dsconfig_set-administration-connector-prop.1
│       │   ├── dsconfig_set-alert-handler-prop.1
│       │   ├── dsconfig_set-attribute-syntax-prop.1
│       │   ├── dsconfig_set-backend-index-prop.1
│       │   ├── dsconfig_set-backend-prop.1
│       │   ├── dsconfig_set-backend-vlv-index-prop.1
│       │   ├── dsconfig_set-certificate-mapper-prop.1
│       │   ├── dsconfig_set-connection-handler-prop.1
│       │   ├── dsconfig_set-crypto-manager-prop.1
│       │   ├── dsconfig_set-debug-target-prop.1
│       │   ├── dsconfig_set-entry-cache-prop.1
│       │   ├── dsconfig_set-extended-operation-handler-prop.1
│       │   ├── dsconfig_set-external-changelog-domain-prop.1
│       │   ├── dsconfig_set-global-configuration-prop.1
│       │   ├── dsconfig_set-group-implementation-prop.1
│       │   ├── dsconfig_set-identity-mapper-prop.1
│       │   ├── dsconfig_set-key-manager-provider-prop.1
│       │   ├── dsconfig_set-log-publisher-prop.1
│       │   ├── dsconfig_set-log-retention-policy-prop.1
│       │   ├── dsconfig_set-log-rotation-policy-prop.1
│       │   ├── dsconfig_set-matching-rule-prop.1
│       │   ├── dsconfig_set-monitor-provider-prop.1
│       │   ├── dsconfig_set-password-generator-prop.1
│       │   ├── dsconfig_set-password-policy-prop.1
│       │   ├── dsconfig_set-password-storage-scheme-prop.1
│       │   ├── dsconfig_set-password-validator-prop.1
│       │   ├── dsconfig_set-plugin-prop.1
│       │   ├── dsconfig_set-plugin-root-prop.1
│       │   ├── dsconfig_set-replication-domain-prop.1
│       │   ├── dsconfig_set-replication-server-prop.1
│       │   ├── dsconfig_set-root-dn-prop.1
│       │   ├── dsconfig_set-root-dse-backend-prop.1
│       │   ├── dsconfig_set-sasl-mechanism-handler-prop.1
│       │   ├── dsconfig_set-schema-provider-prop.1
│       │   ├── dsconfig_set-synchronization-provider-prop.1
│       │   ├── dsconfig_set-trust-manager-provider-prop.1
│       │   ├── dsconfig_set-virtual-attribute-prop.1
│       │   ├── dsconfig_set-work-queue-prop.1
│       │   ├── dsjavaproperties.1
│       │   ├── dsreplication.1
│       │   ├── encode-password.1
│       │   ├── export-ldif.1
│       │   ├── import-ldif.1
│       │   ├── ldapcompare.1
│       │   ├── ldapdelete.1
│       │   ├── ldapmodify.1
│       │   ├── ldappasswordmodify.1
│       │   ├── ldapsearch.1
│       │   ├── ldif-diff.1
│       │   ├── ldifmodify.1
│       │   ├── ldifsearch.1
│       │   ├── list-backends.1
│       │   ├── make-ldif.1
│       │   ├── manage-account.1
│       │   ├── manage-tasks.1
│       │   ├── rebuild-index.1
│       │   ├── restore.1
│       │   ├── setup.1
│       │   ├── start-ds.1
│       │   ├── status.1
│       │   ├── stop-ds.1
│       │   ├── uninstall.1
│       │   ├── upgrade.1
│       │   ├── verify-index.1
│       │   └── windows-service.1
│       ├── man5
│       │   ├── make-ldif.template.5
│       │   └── OpenDJ.5
│       └── META-INF
│           └── MANIFEST.MF
├── snmp
│   └── mib
│       └── rfc2605.txt
├── template
│   ├── bak
│   ├── changelogDb
│   ├── classes
│   ├── config
│   │   ├── admin-backend.ldif
│   │   ├── buildinfo
│   │   ├── config.ldif
│   │   ├── http-config.json
│   │   ├── java.properties
│   │   ├── MakeLDIF
│   │   │   ├── cities
│   │   │   ├── example.template
│   │   │   ├── first.names
│   │   │   ├── last.names
│   │   │   ├── states
│   │   │   └── streets
│   │   ├── messages
│   │   │   ├── account-disabled.template
│   │   │   ├── account-enabled.template
│   │   │   ├── account-expired.template
│   │   │   ├── account-idle-locked.template
│   │   │   ├── account-permanently-locked.template
│   │   │   ├── account-reset-locked.template
│   │   │   ├── account-temporarily-locked.template
│   │   │   ├── account-unlocked.template
│   │   │   ├── password-changed.template
│   │   │   ├── password-expired.template
│   │   │   ├── password-expiring.template
│   │   │   └── password-reset.template
│   │   ├── schema
│   │   │   ├── 00-core.ldif
│   │   │   ├── 01-pwpolicy.ldif
│   │   │   ├── 02-config.ldif
│   │   │   ├── 03-changelog.ldif
│   │   │   ├── 03-pwpolicyextension.ldif
│   │   │   ├── 03-rfc2713.ldif
│   │   │   ├── 03-rfc2714.ldif
│   │   │   ├── 03-rfc2739.ldif
│   │   │   ├── 03-rfc2926.ldif
│   │   │   ├── 03-rfc3112.ldif
│   │   │   ├── 03-rfc3712.ldif
│   │   │   ├── 03-uddiv3.ldif
│   │   │   ├── 04-rfc2307bis.ldif
│   │   │   ├── 05-rfc4876.ldif
│   │   │   ├── 05-samba.ldif
│   │   │   ├── 05-solaris.ldif
│   │   │   └── 06-compat.ldif
│   │   ├── snmp
│   │   │   └── security
│   │   │       └── opendj-snmp.security
│   │   ├── tools.properties
│   │   ├── upgrade
│   │   │   └── schema.ldif.185acee3ba68d8da1782007eebacb3701dc996d6
│   │   └── wordlist.txt
│   ├── db
│   ├── import-tmp
│   ├── ldif
│   ├── locks
│   └── logs
├── uninstall
└── upgrade

_____________________
h6. 2016-08-27 16:39  configure OpenDJ as LDAP repo for midPoint per https://wiki.evolveum.com/display/midPoint/OpenDJ+Installation+and+Configuration

Import data from LDIF file:

https://github.com/Evolveum/midpoint/blob/master/samples/resources/opendj/example-base-only.ldif

edited:
../example.base.only.ldif


cd /opt/opendj

midpoint#>ls -la bin

total 132
drwxr-xr-x.  2 root root 4096 Aug 27 12:39 .
drwxr-xr-x. 17 root root 4096 Aug 27 12:44 ..
-rwxr-xr-x.  1 root root 1186 Jan  8  2016 backendstat
-rwxr-xr-x.  1 root root 1212 Jan  8  2016 backup
-rwxr-xr-x.  1 root root 1183 Jan  8  2016 base64
-rwxr-xr-x.  1 root root 1220 Jan  8  2016 control-panel
-rwxr-xr-x.  1 root root 1202 Jan  8  2016 create-rc-script
-rwxr-xr-x.  1 root root 1233 Jan  8  2016 dsconfig
-rwxr-xr-x.  1 root root 1231 Jan  8  2016 dsjavaproperties
-rwxr-xr-x.  1 root root 1492 Jan  8  2016 dsreplication
-rwxr-xr-x.  1 root root 1293 Jan  8  2016 encode-password
-rwxr-xr-x.  1 root root 1228 Jan  8  2016 export-ldif
-rwxr-xr-x.  1 root root 1221 Jan  8  2016 import-ldif
-rwxr-xr-x.  1 root root 1206 Jan  8  2016 ldapcompare
-rwxr-xr-x.  1 root root 1203 Jan  8  2016 ldapdelete
-rwxr-xr-x.  1 root root 1233 Jan  8  2016 ldapmodify
-rwxr-xr-x.  1 root root 1228 Jan  8  2016 ldappasswordmodify
-rwxr-xr-x.  1 root root 1203 Jan  8  2016 ldapsearch
-rwxr-xr-x.  1 root root 1208 Jan  8  2016 ldif-diff
-rwxr-xr-x.  1 root root 1207 Jan  8  2016 ldifmodify
-rwxr-xr-x.  1 root root 1205 Jan  8  2016 ldifsearch
-rwxr-xr-x.  1 root root 1225 Jan  8  2016 list-backends
-rwxr-xr-x.  1 root root 1536 Jan  8  2016 make-ldif
-rwxr-xr-x.  1 root root 1210 Jan  8  2016 manage-account
-rwxr-xr-x.  1 root root 1212 Jan  8  2016 manage-tasks
-rwxr-xr-x.  1 root root 1279 Jan  8  2016 rebuild-index
-rwxr-xr-x.  1 root root 1215 Jan  8  2016 restore
-rwxr-xr-x.  1 root root 5261 Jan  8  2016 start-ds
-rwxr-xr-x.  1 root root 1194 Jan  8  2016 status
-rwxr-xr-x.  1 root root 6297 Jan  8  2016 stop-ds
-rwxr-xr-x.  1 root root 1291 Jan  8  2016 verify-index

midpoint#>./status


>>>> Specify OpenDJ LDAP connection parameters

Administrator user bind DN [cn=Directory Manager]:

Password for user 'cn=Directory Manager':

          --- Server Status ---
Server Run Status:        Started
Open Connections:         0

          --- Server Details ---
Host Name:                ip-172-31-6-112.us-west-2.compute.internal
Administrative Users:     cn=Directory Manager
Installation Path:        /opt/opendj
Version:                  OpenDJ 3.0.0
Java Version:             <not available> (*)
Administration Connector: Port 4444 (LDAPS)

          --- Connection Handlers ---
Address:Port : Protocol               : State
-------------:------------------------:---------
--           : LDIF                   : Disabled
0.0.0.0:161  : SNMP                   : Disabled
0.0.0.0:389  : LDAP (allows StartTLS) : Enabled
0.0.0.0:636  : LDAPS                  : Enabled
0.0.0.0:1689 : JMX                    : Disabled
0.0.0.0:8080 : HTTP                   : Disabled

          --- Data Sources ---
Base DN:     dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
Backend ID:  userRoot
Entries:     <not available> (*)
Replication:

* Information only available if you provide valid authentication information
when launching the status command.

https://wiki.evolveum.com/display/midPoint/First+Steps
_____________________
h6. 2016-08-27 15:46  install midpoint per https://wiki.evolveum.com/display/midPoint/Installation+Guide

- Install tomcat per http://tomcat.apache.org/tomcat-7.0-doc/setup.html
  - not properly set up for https yet, but http works

- wget http://www.evolveum.com/downloads/midpoint/3.4/midpoint-3.4-dist.tar.gz

cd /opt
midpoint#>tar xvf midpoint-3.4-dist.tar.gz

midpoint#>cat midpoint-3.4/INSTALL

INSTALLING MIDPOINT FROM BINARY DISTRIBUTION
--------------------------------------------

This file contains quick installation guide. Full installation guide
and release notes can be found at:

    https://wiki.evolveum.com/display/midPoint/midPoint+Releases

1. Pre-requisities:

    1. Java (JRE) 7 or 8
    2. Apache Tomcat 7.x or 8.x (or another supported web container)

2. Install Apache Tomcat

Install Apache Tomcat or another supported web container according to
the web container documentation.

3. Deploy midPoint

Locate the midpoint.war file in the distribution archive in the /war directory.
Deploy the WAR file according to the web container documentation.
For Apache Tomcat the deployment is simple copying of the WAR file to webapps
directory of the Tomcat installation and starting Tomcat.

midpoint#>$CATALINA_HOME/bin/shutdown.sh

midpoint#>cp midpoint-3.4/war/midpoint.war $CATALINA_HOME/webapps

midpoint#>ls -la $CATALINA_HOME/webapps
total 120920
drwxr-xr-x.  7 root root        95 Aug 27 17:33 .
drwxr-xr-x.  9 root root      4096 Aug 27 16:59 ..
drwxr-xr-x. 14 root root      4096 Aug 27 16:59 docs
drwxr-xr-x.  7 root root      4096 Aug 27 16:59 examples
drwxr-xr-x.  5 root root        82 Aug 27 16:59 host-manager
drwxr-xr-x.  5 root root        97 Aug 27 16:59 manager
-rw-r--r--.  1 root root 123805251 Aug 27 17:33 midpoint.war
drwxr-xr-x.  3 root root      4096 Aug 27 16:59 ROOT

midpoint#>$CATALINA_HOME/bin/startup.sh

Using CATALINA_BASE:   /opt/apache-tomcat-7.0.70
Using CATALINA_HOME:   /opt/apache-tomcat-7.0.70
Using CATALINA_TMPDIR: /opt/apache-tomcat-7.0.70/temp
Using JRE_HOME:        /usr
Using CLASSPATH:       /opt/apache-tomcat-7.0.70/bin/bootstrap.jar:/opt/apache-tomcat-7.0.70/bin/tomcat-juli.jar
Tomcat started.
midpoint#>


4. Access midPoint GUI

MidPoint web GUI should be accessible few moments after the web container
starts and the application initialization is done. It is accessible on following
URL by default:

  http://<hostname>:<port>/midpoint

where <hostname> and <port> are the hostname and port number of the web container.

Login: administrator
Password 5ecr3t
midpoint#>

! Successful login at http://midpoint.testbed.tier.internet2.edu
_____________________
h6. 2016-08-27 15:24  unlimited bash history file per http://stackoverflow.com/questions/9457233/unlimited-bash-history

[kh@midpoint ~]$ cat /etc/profile.d/tier.sh

PATH=$PATH:/usr/local/bin:/usr/local/sbin:/opt/opendj-ldap-toolkit/bin
export JAVA_HOME=/usr/bin/java
export HISTFILESIZE=
export HISTSIZE=
export HISTTIMEFORMAT="[%F %T] "
# Change the file location because certain bash sessions truncate .bash_history file upon close.
# http://superuser.com/questions/575479/bash-history-truncated-to-500-lines-on-each-login
export HISTFILE=~/.bash_eternal_history
# Force prompt to write history after every command.
# http://superuser.com/questions/20900/bash-history-loss
PROMPT_COMMAND="history -a; $PROMPT_COMMAND"
_____________________
h6. 2016-08-27 13:55  install OpenDJ client toolkit

yum install lsof

midpoint#>lsof -i

COMMAND   PID   USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
chronyd   531 chrony    1u  IPv4  14304      0t0  UDP midpoint.testbed.tier.internet2.edu:323
chronyd   531 chrony    2u  IPv6  14305      0t0  UDP localhost:323
dhclient  723   root    6u  IPv4  15000      0t0  UDP *:bootpc
dhclient  723   root   20u  IPv4  14970      0t0  UDP *:45687
dhclient  723   root   21u  IPv6  14971      0t0  UDP *:60764
sshd      771   root    3u  IPv4  15639      0t0  TCP *:ssh (LISTEN)
sshd      771   root    4u  IPv6  15648      0t0  TCP *:ssh (LISTEN)
httpd    5486   root    3u  IPv4  59821      0t0  TCP *:http (LISTEN)
httpd    5486   root    4u  IPv4  59827      0t0  TCP *:https (LISTEN)
httpd    5599 apache    3u  IPv4  59821      0t0  TCP *:http (LISTEN)
httpd    5599 apache    4u  IPv4  59827      0t0  TCP *:https (LISTEN)
httpd    5600 apache    3u  IPv4  59821      0t0  TCP *:http (LISTEN)
httpd    5600 apache    4u  IPv4  59827      0t0  TCP *:https (LISTEN)
httpd    5601 apache    3u  IPv4  59821      0t0  TCP *:http (LISTEN)
httpd    5601 apache    4u  IPv4  59827      0t0  TCP *:https (LISTEN)
httpd    5602 apache    3u  IPv4  59821      0t0  TCP *:http (LISTEN)
httpd    5602 apache    4u  IPv4  59827      0t0  TCP *:https (LISTEN)
httpd    5603 apache    3u  IPv4  59821      0t0  TCP *:http (LISTEN)
httpd    5603 apache    4u  IPv4  59827      0t0  TCP *:https (LISTEN)
httpd    5610 apache    3u  IPv4  59821      0t0  TCP *:http (LISTEN)
httpd    5610 apache    4u  IPv4  59827      0t0  TCP *:https (LISTEN)
httpd    5611 apache    3u  IPv4  59821      0t0  TCP *:http (LISTEN)
httpd    5611 apache    4u  IPv4  59827      0t0  TCP *:https (LISTEN)
mysqld   7081  mysql   14u  IPv4  75811      0t0  TCP *:mysql (LISTEN)
java     8250   root  102u  IPv4  85962      0t0  TCP *:krb524 (LISTEN)
java     8250   root  103u  IPv4  85963      0t0  TCP *:ldaps (LISTEN)
java     8250   root  104u  IPv4  85964      0t0  TCP *:ldap (LISTEN)
sshd     8555   root    3u  IPv4  89111      0t0  TCP ip-172-31-6-112.us-west-2.compute.internal:ssh->68-190-167-202.dhcp.eucl.wi.charter.com:57527 (ESTABLISHED)
sshd     8558     kh    3u  IPv4  89111      0t0  TCP ip-172-31-6-112.us-west-2.compute.internal:ssh->68-190-167-202.dhcp.eucl.wi.charter.com:57527 (ESTABLISHED)
midpoint#>

opendj-ldap-toolkit-2.6.9-1.el7.centos.noarch.rpm



[kh@midpoint ~]$ ls -la /opt/opendj-ldap-toolkit/bin
total 44
drwxr-xr-x. 2 root root 4096 Aug 27 19:15 .
drwxr-xr-x. 4 root root   26 Aug 27 19:15 ..
-rwxr-xr-x. 1 root root 1182 Aug 26  2015 authrate
-rwxr-xr-x. 1 root root 1200 Aug 26  2015 ldapcompare
-rwxr-xr-x. 1 root root 1227 Aug 26  2015 ldapmodify
-rwxr-xr-x. 1 root root 1222 Aug 26  2015 ldappasswordmodify
-rwxr-xr-x. 1 root root 1197 Aug 26  2015 ldapsearch
-rwxr-xr-x. 1 root root 1167 Aug 26  2015 ldifdiff
-rwxr-xr-x. 1 root root 1234 Aug 26  2015 ldifmodify
-rwxr-xr-x. 1 root root 1199 Aug 26  2015 ldifsearch
-rwxr-xr-x. 1 root root 1186 Aug 26  2015 modrate
-rwxr-xr-x. 1 root root 1192 Aug 26  2015 searchrate
[kh@midpoint ~]$ ls -la /opt/opendj-ldap-toolkit/lib
total 2348
drwxr-xr-x. 2 root root    4096 Aug 27 19:15 .
drwxr-xr-x. 4 root root      26 Aug 27 19:15 ..
-rwxr-xr-x. 1 root root    1806 Aug 26  2015 _client-script.sh
-rw-r--r--. 1 root root  863082 Aug 26  2015 grizzly-framework-2.3.11.jar
-rw-r--r--. 1 root root   26145 Aug 26  2015 i18n-core-1.4.0.jar
-rw-r--r--. 1 root root 1298308 Aug 26  2015 opendj-ldap-sdk-2.6.9.jar
-rw-r--r--. 1 root root  199520 Aug 26  2015 opendj-ldap-toolkit-2.6.9.jar
-rwxr-xr-x. 1 root root    3567 Aug 26  2015 _script-util.sh

_____________________
h6. 2016-08-27 11:08  Install OpenDJ

- Install OpenDJ 3 per https://backstage.forgerock.com/#!/docs/opendj/3/install-guide
  - per Procedure 1.7. To Install From the RPM Package

KeithsOfficeMBP:~ khazelton$ scp /Users/khazelton/Downloads/opendj-3.0.0-1.noarch.rpm kh@midpoint.testbed.tier.internet2.edu:opendj-3.0.0-1.noarch.rpm

[kh@midpoint opt]$ sudo cp /home/kh/opendj-3.0.0-1.noarch.rpm /opt

midpoint#>cd /opt
midpoint#>ls -la
total 203896
drwxr-xr-x.  4 root root      4096 Aug 27 12:28 .
dr-xr-xr-x. 17 root root      4096 Feb 22  2016 ..
-rw-r--r--.  1 root root      8409 Aug 27 11:54 jce_policy-8.zip
drwxr-xr-x.  8   10  143      4096 Jun 22 06:13 jdk1.8.0_101
-rw-r--r--.  1 kh   kh   181352138 Aug 24 21:43 jdk-8u101-linux-x64.tar.gz
-rw-r--r--.  1 root root  27410320 Aug 27 12:28 opendj-3.0.0-1.noarch.rpm
drwxrwxr-x.  2 root root        73 Dec 20  2013 UnlimitedJCEPolicyJDK8
midpoint#>rpm -i opendj-3.0.0-1.noarch.rpm
Pre Install - initial install
Post Install - initial install
midpoint#>ls -la
total 203900
drwxr-xr-x.  5 root root      4096 Aug 27 12:39 .
dr-xr-xr-x. 17 root root      4096 Feb 22  2016 ..
-rw-r--r--.  1 root root      8409 Aug 27 11:54 jce_policy-8.zip
drwxr-xr-x.  8   10  143      4096 Jun 22 06:13 jdk1.8.0_101
-rw-r--r--.  1 kh   kh   181352138 Aug 24 21:43 jdk-8u101-linux-x64.tar.gz
drwxr-xr-x.  8 root root      4096 Aug 27 12:39 opendj
-rw-r--r--.  1 root root  27410320 Aug 27 12:28 opendj-3.0.0-1.noarch.rpm
drwxrwxr-x.  2 root root        73 Dec 20  2013 UnlimitedJCEPolicyJDK8
midpoint#>ls -la opendj
total 44
drwxr-xr-x.  8 root root 4096 Aug 27 12:39 .
drwxr-xr-x.  5 root root 4096 Aug 27 12:39 ..
drwxr-xr-x.  2 root root 4096 Aug 27 12:39 bin
drwxr-xr-x.  2 root root   80 Aug 27 12:39 legal-notices
drwxr-xr-x.  3 root root 4096 Aug 27 12:39 lib
-rw-r--r--.  1 root root 6501 Jan  8  2016 opendj_logo.png
-rwxr-xr-x.  1 root root 1838 Jan  8  2016 setup
drwxr-xr-x.  3 root root   16 Aug 27 12:39 share
drwxr-xr-x.  3 root root   16 Aug 27 12:39 snmp
drwxr-xr-x. 11 root root 4096 Aug 27 12:39 template
-rwxr-xr-x.  1 root root 1875 Jan  8  2016 uninstall
-rwxr-xr-x.  1 root root 1754 Jan  8  2016 upgrade

midpoint#>/opt/opendj/setup --cli

Please read the License Agreement above.
You must accept the terms of the agreement before continuing with the
installation.
Accept the license (Yes/No) [No]:Yes

What would you like to use as the initial root user DN for the Directory
Server? [cn=Directory Manager]:
Please provide the password to use for the initial root user: mDB
Please re-enter the password for confirmation:

Provide the fully-qualified directory server host name that will be used when
generating self-signed certificates for LDAP SSL/StartTLS, the administration
connector, and replication [ip-172-31-6-112.us-west-2.compute.internal]: midpoint.testbed.tier.internet2.edu

On which port would you like the Directory Server to accept connections from
LDAP clients? [389]:

On which port would you like the Administration Connector to accept
connections? [4444]:

Do you want to create base DNs in the server? (yes / no) [yes]:

Provide the backend type:

    1)  JE Backend
    2)  PDB Backend

Enter choice [1]: 2

Provide the base DN for the directory data: [dc=example,dc=com]: dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
Options for populating the database:

    1)  Leave the database empty
    2)  Only create the base entry
    3)  Import data from an LDIF file
    4)  Load automatically-generated sample data

Enter choice [1]: 2

Do you want to enable SSL? (yes / no) [no]: yes
On which port would you like the Directory Server to accept connections from
LDAPS clients? [636]:

Do you want to enable Start TLS? (yes / no) [no]: yes
Certificate server options:

    1)  Generate self-signed certificate (recommended for testing purposes
        only)
    2)  Use an existing certificate located on a Java Key Store (JKS)
    3)  Use an existing certificate located on a JCEKS key store
    4)  Use an existing certificate located on a PKCS#12 key store
    5)  Use an existing certificate on a PKCS#11 token

Enter choice [1]: 1

Do you want to start the server when the configuration is completed? (yes /
no) [yes]:


Setup Summary
=============
LDAP Listener Port:            389
Administration Connector Port: 4444
JMX Listener Port:
LDAP Secure Access:            Enable StartTLS
                               Enable SSL on LDAP Port 636
                               Create a new Self-Signed Certificate
Root User DN:                  cn=Directory Manager
Directory Data:                Backend Type: PDB Backend
Create New Base DN dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
Base DN Data: Only Create Base Entry
(dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu)

Start Server when the configuration is completed


What would you like to do?

    1)  Set up the server with the parameters above
    2)  Provide the setup parameters again
    3)  Print equivalent non-interactive command-line
    4)  Cancel and exit

Enter choice [1]:

See /tmp/opendj-setup-2954264383518260871.log for a detailed log of this
operation.

Configuring Directory Server ..... Done.
Configuring Certificates ..... Done.
Creating Base Entry dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu ..... Done.
Starting Directory Server ........ Done.

To see basic server configuration status and configuration you can launch
/opt/opendj/bin/status

midpoint#>/opt/opendj/bin/status

>>>> Specify OpenDJ LDAP connection parameters

Administrator user bind DN [cn=Directory Manager]:

Password for user 'cn=Directory Manager':

          --- Server Status ---
Server Run Status:        Started
Open Connections:         1

          --- Server Details ---
Host Name:                ip-172-31-6-112.us-west-2.compute.internal
Administrative Users:     cn=Directory Manager
Installation Path:        /opt/opendj
Version:                  OpenDJ 3.0.0
Java Version:             1.8.0_101
Administration Connector: Port 4444 (LDAPS)

          --- Connection Handlers ---
Address:Port : Protocol               : State
-------------:------------------------:---------
--           : LDIF                   : Disabled
0.0.0.0:161  : SNMP                   : Disabled
0.0.0.0:389  : LDAP (allows StartTLS) : Enabled
0.0.0.0:636  : LDAPS                  : Enabled
0.0.0.0:1689 : JMX                    : Disabled
0.0.0.0:8080 : HTTP                   : Disabled

          --- Data Sources ---
Base DN:     dc=midpoint,dc=testbed,dc=tier,dc=internet2,dc=edu
Backend ID:  userRoot
Entries:     1
Replication:

- check run levels

midpoint#>chkconfig --list | grep opendj

Note: This output shows SysV services only and does not include native
      systemd services. SysV configuration data might be overridden by native
      systemd configuration.

      If you want to list systemd services use 'systemctl list-unit-files'.
      To see services enabled on particular target use
      'systemctl list-dependencies [target]'.

opendj         	0:off	1:off	2:on	3:on	4:on	5:on	6:off

midpoint#>systemctl list-unit-files
UNIT FILE                              STATE
proc-sys-fs-binfmt_misc.automount      static
dev-hugepages.mount                    static
dev-mqueue.mount                       static
proc-fs-nfsd.mount                     static
...

_____________________
h6. 2016-08-27 10:49  install JCE unlimited strength crypto per
	http://suhothayan.blogspot.com/2012/05/how-to-install-java-cryptography.html

- from oMbP: scp /Users/khazelton/Downloads/jce_policy-8.zip kh@midpoint.testbed.tier.internet2.edu:jce_policy-8.zip

sudo cp
cd /opt

[root@id opt]# unzip jce_policy-8.zip

creates directory UnlimitedJCEPolicyJDK8

[kh@midpoint ~]$ sudo cp jce_policy-8.zip /opt
[kh@midpoint ~]$ cd /opt


[kh@midpoint opt]$ sudo yum install unzip


[kh@midpoint opt]$ sudo unzip jce_policy-8.zip

Archive:  jce_policy-8.zip
   creating: UnlimitedJCEPolicyJDK8/
  inflating: UnlimitedJCEPolicyJDK8/local_policy.jar
  inflating: UnlimitedJCEPolicyJDK8/README.txt
  inflating: UnlimitedJCEPolicyJDK8/US_export_policy.jar
[kh@midpoint opt]$ pwd
/opt
[kh@midpoint opt]$ export JAVA_HOME=/opt/jdk1.8.0_101

[kh@midpoint opt]$ sudo cp UnlimitedJCEPolicyJDK8/local_policy.jar $JAVA_HOME/jre/lib/security
[kh@midpoint opt]$ sudo cp UnlimitedJCEPolicyJDK8/US_export_policy.jar $JAVA_HOME/jre/lib/security

[kh@midpoint opt]$ ls -la $JAVA_HOME/jre/lib/security
total 172
drwxr-xr-x.  2 10 143   4096 Jun 22 10:09 .
drwxr-xr-x. 15 10 143   4096 Jun 22 10:13 ..
-rw-r--r--.  1 10 143   4054 Jun 22 10:09 blacklist
-rw-r--r--.  1 10 143   1273 Jun 22 10:09 blacklisted.certs
-rw-r--r--.  1 10 143 112860 Jun 22 10:09 cacerts
-rw-r--r--.  1 10 143   2466 Jun 22 10:09 java.policy
-rw-r--r--.  1 10 143  26224 Jun 22 10:09 java.security
-rw-r--r--.  1 10 143     98 Jun 22 10:09 javaws.policy
-rw-r--r--.  1 10 143   3035 Aug 27 16:04 local_policy.jar
-rw-r--r--.  1 10 143      0 Jun 22 10:09 trusted.libraries
-rw-r--r--.  1 10 143   3023 Aug 27 16:04 US_export_policy.jar
_____________________
h6. 2016-08-27 10:43  install erlang per https://www.unixmen.com/install-erlang-elixir-centos-7/

sudo yum install epel-release

sudo yum install gcc gcc-c++ glibc-devel make ncurses-devel openssl-devel autoconf java-1.8.0-openjdk-devel git wget wxBase.x86_64

wget http://packages.erlang-solutions.com/erlang-solutions-1.0-1.noarch.rpm

sudo rpm -Uvh erlang-solutions-1.0-1.noarch.rpm

sudo yum update

sudo yum install erlang
_____________________
h6. 2016-08-27 10:41  install php

yum install php   #install php
...
Complete!

[kh@midpoint ~]$ php --version

PHP 5.4.16 (cli) (built: Aug 11 2016 21:24:59)
Copyright (c) 1997-2013 The PHP Group
Zend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies
[kh@midpoint ~]$
_____________________
h6. 2016-08-27 10:33  install mariadb (MySQL) per
    https://www.linode.com/docs/databases/mariadb/how-to-install-mariadb-on-centos-7  <== ++!!

[root@id opt]# sudo yum install mariadb-server

sudo systemctl enable mariadb
sudo systemctl start mariadb

mysql_secure_installation e..r.. bond

All done!  If you've completed all of the above steps, your MariaDB
installation should now be secure.

Thanks for using MariaDB!

mysql -u root -p
[kh@midpoint ~]$ mysql -u root -p
Enter password:
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 10
Server version: 5.5.50-MariaDB MariaDB Server

Copyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]> create database exp01;
Query OK, 1 row affected (0.00 sec)

MariaDB [(none)]> create user 'kh'@localhost identified by 'xxx';
Query OK, 0 rows affected (0.00 sec)

MariaDB [(none)]> grant all on exp01.* to 'kh' identified by 'xxx';
Query OK, 0 rows affected (0.00 sec)

MariaDB [(none)]> exit
Bye
[kh@midpoint ~]$ mysql -u kh -p
Enter password:
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 11
Server version: 5.5.50-MariaDB MariaDB Server

Copyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]> use exp01;
Database changed
MariaDB [exp01]> create table customers (customer_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY, first_name TEXT, last_name TEXT);
Query OK, 0 rows affected (0.00 sec)

MariaDB [exp01]> show tables;
+-----------------+
| Tables_in_exp01 |
+-----------------+
| customers       |
+-----------------+
1 row in set (0.00 sec)

MariaDB [exp01]> exit
Bye
[kh@midpoint ~]$
_____________________
h6. 2016-08-25 07:33  enable TLS for httpd  per http://www.apache.com/www/how-to-setup-an-ssl-certificate-on-apache/

- Install Let's Encrypt package per https://letsencrypt.org/getting-started/

- yum install mod_ssl   <== this is the step that generates the original /etc/httpd/conf.d/ssl.conf file
  - set server name to DNS name

- generate Let's Encrypt cert per https://letsencrypt.org/getting-started/
  - $ certbot --apache

- NOTE: 3 month lifetime; follow renewal practices above

- Browse successfully to https://mispoint.testbed.tier.internet2.edu and check the cert
_____________________
h6. 2016-08-25 06:53  java heap space

Hi Matt,
please try to increase -Xmx to at least 2048m and see if it helps.

Ivan

From: "Matt Mencel" <mr-mencel@wiu.edu>
To: "midPoint General Discussion" <midpoint@lists.evolveum.com>
Sent: Thursday, August 25, 2016 12:01:33 AM
Subject: [midPoint] Running out of Java Heap Space

Is there any further recommendations for setting the Java memory requirements?  My JAVA_OPTS is set to this.

JAVA_OPTS="$JAVA_OPTS $JSSE_OPTS -Dmidpoint.home=/opt/midpoint -Djavax.net.ssl.trustStore=/opt/midpoint/keystore.jceks -Djavax.net.ssl.trustStoreType=jceks -XX:MaxPermSize=1024m -Xss1m -Xmx1024m"

I'm running into the error below after an LDAP import task suspends due to an error.  I have yet to resolve the error, see my earlier post about how to ignore an LDAP attribute on import.  I've got plenty of memory on the VM, but I may need to tune my Java even further.

Thanks,
Matt

_____________________
h6. 2016-08-24 21:00  Install apache httpd 2.4

midpoint#>systemctl status httpd
● httpd.service - The Apache HTTP Server
   Loaded: loaded (/usr/lib/systemd/system/httpd.service; disabled; vendor preset: disabled)
   Active: active (running) since Wed 2016-08-24 20:25:39 EDT; 1h 36min ago
     Docs: man:httpd(8)
           man:apachectl(8)
 Main PID: 10087 (httpd)
   Status: "Total requests: 3; Current requests/sec: 0; Current traffic:   0 B/sec"
   CGroup: /system.slice/httpd.service
           ├─10087 /usr/sbin/httpd -DFOREGROUND
           ├─10088 /usr/sbin/httpd -DFOREGROUND
           ├─10089 /usr/sbin/httpd -DFOREGROUND
           ├─10090 /usr/sbin/httpd -DFOREGROUND
           ├─10091 /usr/sbin/httpd -DFOREGROUND
           └─10092 /usr/sbin/httpd -DFOREGROUND

Aug 24 20:25:39 midpoint.testbed.tier.internet2.edu systemd[1]: Starting The Apache HTTP Server...
Aug 24 20:25:39 midpoint.testbed.tier.internet2.edu systemd[1]: Started The Apache HTTP Server.

midpoint#>systemctl enable httpd  # enable start on boot
Created symlink from /etc/systemd/system/multi-user.target.wants/httpd.service to /usr/lib/systemd/system/httpd.service.
midpoint#>
_____________________
h6. 2016-08-24 20:28  Install Java 8 per http://tecadmin.net/install-java-8-on-centos-rhel-and-fedora/

cd /opt
sudo mv /home/khazelton/jdk-8u101-linux-x64.tar.gz .
tar xvf jdk-8u101-linux-x64.tar.gz

midpoint#>cd /opt/jdk1.8.0_101/
midpoint#>alternatives --install /usr/bin/java java /opt/jdk1.8.0_101/bin/java 2
midpoint#>alternatives --config java

There is 1 program that provides 'java'.

  Selection    Command
-----------------------------------------------
*+ 1           /opt/jdk1.8.0_101/bin/java

Enter to keep the current selection[+], or type selection number:
midpoint#>alternatives --install /usr/bin/jar jar /opt/jdk1.8.0_101/bin/jar 2
midpoint#>alternatives --install /usr/bin/javac javac /opt/jdk1.8.0_101/bin/javac 2
midpoint#>alternatives --set jar /opt/jdk1.8.0_101/bin/jar
midpoint#>alternatives --set javac /opt/jdk1.8.0_101/bin/javac
midpoint#>java -version
java version "1.8.0_101"
Java(TM) SE Runtime Environment (build 1.8.0_101-b13)
Java HotSpot(TM) 64-Bit Server VM (build 25.101-b13, mixed mode)
midpoint#>

- java 8 installed
_____________________
h6. 2016-08-24 20:22  install necessary packages for midpoint showcase

√ java
√ Apache 2.x httpd
√ mySql
√ php
√ erlang
√ JCE: cryptography extension (needed by midPoint)
- 389 Server (LDAP)

x openLdap

- RabbitMQ (in progress)
- ant
- maven
- gradle
- groovy
- python
- ldaptive
- Tomcat (installed by babb for grouper. Stock RHEL7 tomcat - 7.0.54)
- Grouper (James Babb - UW Madison)
- Shib IdP, SP	(volunteer for SP?)
- midPoint (Keith, Ethan Disabb)

- Activiti (later)
_____________________
h6. 2016-08-24 20:04  get a list of all files on the brand new Centos 7.2 vm for id.internet2.edu

find /* > packagelist.bareOs    <== 3.9Mb
_____________________
h6. 2016-08-24 20:03  midpoint vm restored. back to package installation
_____________________
h6. 2016-08-23 15:49  BennO Skype

By TechEx: demo-able idMatch endpoint with some demo data plus documentation

vms are CentOS & LetsEncrypt certs have been hard to install;

Wire to InCommon proper.

Have TSG get midpoint.testbed  and id.internet2 into InCommon metadata. (and

comanage2.testbed.tier.internet2.edu

Intercepting SAML requests

ask Steve, Ann, OK to load midpoint. and comanage2. SP metadata into InCommon?


_____________________
h6. 2016/08/18/ 08:44 rebuild midpoint.testbed

Packages to install on midpoint.testbed.tier.internet2.edu (running CentOS 7.2)

√ java
√ Apache 2.x httpd
√ mySql (mariaDB)
√ php
√ openDJ
√ erlang
- RabbitMQ (in progress)
√ JCE: cryptography extension (needed by midPoint)
- ant
- maven
- gradle
- groovy
- python
- ldaptive
√ Tomcat (installed by babb for grouper. Stock RHEL7 tomcat - 7.0.54)
√ Grouper (James Babb - UW Madison)
- Shib IdP, SP	(volunteer for SP?)
- midPoint (Keith, Ethan Disabb)

- Activiti (later)

_____________________
h6. 2016/08/18/ 08:43 hosed the vm trying too hard to yum remove openldap

- Asked JimJ to restore the bare CentOS 7 vm
_____________________
h6. 2016-08-11 20:48  configure openldap for midPoint

midpoint#>pwd
/home/kh

midpoint#>cd slapdconf
midpoint#>ls -la

total 136
drwxrwxr-x. 4 kh kh  4096 Aug  5 17:11 .
drwx------. 8 kh kh  4096 Aug  5 17:11 ..
-rw-rw-r--. 1 kh kh  5041 Aug  5 17:11 delschema
drwxrwxr-x. 8 kh kh  4096 Aug  5 17:11 .git
-rw-rw-r--. 1 kh kh   194 Aug  5 17:11 .gitignore
-rwxrwxr-x. 1 kh kh  9645 Aug  5 17:11 ldapgenerate
-rwxrwxr-x. 1 kh kh 10006 Aug  5 17:11 ldaptest
-rw-rw-r--. 1 kh kh 11324 Aug  5 17:11 LICENSE
-rw-rw-r--. 1 kh kh  2515 Aug  5 17:11 README.md
drwxrwxr-x. 3 kh kh    19 Aug  5 17:11 samples
-rwxrwxr-x. 1 kh kh  8085 Aug  5 17:11 schema2ldif
-rwxrwxr-x. 1 kh kh 13934 Aug  5 17:11 slapdadm
-rwxrwxr-x. 1 kh kh 48559 Aug  5 17:11 slapdconf

- configure openldap per https://wiki.evolveum.com/display/midPoint/OpenLDAP+Installation+and+Configuration
openLDAP configuration for midPoint: failing on https://wiki.evolveum.com/display/midPoint/OpenLDAP+Installation+and+Configuration

+ missing step in midpoint install/config openldap wiki page: install perl-ldap

midpoint#>yum search perl
midpoint#>yum search perl | grep LDAP
perl-LDAP.noarch : LDAP Perl module
perl-Mozilla-LDAP.x86_64 : LDAP Perl module that wraps the OpenLDAP C SDK
perl-Apache-Session-LDAP.noarch : LDAP implementation of Apache::Session

midpoint#>yum install perl-LDAP

cd /home/kh/slapdconf

midpoint#>./slapdconf set-server-prop olcTLSCipherSuite:NORMAL
midpoint#>

- set up logging

midpoint#>mkdir /etc/syslog.d
midpoint#>vi /etc/syslog.d/40-slapd.conf
midpoint#>

midpoint#>cat /etc/syslog.d/40-slapd.conf
local4.*        -/var/log/slapd.log
& ~

midpoint#>./slapdconf set-log-level stats

midpoint#>./slapdconf add-module sssvlv
Cannot find module configuration entry (olcModuleList) at ./slapdconf line 844, <DATA> line 747.
 at ./slapdconf line 107, <DATA> line 747.
	main::__ANON__('Cannot find module configuration entry (olcModuleList) at ./s...') called at ./slapdconf line 844
	main::addModule() called at ./slapdconf line 150

_____________________
h6. 2016-08-07 11:22  Receive POST of new person, send message to email notification service

_Spring Microservices_  <== ++

	By: Rajesh RV
	Publisher: Packt Publishing
	Pub. Date: June 28, 2016
	Web ISBN-13: 978-1-78646-468-2

"Developing a comprehensive microservice example"

	So far, the examples we have considered are no more than just a simple "Hello world." Putting together what we have learned, this section demonstrates an end-to-end Customer Profile microservice implementation. The Customer Profile microservices will demonstrate interaction between different microservices. It also demonstrates microservices with business logic and primitive data stores.

	In this example, two microservices, the Customer Profile and Customer Notification services, will be developed:

_____________________
h6. 2016-08-05 16:28  configure openldap for midPoint

midpoint#>./slapdconf set-server-prop olcTLSCipherSuite:NORMAL
Can't locate Net/LDAP.pm in @INC
(@INC contains:
/usr/local/lib64/perl5
/usr/local/share/perl5
/usr/lib64/perl5/vendor_perl
/usr/share/perl5/vendor_perl
/usr/lib64/perl5
/usr/share/perl5
 .)
at ./slapdconf line 25.
BEGIN failed--compilation aborted at ./slapdconf line 25.
_____________________
h6. 2016/07/28/ 19:28 reinstall openldap but use saved conf and ldif files

- reinstall openldap per http://www.learnitguide.net/2016/01/configure-openldap-server-on-rhel7.html
E-R-=mp

{SSHA}QuBnvPZnrhhaFhRmtqazymNWTmRLeJ75

ldapadd -x -W -D "cn=Manager,dc=testbed,dc=tier,dc=internet2,dc=edu" -f /root/base.ldif

- add posix.ldif & check for other object classes used in users.ldif
_____________________
h6. 2016/07/28/ 19:15 Ethan's tasks on mp.tb

That’s what I was guessing. I’ll see if I can find some.

Ethan

From: Keith Hazelton [mailto:keith.hazelton@wisc.edu]
Sent: Thursday, July 28, 2016 10:33 AM
To: Disabb,Ethan <ethan.disabb@ufl.edu>
Subject: Re: Midpoint

If there aren’t yum versions, we’ll have to look online for download sites and instructions. Maybe rpms?   --k

From: Ethan Disabb <ethan.disabb@ufl.edu>
Date: Thursday, July 28, 2016 at 09:16
To: Keith Hazelton <keith.hazelton@wisc.edu>
Subject: Midpoint

Hello Keith,

Did you have an issue with either gradle or ldaptive? I received a “No package exist” for gradle or ldaptive according to yum.

From: Keith Hazelton [mailto:keith.hazelton@wisc.edu]
Sent: Thursday, July 21, 2016 8:35 AM
To: Disabb,Ethan <ethan.disabb@ufl.edu>
Cc: Curry, Warren <whcurry@ufl.edu>
Subject: Re: Time Thursday morning to come up to speed


Ethan, plz start by using yum etc. to install the following
- ant
- maven
- gradle
- groovy
- python
- ldaptive

 ------
I’d like to do a little more prep work for our meeting. If you could meet tomorrow, Friday, 2 pm Eastern or later I’d prefer that. Just let me know.

Meanwhile, here’s the tutorial on building a simple RESTful service with Node.js, Express and MongoDb:
http://cwbuecheler.com/web/tutorials/2013/node-express-mongo/

If it’s too much new stuff to start with, we could start with midPoint configuration instead. Your choice.

_____________________
h6. 2016-07-22 13:00  skype with ethan.disabb06: Ethan Disabb, edisabb, U Florida

Ethan,

I’d like to do a little more prep work for our meeting. If you could meet tomorrow, Friday, 2 pm Eastern or later I’d prefer that. Just let me know.

Meanwhile, here’s the tutorial on building a simple RESTful service with Node.js, Express and MongoDb:
http://cwbuecheler.com/web/tutorials/2013/node-express-mongo/
then
http://cwbuecheler.com/web/tutorials/2014/restful-web-app-node-express-mongodb/


If it’s too much new stuff to start with, we could start with midPoint configuration instead. Your choice.

			 Regards,	--Keith

Packages to install on midpoint.testbed.tier.internet2.edu (running CentOS 7.2)

√ java
√ Apache 2.x httpd
√ mySql
√ php
√ openLdap
√ erlang
- RabbitMQ (in progress)
- JCE: cryptography extension (needed by midPoint)
- ant
- maven
- gradle
- groovy
- python
- ldaptive
√ Tomcat (installed by babb for grouper. Stock RHEL7 tomcat - 7.0.54)
√ Grouper (James Babb - UW Madison)
- Shib IdP, SP	(volunteer for SP?)
- midPoint (Keith, Ethan Disabb)

- Activiti (later)


----------
[EthanD] Node/Express tutorials running on midpoint.testbed
[EthanD] If you change any installation files, first save a copy adding .dist to the end of the filename
e.g.
copy ldap.conf ldap.conf.dist
That way we can always revert to the original package.

_____________________
h6. 2016-06-22 16:44

- pick up installation of - openldap  per http://www.learnitguide.net/2016/01/configure-openldap-server-on-rhel7.html



- Internet2-issued cert now in use for midpoint.testbed.tier.internet2.edu: Thanks, JimJ
_____________________
h6. 2016-06-22 09:55  switch to using letsencrypt cert for https

- what cert is apache httpd using for tls?

echo | openssl s_client -showcerts -servername midpoint.testbed.tier.internet2.edu -connect midpoint.testbed.tier.internet2.edu:443 2>/dev/null | openssl x509 -inform pem -noout -text
Certificate:
	Data:
		Version: 3 (0x2)
		Serial Number: 18058 (0x468a)
	Signature Algorithm: sha256WithRSAEncryption
		Issuer: C=--, ST=SomeState, L=SomeCity, O=SomeOrganization, OU=SomeOrganizationalUnit, CN=midpoint.testbed.tier.internet2.edu/emailAddress=root@midpoint.testbed.tier.internet2.edu
		Validity
			Not Before: Jun 21 17:02:27 2016 GMT
			Not After : Jun 21 17:02:27 2017 GMT
		Subject: C=--, ST=SomeState, L=SomeCity, O=SomeOrganization, OU=SomeOrganizationalUnit, CN=midpoint.testbed.tier.internet2.edu/emailAddress=root@midpoint.testbed.tier.internet2.edu
		Subject Public Key Info:
			Public Key Algorithm: rsaEncryption
				Public-Key: (2048 bit)
				Modulus:
					00:c2:4e:e0:81:56:ff:97:7c:cb:bd:67:f9:29:ff:
					f5:10:16:2a:cd:4c:68:5b:8b:0d:38:9f:a4:20:96:
					ba:5b:c3:2a:f6:62:98:ff:7d:c2:38:05:ab:0c:f0:
					83:fa:5b:f1:8e:64:8a:2b:4d:c8:cf:fd:c3:17:54:
					fa:02:1e:e9:3d:fb:1e:8f:27:e2:cc:22:f3:c1:7e:
					20:cd:9c:95:fc:da:37:51:b6:3d:bc:45:08:9c:5e:
					66:0b:1b:65:51:e1:47:97:53:1b:29:4b:bc:fd:fe:
					ad:77:7b:36:1a:d2:9e:1c:06:cd:23:81:5b:5f:e0:
					d1:cc:08:e9:be:7d:4f:bc:d9:e6:d2:9a:89:c2:13:
					bc:97:07:0a:7a:65:43:34:d2:fc:01:9f:1c:3f:da:
					34:d7:c7:71:de:2c:4d:97:74:9a:af:c3:49:8b:80:
					fe:2a:c7:0b:d1:ed:22:b6:7a:ce:68:51:e7:6b:7b:
					9f:6c:bf:0b:ea:c8:0b:31:29:6f:18:70:d2:d0:93:
					81:f9:0e:58:7a:4c:d7:69:e5:d6:e7:b2:f3:82:58:
					0c:72:87:4e:ad:38:7b:5e:e9:f5:11:1b:1c:58:80:
					ee:c4:49:0e:c6:f7:6b:78:2b:ef:2a:ab:80:45:72:
					0c:1a:58:e5:b2:12:8f:16:f2:7a:3b:3a:02:08:f2:
					3a:83
				Exponent: 65537 (0x10001)
		X509v3 extensions:
			X509v3 Basic Constraints:
				CA:FALSE
			X509v3 Key Usage:
				Digital Signature, Non Repudiation, Key Encipherment
	Signature Algorithm: sha256WithRSAEncryption
		 9d:83:79:09:6d:86:05:1a:3b:66:ab:41:9a:5c:b7:97:35:f7:
		 e4:11:f8:82:92:2b:8e:1f:d3:51:66:b6:ef:01:b1:08:d6:ef:
		 6f:f4:2b:24:e2:88:1a:99:4c:c9:83:e3:1f:a0:bc:7a:02:df:
		 a8:70:49:67:71:b6:76:78:14:92:f0:41:26:7e:65:b9:3d:0a:
		 fe:1e:7a:bf:ea:3e:cc:2d:b5:5e:5e:3f:b1:b9:eb:9c:8b:35:
		 12:b8:ad:10:d8:80:b5:2a:b3:0e:2d:87:70:bf:4a:d9:9d:2f:
		 f5:4c:21:0d:7a:c9:d8:7d:aa:49:a1:59:9b:d1:f2:53:5f:98:
		 a2:c9:f9:b5:6a:f5:4b:cf:41:2f:6a:c9:5e:0d:42:12:f8:72:
		 27:c2:c0:4f:49:8d:2c:e3:a7:7f:ad:42:af:c5:2a:85:c5:9d:
		 8c:99:64:3f:69:99:93:91:1b:1f:c1:76:da:61:59:d4:55:b5:
		 bf:59:60:87:54:cb:c0:07:b4:17:e5:b4:e6:6b:7a:80:2c:1d:
		 50:a7:a8:c0:d2:d2:6d:73:f7:a0:34:86:bf:e4:8f:d4:4e:98:
		 89:f7:22:e6:c6:12:e6:e9:e3:1e:00:72:40:b2:f8:5d:b6:34:
		 a1:a8:fd:30:ec:7a:2b:39:aa:22:96:fa:43:48:04:0d:32:0b:
		 c4:12:4d:28
dyn-128-104-18-177:~ khazelton$

- switched to I2 commodo cert
_____________________
h6. 2016-06-21 10:07  finish openldap installation, configuration

# AUTO-GENERATED FILE - DO NOT EDIT!! Use ldapmodify.
# CRC32 435eeec9
dn: olcDatabase={2}hdb
objectClass: olcDatabaseConfig
objectClass: olcHdbConfig
olcDatabase: {2}hdb
olcDbDirectory: /var/lib/ldap
olcSuffix: dc=learnitguide,dc=net
olcRootDN: cn=Manager,dc=learnitguide,dc=net
olcDbIndex: objectClass eq,pres
olcDbIndex: ou,cn,mail,surname,givenname eq,pres,sub
structuralObjectClass: olcHdbConfig
entryUUID: 6c7909da-cb99-1035-8d4a-615bf0217406
creatorsName: cn=config
createTimestamp: 20160621011545Z
entryCSN: 20160621011545.097125Z#000000#000#000000
modifiersName: cn=config
modifyTimestamp: 20160621011545Z

objectClass: olcHdbConfig
olcDatabase: {2}hdb
olcDbDirectory: /var/lib/ldap
olcSuffix: dc=testbed,dc=tier,dc=internet2,dc=edu
olcRootDN: cn=Manager,dc=testbed,dc=tier,dc=internet2,dc=edu
olcDbIndex: objectClass eq,pres
olcDbIndex: ou,cn,mail,surname,givenname eq,pres,sub
structuralObjectClass: olcHdbConfig
entryUUID: 6c7909da-cb99-1035-8d4a-615bf0217406
creatorsName: cn=config
createTimestamp: 20160621011545Z
entryCSN: 20160621011545.097125Z#000000#000#000000
modifiersName: cn=config
modifyTimestamp: 20160621011545Z

- time out to generate TLS cert/key per https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-centos-7

sudo git clone https://github.com/letsencrypt/letsencrypt /opt/letsencrypt

- pushdown timeout to install Apache httpd & PHP per https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-on-centos-7
- done.
- Need to open port 443. JimJ had to do some AWS admin magic and I used firewall-cmd to open 443

cd /etc/httpd
sudo mkdir /etc/httpd/sites-available
...etc

- Success!
_____________________
h6. 2016/06/19/ 06:30 build up from bare os to tier Backbone Usage Scenario testbed vm image

Packages to install

java 8 done

- mySql (mariadb) per https://www.linode.com/docs/databases/mariadb/how-to-install-mariadb-on-centos-7

yum install mariadb-server	 done
根 entreg bond

- openldap	per http://www.learnitguide.net/2016/01/configure-openldap-server-on-rhel7.html
yum -y install *openldap* migrationtools
midpoint#>slappasswd
New password:
Re-enter new password:
{SSHA}0EioqGBdrY8PYS86sB6M5pqEVzzq/fIs
...to be continued

- rabbitMQ


- JCE: cryptography extension
- ant
- maven
- gradle
- groovy
- php
- python
- erlang
- ldaptive
- httpd
- tomcat

- Grouper
- Shib IdP, SP
- midpoint

later:
- activiti
-
-
_____________________
h6. 2016/06/19/ 06:17 virtual bare os install on midpoint.testbed.tier.internet2.edu

doit-93530864-x:~ hazelton$ ssh kh@midpoint.testbed.tier.internet2.edu
The authenticity of host 'midpoint.testbed.tier.internet2.edu (52.41.163.120)' can't be established.
ECDSA key fingerprint is SHA256:sjNCfJEg60/hM7gv9+h9z7NhaK/2DCDJYNNpzcVNDis.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added 'midpoint.testbed.tier.internet2.edu,52.41.163.120' (ECDSA) to the list of known hosts.
Last login: Fri Jun 17 21:25:38 2016 from dyn-128-104-18-177.doit.wisc.edu
midpoint>sudo bash
midpoint#>ls -la /
total 36
dr-xr-xr-x.	 17 root root 4096 Feb 22 12:26 .
dr-xr-xr-x.	 17 root root 4096 Feb 22 12:26 ..
lrwxrwxrwx.	  1 root root	 7 Feb 22 12:08 bin -> usr/bin
dr-xr-xr-x.	  4 root root 4096 Jun 17 13:47 boot
drwxr-xr-x.	 18 root root 2680 Jun 17 13:47 dev
drwxr-xr-x.	 78 root root 8192 Jun 17 17:18 etc
drwxr-xr-x.	  6 root root	54 Jun 17 17:17 home
lrwxrwxrwx.	  1 root root	 7 Feb 22 12:08 lib -> usr/lib
lrwxrwxrwx.	  1 root root	 9 Feb 22 12:08 lib64 -> usr/lib64
drwxr-xr-x.	  2 root root	 6 Aug 12  2015 media
drwxr-xr-x.	  2 root root	 6 Aug 12  2015 mnt
drwxr-xr-x.	  2 root root	 6 Aug 12  2015 opt
dr-xr-xr-x. 118 root root	 0 Jun 17 13:47 proc
dr-xr-x---.	  5 root root 4096 Jun 17 16:07 root
drwxr-xr-x.	 22 root root  720 Jun 17 15:55 run
lrwxrwxrwx.	  1 root root	 8 Feb 22 12:08 sbin -> usr/sbin
drwxr-xr-x.	  2 root root	 6 Aug 12  2015 srv
dr-xr-xr-x.	 13 root root	 0 Jun 17 13:47 sys
drwxrwxrwt.	  7 root root	88 Jun 18 23:18 tmp
drwxr-xr-x.	 14 root root 4096 Jun 17 15:20 usr
drwxr-xr-x.	 19 root root 4096 Jun 17 13:47 var
midpoint#>ls -la /opt
total 4
drwxr-xr-x.	 2 root root	6 Aug 12  2015 .
dr-xr-xr-x. 17 root root 4096 Feb 22 12:26 ..
midpoint#>pwd
/home/kh
midpoint#>ls -la
total 16
drwx------. 3 kh   kh	 90 Jun 17 17:20 .
drwxr-xr-x. 6 root root	 54 Jun 17 17:17 ..
-rw-------. 1 kh   kh	131 Jun 17 17:48 .bash_history
-rw-r--r--. 1 kh   kh	 18 Nov 20	2015 .bash_logout
-rw-r--r--. 1 kh   kh	193 Nov 20	2015 .bash_profile
-rw-r--r--. 1 kh   kh	467 Jun 17 17:20 .bashrc
drwx------. 2 kh   kh	 28 Jun 17 17:19 .ssh

midpoint#>vi .bash_profile
midpoint#>set

BASH=/bin/bash
BASHOPTS=checkwinsize:cmdhist:expand_aliases:extquote:force_fignore:histappend:hostcomplete:interactive_comments:progcomp:promptvars:sourcepath
BASH_ALIASES=()
BASH_ARGC=()
BASH_ARGV=()
BASH_CMDS=()
BASH_LINENO=()
BASH_SOURCE=()
BASH_VERSINFO=([0]="4" [1]="2" [2]="46" [3]="1" [4]="release" [5]="x86_64-redhat-linux-gnu")
BASH_VERSION='4.2.46(1)-release'
COLUMNS=125
DIRSTACK=()
EDITOR=/usr/bin/jove
EUID=0
GROUPS=()
HISTFILE=/root/.bash_history
HISTFILESIZE=1000
HISTSIZE=1000
HOME=/root
HOSTNAME=midpoint.testbed.tier.internet2.edu
HOSTTYPE=x86_64
IFS=$' \t\n'
IGNOREEOF=10
LANG=en_US.UTF-8
LESSOPEN='||/usr/bin/lesspipe.sh %s'
LINES=34
LOGNAME=root
LS_COLORS='rs=0:di=38;5;27:ln=38;5;51:mh=44;38;5;15:pi=40;38;5;11:so=38;5;13:do=38;5;5:bd=48;5;232;38;5;11:cd=48;5;232;38;5;3:or=48;5;232;38;5;9:mi=05;48;5;232;38;5;15:su=48;5;196;38;5;15:sg=48;5;11;38;5;16:ca=48;5;196;38;5;226:tw=48;5;10;38;5;16:ow=48;5;10;38;5;21:st=48;5;21;38;5;15:ex=38;5;34:*.tar=38;5;9:*.tgz=38;5;9:*.arc=38;5;9:*.arj=38;5;9:*.taz=38;5;9:*.lha=38;5;9:*.lz4=38;5;9:*.lzh=38;5;9:*.lzma=38;5;9:*.tlz=38;5;9:*.txz=38;5;9:*.tzo=38;5;9:*.t7z=38;5;9:*.zip=38;5;9:*.z=38;5;9:*.Z=38;5;9:*.dz=38;5;9:*.gz=38;5;9:*.lrz=38;5;9:*.lz=38;5;9:*.lzo=38;5;9:*.xz=38;5;9:*.bz2=38;5;9:*.bz=38;5;9:*.tbz=38;5;9:*.tbz2=38;5;9:*.tz=38;5;9:*.deb=38;5;9:*.rpm=38;5;9:*.jar=38;5;9:*.war=38;5;9:*.ear=38;5;9:*.sar=38;5;9:*.rar=38;5;9:*.alz=38;5;9:*.ace=38;5;9:*.zoo=38;5;9:*.cpio=38;5;9:*.7z=38;5;9:*.rz=38;5;9:*.cab=38;5;9:*.jpg=38;5;13:*.jpeg=38;5;13:*.gif=38;5;13:*.bmp=38;5;13:*.pbm=38;5;13:*.pgm=38;5;13:*.ppm=38;5;13:*.tga=38;5;13:*.xbm=38;5;13:*.xpm=38;5;13:*.tif=38;5;13:*.tiff=38;5;13:*.png=38;5;13:*.svg=38;5;13:*.svgz=38;5;13:*.mng=38;5;13:*.pcx=38;5;13:*.mov=38;5;13:*.mpg=38;5;13:*.mpeg=38;5;13:*.m2v=38;5;13:*.mkv=38;5;13:*.webm=38;5;13:*.ogm=38;5;13:*.mp4=38;5;13:*.m4v=38;5;13:*.mp4v=38;5;13:*.vob=38;5;13:*.qt=38;5;13:*.nuv=38;5;13:*.wmv=38;5;13:*.asf=38;5;13:*.rm=38;5;13:*.rmvb=38;5;13:*.flc=38;5;13:*.avi=38;5;13:*.fli=38;5;13:*.flv=38;5;13:*.gl=38;5;13:*.dl=38;5;13:*.xcf=38;5;13:*.xwd=38;5;13:*.yuv=38;5;13:*.cgm=38;5;13:*.emf=38;5;13:*.axv=38;5;13:*.anx=38;5;13:*.ogv=38;5;13:*.ogx=38;5;13:*.aac=38;5;45:*.au=38;5;45:*.flac=38;5;45:*.mid=38;5;45:*.midi=38;5;45:*.mka=38;5;45:*.mp3=38;5;45:*.mpc=38;5;45:*.ogg=38;5;45:*.ra=38;5;45:*.wav=38;5;45:*.axa=38;5;45:*.oga=38;5;45:*.spx=38;5;45:*.xspf=38;5;45:'
MACHINE=midpoint
MACHTYPE=x86_64-redhat-linux-gnu
MAIL=/var/spool/mail/kh
MAILCHECK=60
OPTERR=1
OPTIND=1
OSTYPE=linux-gnu
PATH=/sbin:/bin:/usr/sbin:/usr/bin
PIPESTATUS=([0]="0")
PPID=20482
PROMPT_COMMAND='printf "\033]0;%s@%s:%s\007" "${USER}" "${HOSTNAME%%.*}" "${PWD/#$HOME/~}"'
PS1='midpoint#>'
PS2='> '
PS4='+ '
PWD=/home/kh
SHELL=/bin/bash
SHELLOPTS=braceexpand:emacs:hashall:histexpand:history:ignoreeof:interactive-comments:monitor
SHLVL=1
SUDO_COMMAND=/bin/bash
SUDO_GID=5002
SUDO_UID=5002
SUDO_USER=kh
TERM=xterm-256color
TZ=EST5EDT
UID=0
USER=root
USERNAME=root
_=.bash_profile
colors=/root/.dircolors

midpoint#>pwd
/home/kh

midpoint#>ls -la /etc
total 1248
drwxr-xr-x. 78 root root	 8192 Jun 17 17:18 .
dr-xr-xr-x. 17 root root	 4096 Feb 22 12:26 ..
-rw-r--r--.	 1 root root	   16 Feb 22 12:16 adjtime
-rw-r--r--.	 1 root root	 1518 Jun  7  2013 aliases
-rw-r--r--.	 1 root root	12288 Jun 17 13:33 aliases.db
drwxr-xr-x.	 2 root root	 4096 Jun 17 13:38 alternatives
-rw-------.	 1 root root	  541 Mar 31 11:09 anacrontab
drwxr-x---.	 3 root root	   41 Feb 22 12:13 audisp
drwxr-x---.	 3 root root	   79 Jun 17 13:33 audit
drwxr-xr-x.	 2 root root		6 Feb 22 12:17 avahi
drwxr-xr-x.	 2 root root	   54 Feb 22 12:13 bash_completion.d
-rw-r--r--.	 1 root root	 2835 Aug 12  2015 bashrc
drwxr-xr-x.	 2 root root		6 May 12 10:29 binfmt.d
-rw-r--r--.	 1 root root	   38 Dec  9  2015 centos-release
-rw-r--r--.	 1 root root	   51 Dec  9  2015 centos-release-upstream
drwxr-xr-x.	 2 root root		6 May 12 07:24 chkconfig.d
-rw-r--r--.	 1 root root	 1165 Nov 23  2015 chrony.conf
-rw-r-----.	 1 root chrony	   62 Jun 17 13:33 chrony.keys
drwxr-xr-x.	 4 root root	   56 Jun 17 13:45 cloud
drwxr-xr-x.	 2 root root	   20 Jun 17 13:38 cron.d
drwxr-xr-x.	 2 root root	   62 Feb 22 12:13 cron.daily
-rw-------.	 1 root root		0 Mar 31 11:09 cron.deny
drwxr-xr-x.	 2 root root	   44 Jun 17 13:38 cron.hourly
drwxr-xr-x.	 2 root root		6 Jun  9  2014 cron.monthly
-rw-r--r--.	 1 root root	  451 Jun  9  2014 crontab
drwxr-xr-x.	 2 root root		6 Jun  9  2014 cron.weekly
-rw-------.	 1 root root		0 Feb 22 12:08 crypttab
-rw-r--r--.	 1 root root	 1602 Jun  7  2013 csh.cshrc
-rw-r--r--.	 1 root root	  841 Jun  7  2013 csh.login
drwxr-xr-x.	 4 root root	   74 Feb 22 12:11 dbus-1
drwxr-xr-x.	 2 root root	   41 Jun 17 13:38 default
drwxr-xr-x.	 2 root root	   22 Feb 22 12:11 depmod.d
drwxr-x---.	 3 root root	   43 Feb 22 12:17 dhcp
-rw-r--r--.	 1 root root	 5090 Feb 16 10:08 DIR_COLORS
-rw-r--r--.	 1 root root	 5725 Feb 16 10:08 DIR_COLORS.256color
-rw-r--r--.	 1 root root	 4669 Feb 16 10:08 DIR_COLORS.lightbgcolor
-rw-r--r--.	 1 root root	25213 Aug  5  2015 dnsmasq.conf
drwxr-xr-x.	 2 root root		6 Aug  5  2015 dnsmasq.d
-rw-r--r--.	 1 root root	 1285 Dec  3  2015 dracut.conf
drwxr-xr-x.	 2 root root		6 Dec  3  2015 dracut.conf.d
-rw-r--r--.	 1 root root	  112 Mar  5  2015 e2fsck.conf
-rw-r--r--.	 1 root root		0 Aug 12  2015 environment
-rw-r--r--.	 1 root root		0 Jun  7  2013 exports
drwxr-xr-x.	 2 root root		6 Feb 16 11:29 exports.d
lrwxrwxrwx.	 1 root root	   56 Feb 22 12:11 favicon.png -> /usr/share/icons/hicolor/16x16/apps/fedora-logo-icon.png
-rw-r--r--.	 1 root root	   70 Aug 12  2015 filesystems
drwxr-x---.	 3 root root	   18 Feb 22 12:17 firewalld
-rw-r--r--.	 1 root root	  313 Feb 22 12:08 fstab
drwxr-xr-x.	 2 root root		6 May 12  2015 gcrypt
drwxr-xr-x.	 2 root root		6 Jun  9  2014 gnupg
-rw-r--r--.	 1 root root	   94 Apr 29  2015 GREP_COLORS
drwxr-xr-x.	 4 root root	   38 Feb 22 12:09 groff
-rw-r--r--.	 1 root root	  662 Jun 17 17:18 group
-rw-r--r--.	 1 root root	  659 Jun 17 17:17 group-
lrwxrwxrwx.	 1 root root	   22 Feb 22 12:12 grub2.cfg -> ../boot/grub2/grub.cfg
lrwxrwxrwx.	 1 root root	   20 Feb 22 12:17 grub.conf -> /boot/grub/grub.conf
drwx------.	 2 root root	 4096 Feb 22 12:15 grub.d
----------.	 1 root root	  531 Jun 17 17:18 gshadow
----------.	 1 root root	  528 Jun 17 17:17 gshadow-
drwxr-xr-x.	 3 root root	   19 Mar 31 11:48 gss
drwxr-xr-x.	 2 root root	   26 Feb 22 12:12 gssproxy
-rw-r--r--.	 1 root root		9 Jun  7  2013 host.conf
-rw-r--r--.	 1 root root	   36 Jun 17 13:41 hostname
-rw-r--r--.	 1 root root	  195 Jun 17 13:42 hosts
-rw-r--r--.	 1 root root	  370 Jun  7  2013 hosts.allow
-rw-r--r--.	 1 root root	  460 Jun  7  2013 hosts.deny
-rw-r--r--.	 1 root root	 3580 Nov 20  2015 idmapd.conf
lrwxrwxrwx.	 1 root root	   11 Jun 17 13:38 init.d -> rc.d/init.d
-rw-r--r--.	 1 root root	  511 Mar 31 13:39 inittab
-rw-r--r--.	 1 root root	  942 Jun  7  2013 inputrc
drwxr-xr-x.	 2 root root	 4096 Feb 22 12:11 iproute2
-rw-r--r--.	 1 root root	   23 Dec  9  2015 issue
-rw-r--r--.	 1 root root	   22 Dec  9  2015 issue.net
-rw-r--r--.	 1 root root	 7156 Feb 22 12:12 kdump.conf
drwxr-xr-x.	 3 root root	   23 Feb 22 12:13 kernel
-rw-r--r--.	 1 root root	  495 Mar 31 11:26 krb5.conf
-rw-r--r--.	 1 root root	19577 Jun 17 15:20 ld.so.cache
-rw-r--r--.	 1 root root	   28 Feb 27  2013 ld.so.conf
drwxr-xr-x.	 2 root root	 4096 Jun 17 13:39 ld.so.conf.d
-rw-r-----.	 1 root root	  191 Oct 28  2014 libaudit.conf
drwxr-xr-x.	 2 root root	   33 Feb 22 12:09 libnl
-rw-r--r--.	 1 root root	 2391 Oct 12  2013 libuser.conf
-rw-r--r--.	 1 root root	   17 Jun 17 13:33 locale.conf
lrwxrwxrwx.	 1 root root	   25 Feb 22 12:16 localtime -> ../usr/share/zoneinfo/UTC
-rw-r--r--.	 1 root root	 2028 Mar  5  2015 login.defs
-rw-r--r--.	 1 root root	  662 Jul 31  2013 logrotate.conf
drwxr-xr-x.	 2 root root	   73 Feb 22 12:13 logrotate.d
-r--r--r--.	 1 root root	   33 Feb 22 12:11 machine-id
-rw-r--r--.	 1 root root	  111 Nov 20  2015 magic
-rw-r--r--.	 1 root root	 5122 Feb 16 11:54 makedumpfile.conf.sample
-rw-r--r--.	 1 root root	 5171 Jun  9  2014 man_db.conf
-rw-r--r--.	 1 root root	  936 Mar  5  2015 mke2fs.conf
drwxr-xr-x.	 2 root root	   22 Feb 22 12:13 modprobe.d
drwxr-xr-x.	 2 root root		6 May 12 10:29 modules-load.d
-rw-r--r--.	 1 root root		0 Jun  7  2013 motd
lrwxrwxrwx.	 1 root root	   17 Feb 22 12:08 mtab -> /proc/self/mounts
-rw-r--r--.	 1 root root	  570 Mar 31 10:49 my.cnf
drwxr-xr-x.	 2 root root	   30 Jun 17 13:39 my.cnf.d
-rw-r--r--.	 1 root root	  767 Nov 20  2015 netconfig
drwxr-xr-x.	 3 root root	   25 Sep 16  2015 NetworkManager
-rw-r--r--.	 1 root root	   58 Mar 31 13:39 networks
-rw-r--r--.	 1 root root	 3390 Feb 16 11:29 nfsmount.conf
-rw-r--r--.	 1 root root	 1728 Jun 17 13:38 nsswitch.conf
-rw-r--r--.	 1 root root	 1717 Feb 22 12:16 nsswitch.conf.bak
drwxr-xr-x.	 3 root root	   34 Jun 17 13:38 openldap
drwxr-xr-x.	 2 root root		6 Aug 12  2015 opt
-rw-r--r--.	 1 root root	  393 Dec  9  2015 os-release
drwxr-xr-x.	 2 root root	 4096 Jun 17 13:39 pam.d
-rw-r--r--.	 1 root root	 1488 Jun 17 17:17 passwd
-rw-r--r--.	 1 root root	 1439 Jun 17 17:09 passwd-
drwxr-xr-x.	 3 root root	   20 Feb 22 12:09 pkcs11
drwxr-xr-x.	 9 root root	   91 Feb 22 12:12 pki
drwxr-xr-x.	 5 root root	   49 Feb 22 12:08 pm
drwxr-xr-x.	 5 root root	   69 Feb 22 12:11 polkit-1
drwxr-xr-x.	 2 root root		6 Jun 10  2014 popt.d
drwxr-xr-x.	 2 root root	 4096 Feb 22 12:13 postfix
drwxr-xr-x.	 3 root root	 4096 Jun 17 13:38 ppp
drwxr-xr-x.	 2 root root	   75 Jun 17 13:38 prelink.conf.d
-rw-r--r--.	 1 root root	  233 Jun  7  2013 printcap
-rw-r--r--.	 1 root root	 1750 Jun  7  2013 profile
drwxr-xr-x.	 2 root root	 4096 Jun 17 13:38 profile.d
-rw-r--r--.	 1 root root	 6545 Jun  7  2013 protocols
-rw-------.	 1 root root		0 Feb 22 12:11 .pwd.lock
drwxr-xr-x.	 2 root root	   34 Feb 22 12:09 python
lrwxrwxrwx.	 1 root root	   10 Jun 17 13:38 rc0.d -> rc.d/rc0.d
lrwxrwxrwx.	 1 root root	   10 Jun 17 13:38 rc1.d -> rc.d/rc1.d
lrwxrwxrwx.	 1 root root	   10 Jun 17 13:38 rc2.d -> rc.d/rc2.d
lrwxrwxrwx.	 1 root root	   10 Jun 17 13:38 rc3.d -> rc.d/rc3.d
lrwxrwxrwx.	 1 root root	   10 Jun 17 13:38 rc4.d -> rc.d/rc4.d
lrwxrwxrwx.	 1 root root	   10 Jun 17 13:38 rc5.d -> rc.d/rc5.d
lrwxrwxrwx.	 1 root root	   10 Jun 17 13:38 rc6.d -> rc.d/rc6.d
drwxr-xr-x. 10 root root	 4096 May 12 07:24 rc.d
lrwxrwxrwx.	 1 root root	   13 Jun 17 13:38 rc.local -> rc.d/rc.local
drwxr-xr-x.	 2 root root	   54 Feb 22 12:13 rdma
lrwxrwxrwx.	 1 root root	   14 Feb 22 12:08 redhat-release -> centos-release
-rw-r--r--.	 1 root root	 1787 Jun  9  2014 request-key.conf
drwxr-xr-x.	 2 root root	   29 Feb 22 12:12 request-key.d
-rw-r--r--.	 1 root root	  124 Jun 17 13:47 resolv.conf
-rw-r--r--.	 1 root root	 1634 Dec 24  2012 rpc
drwxr-xr-x.	 2 root root	   24 Nov 20  2015 rpm
-rw-r--r--.	 1 root root	  458 Nov 20  2015 rsyncd.conf
-rw-r--r--.	 1 root root	 3232 Sep  7  2015 rsyslog.conf
drwxr-xr-x.	 2 root root	   48 Jun 17 13:38 rsyslog.d
-rw-r--r--.	 1 root root	  927 Mar 31 13:39 rwtab
drwxr-xr-x.	 2 root root		6 Mar 31 13:39 rwtab.d
drwxr-xr-x.	 2 root root	   23 Feb 22 12:13 sasl2
-rw-------.	 1 root root	  221 Aug 12  2015 securetty
drwxr-xr-x.	 6 root root	 4096 Feb 22 12:10 security
drwxr-xr-x.	 3 root root	   54 Jun 17 13:46 selinux
-rw-r--r--.	 1 root root   670293 Jun  7  2013 services
-rw-r--r--.	 1 root root	  216 Nov 20  2015 sestatus.conf
----------.	 1 root root	 1041 Jun 17 17:18 shadow
----------.	 1 root root	  920 Jun 17 17:09 shadow-
-rw-r--r--.	 1 root root	   76 Jun  7  2013 shells
drwxr-xr-x.	 2 root root	   59 Feb 22 12:09 skel
drwxr-xr-x.	 2 root root	 4096 Jun 17 13:39 ssh
drwxr-xr-x.	 2 root root	   18 Feb 22 12:09 ssl
-rw-r--r--.	 1 root root	  212 Mar 31 13:39 statetab
drwxr-xr-x.	 2 root root		6 Mar 31 13:39 statetab.d
-rw-r-----.	 1 root root	 1786 Mar 31 11:30 sudo.conf
-r--r-----.	 1 root root	 4187 Jun 17 15:21 sudoers
drwxr-x---.	 2 root root	   32 Mar 31 13:09 sudoers.d
-rw-r-----.	 1 root root	 3181 Mar 31 11:30 sudo-ldap.conf
drwxr-xr-x.	 6 root root	 4096 Jun 17 13:47 sysconfig
-rw-r--r--.	 1 root root	  225 Mar 31 13:39 sysctl.conf
drwxr-xr-x.	 2 root root	   27 Jun 17 13:38 sysctl.d
drwxr-xr-x.	 4 root root	 4096 Jun 17 13:38 systemd
lrwxrwxrwx.	 1 root root	   14 Feb 22 12:08 system-release -> centos-release
-rw-r--r--.	 1 root root	   23 Dec  9  2015 system-release-cpe
-rw-------.	 1 tss	tss		 7046 Nov 20  2015 tcsd.conf
-rw-r--r--.	 1 root root	88369 Jun 17 15:20 termcap
drwxr-xr-x.	 2 root root		6 Jun 10  2014 terminfo
drwxr-xr-x.	 2 root root	   24 May 12 10:29 tmpfiles.d
-rw-r--r--.	 1 root root	  375 Mar 16 09:40 trusted-key.key
drwxr-xr-x.	 2 root root	   67 Jun 17 13:38 tuned
drwxr-xr-x.	 3 root root	   51 Jun 17 13:38 udev
-rw-r--r--.	 1 root root	  163 Feb 22 12:08 .updated
-rw-r--r--.	 1 root root	   37 Feb 22 12:16 vconsole.conf
-rw-r--r--.	 1 root root	 1982 Jun 10  2014 virc
-rw-r--r--.	 1 root root	 4479 Oct 30  2014 wgetrc
drwxr-xr-x.	 2 root root	   32 Feb 22 12:12 wpa_supplicant
drwxr-xr-x.	 5 root root	   54 Feb 22 12:11 X11
drwxr-xr-x.	 4 root root	   36 Feb 22 12:11 xdg
drwxr-xr-x.	 2 root root		6 Aug 12  2015 xinetd.d
drwxr-xr-x.	 6 root root	 4096 Feb 22 12:11 yum
-rw-r--r--.	 1 root root	  970 Dec  3  2015 yum.conf
drwxr-xr-x.	 2 root root	 4096 Dec  3  2015 yum.repos.d

midpoint#>cat /etc/centos-release

CentOS Linux release 7.2.1511 (Core)

midpoint#>cat /etc/centos-release-upstream

Derived from Red Hat Enterprise Linux 7.2 (Source)
midpoint#>

midpoint#>yum history

Loaded plugins: fastestmirror
ID	   | Command line			  | Date and time	 | Action(s)	  | Altered
-------------------------------------------------------------------------------
	 3 | install wget			  | 2016-06-17 15:18 | Install		  |	   1
	 2 | install bind-utils		  | 2016-06-17 13:40 | Install		  |	   2
	 1 | update					  | 2016-06-17 13:38 | I, U			  |	  51
Warning: RPMDB altered outside of yum.

midpoint#>ls -la /bin
lrwxrwxrwx. 1 root root 7 Feb 22 12:08 /bin -> usr/bin
midpoint#>ls -la /sbin
lrwxrwxrwx. 1 root root 8 Feb 22 12:08 /sbin -> usr/sbin
midpoint#>ls -la /usr/bin
total 56592
dr-xr-xr-x.	 2 root root	 20480 Jun 17 16:07 .
drwxr-xr-x. 14 root root	  4096 Jun 17 15:20 ..
-rwxr-xr-x.	 1 root root	 41448 Feb 16 10:49 [
-rwxr-xr-x.	 1 root root	 29032 Nov 20  2015 addr2line
-rwxr-xr-x.	 1 root root		29 Nov 20  2015 alias
lrwxrwxrwx.	 1 root root		 6 Feb 22 12:13 apropos -> whatis
-rwxr-xr-x.	 1 root root	 62576 Nov 20  2015 ar
-rwxr-xr-x.	 1 root root	 33048 Feb 16 10:49 arch
-rwxr-xr-x.	 1 root root	365256 Nov 20  2015 as
-rwxr-xr-x.	 1 root root	 11985 Sep 10  2014 asadmin
-rwxr-xr-x.	 1 root root	 14676 Nov 20  2015 audit2allow
lrwxrwxrwx.	 1 root root		11 Feb 22 12:12 audit2why -> audit2allow
-rwxr-xr-x.	 1 root root	 19872 Mar	5  2015 aulast
-rwxr-xr-x.	 1 root root	 11536 Mar	5  2015 aulastlog
-rwxr-xr-x.	 1 root root	 11360 Mar	5  2015 ausyscall
-rwxr-xr-x.	 1 root root	 32672 Mar	5  2015 auvirt
lrwxrwxrwx.	 1 root root		 4 Feb 22 12:09 awk -> gawk
-rwxr-xr-x.	 1 root root	   810 Jun 17 16:07 aws
-rwxr-xr-x.	 1 root root	   204 Jun 17 16:07 aws_bash_completer
-rwxr-xr-x.	 1 root root	  1411 Jun 17 16:07 aws.cmd
-rwxr-xr-x.	 1 root root	  1131 Jun 17 16:07 aws_completer
-rwxr-xr-x.	 1 root root	  1915 Jun 17 16:07 aws_zsh_completer.sh
-rwxr-xr-x.	 1 root root	 37312 Feb 16 10:49 base64
-rwxr-xr-x.	 1 root root	 28992 Feb 16 10:49 basename
-rwxr-xr-x.	 1 root root	960376 Nov 20  2015 bash
lrwxrwxrwx.	 1 root root		10 Feb 22 12:09 bashbug -> bashbug-64
-rwxr-xr-x.	 1 root root	  7041 Nov 20  2015 bashbug-64
-rwxr-xr-x.	 1 root root		26 Nov 20  2015 bg
-rwxr-xr-x.	 1 root root	 23289 Apr	2  2015 bond2team
-rwxr-xr-x.	 1 root root	 58104 May 12 10:29 bootctl
-rwxr-xr-x.	 1 root root	  1551 Sep 10  2014 bundle_image
-rwxr-xr-x.	 1 root root	374728 May 12 10:29 busctl
-rwxr-xr-x.	 1 root root	 33392 Mar 31 13:37 cal
-rwxr-xr-x.	 1 root root	  1644 Feb 16 11:08 ca-legacy
lrwxrwxrwx.	 1 root root		 3 Feb 22 12:09 captoinfo -> tic
-rwxr-xr-x.	 1 root root	 54048 Feb 16 10:49 cat
-rwxr-xr-x.	 1 root root	  3336 May 12 08:47 catchsegv
-rwxr-xr-x.	 1 root root	 37528 Jun	9  2014 catman
-rwxr-xr-x.	 1 root root		26 Nov 20  2015 cd
-rwxr-xr-x.	 1 root root	  6280 May 12 07:32 centrino-decode
-rwxr-xr-x.	 1 root root	167296 Apr 25 10:34 certutil
-rwxr-xr-x.	 1 root root	  3439 Sep 10  2014 cfadmin
-rwxr-xr-x.	 1 root root	 24424 Nov 20  2015 c++filt
-rwxr-xr-x.	 1 root root	 15624 Jun 10  2014 chacl
-rwsr-xr-x.	 1 root root	 64200 Mar	6  2015 chage
-rwxr-xr-x.	 1 root root	   307 Jul 22  2015 chardetect
-rwxr-xr-x.	 1 root root	 11528 Mar	5  2015 chattr
-rwxr-xr-x.	 1 root root	 13281 Nov 20  2015 chcat
-rwxr-xr-x.	 1 root root	 62880 Feb 16 10:49 chcon
-rwxr-xr-x.	 1 root root	329696 Jun	9  2014 checkmodule
-rwxr-xr-x.	 1 root root	333888 Jun	9  2014 checkpolicy
-rwxr-xr-x.	 1 root root		73 Sep 10  2014 cheetah
-rwxr-xr-x.	 1 root root	   114 Sep 10  2014 cheetah-analyze
-rwxr-xr-x.	 1 root root		89 Sep 10  2014 cheetah-compile
-rws--x--x.	 1 root root	 23960 Mar 31 13:37 chfn
-rwxr-xr-x.	 1 root root	 62752 Feb 16 10:49 chgrp
-rwxr-xr-x.	 1 root root	 58544 Feb 16 10:49 chmod
-rwxr-xr-x.	 1 root root	 62792 Feb 16 10:49 chown
-rwxr-xr-x.	 1 root root	 73824 Nov 23  2015 chronyc
-rwxr-xr-x.	 1 root root	 24440 Mar 31 13:37 chrt
-rws--x--x.	 1 root root	 23856 Mar 31 13:37 chsh
-rwxr-xr-x.	 1 root root	 11400 Mar	5  2015 chvt
-rwxr-xr-x.	 1 root root	 33104 Feb 16 10:49 cksum
-rwxr-xr-x.	 1 root root	  7184 Jun 10  2014 clear
-rwxr-xr-x.	 1 root root	 22234 Sep 10  2014 cloud-init
-rwxr-xr-x.	 1 root root	  1704 Apr	1  2014 cloud-init-per
-rwxr-xr-x.	 1 root root	 45184 Jun 10  2014 cmp
-rwxr-xr-x.	 1 root root	100616 Apr 25 10:34 cmsutil
-rwxr-xr-x.	 1 root root	 24248 Mar 31 13:37 col
-rwxr-xr-x.	 1 root root	 11544 Mar 31 13:37 colcrt
-rwxr-xr-x.	 1 root root	 20040 Mar 31 13:37 colrm
-rwxr-xr-x.	 1 root root	 24344 Mar 31 13:37 column
-rwxr-xr-x.	 1 root root	 37376 Feb 16 10:49 comm
-rwxr-xr-x.	 1 root root		31 Nov 20  2015 command
-rwxr-xr-x.	 1 root root	128960 May 12 10:29 coredumpctl
-rwxr-xr-x.	 1 root root	155136 Feb 16 10:49 cp
-rwxr-xr-x.	 1 root root	141640 Nov 20  2015 cpio
-rwxr-xr-x.	 1 root root	 67928 May 12 07:32 cpupower
-rwxr-xr-x.	 1 root root	  2963 Sep 10  2014 cq
-rwxr-xr-x.	 1 root root	113344 Apr 25 10:34 crlutil
-rwsr-xr-x.	 1 root root	 57552 Mar 31 11:09 crontab
-rwxr-xr-x.	 1 root root	 49952 Feb 16 10:49 csplit
-rwxr-xr-x.	 1 root root	 19984 Jun	9  2014 csslint-0.6
-rwxr-xr-x.	 1 root root	152504 Nov 22  2015 curl
-rwxr-xr-x.	 1 root root	 41536 Feb 16 10:49 cut
-rwxr-xr-x.	 1 root root	  5040 Sep 10  2014 cwutil
-rwxr-xr-x.	 1 root root	 62168 Feb 16 10:49 date
-rwxr-xr-x.	 1 root root	 11480 Nov 20  2015 db_archive
-rwxr-xr-x.	 1 root root	 11568 Nov 20  2015 db_checkpoint
-rwxr-xr-x.	 1 root root	 15664 Nov 20  2015 db_deadlock
-rwxr-xr-x.	 1 root root	 15688 Nov 20  2015 db_dump
-rwxr-xr-x.	 1 root root	 65944 Nov 20  2015 db_dump185
-rwxr-xr-x.	 1 root root	 15696 Nov 20  2015 db_hotbackup
-rwxr-xr-x.	 1 root root	 28144 Nov 20  2015 db_load
-rwxr-xr-x.	 1 root root	 15688 Nov 20  2015 db_log_verify
-rwxr-xr-x.	 1 root root	 33008 Nov 20  2015 db_printlog
-rwxr-xr-x.	 1 root root	 11584 Nov 20  2015 db_recover
-rwxr-xr-x.	 1 root root	 15696 Nov 20  2015 db_replicate
-rwxr-xr-x.	 1 root root	 15608 Nov 20  2015 db_stat
-rwxr-xr-x.	 1 root root	 19776 Nov 20  2015 db_tuner
-rwxr-xr-x.	 1 root root	 11496 Nov 20  2015 db_upgrade
-rwxr-xr-x.	 1 root root	 96760 Jun 10  2014 dbus-binding-tool
-rwxr-xr-x.	 1 root root	 11240 Nov 20  2015 dbus-cleanup-sockets
-rwxr-xr-x.	 1 root root	441176 Nov 20  2015 dbus-daemon
-rwxr-xr-x.	 1 root root	 19528 Nov 20  2015 dbus-monitor
-rwxr-xr-x.	 1 root root	 23576 Nov 20  2015 dbus-send
-rwxr-xr-x.	 1 root root	 11232 Nov 20  2015 dbus-uuidgen
-rwxr-xr-x.	 1 root root	 11504 Nov 20  2015 db_verify
-rwxr-xr-x.	 1 root root	 74840 Feb 16 10:49 dd
-rwxr-xr-x.	 1 root root	 11408 Mar	5  2015 deallocvt
-rwxr-xr-x.	 1 root root	  7833 Nov 20  2015 debuginfo-install
-rwxr-xr-x.	 1 root root	100832 Feb 16 10:49 df
-rwxr-xr-x.	 1 root root	514136 Jun 10  2014 dgawk
-rwxr-xr-x.	 1 root root	200104 Jun 10  2014 diff
-rwxr-xr-x.	 1 root root	 62072 Jun 10  2014 diff3
-rwxr-xr-x.	 1 root root	129424 Mar 16 09:40 dig
-rwxr-xr-x.	 1 root root	117616 Feb 16 10:49 dir
-rwxr-xr-x.	 1 root root	 41368 Feb 16 10:49 dircolors
-rwxr-xr-x.	 1 root root	 28952 Feb 16 10:49 dirname
-rwxr-xr-x.	 1 root root	 45392 Mar 31 13:37 dmesg
lrwxrwxrwx.	 1 root root		 8 Feb 22 12:09 dnsdomainname -> hostname
lrwxrwxrwx.	 1 root root		 8 Feb 22 12:09 domainname -> hostname
-rwxr-xr-x.	 1 root root	 51112 Dec	3  2015 dracut
-rwxr-xr-x.	 1 root root	112904 Feb 16 10:49 du
-rwxr-xr-x.	 1 root root	 79336 Mar	5  2015 dumpkeys
-rwxr-xr-x.	 1 root root   3014112 Nov 20  2015 dwp
-rwxr-xr-x.	 1 root root	  2099 Sep 10  2014 dynamodb_dump
-rwxr-xr-x.	 1 root root	  3469 Sep 10  2014 dynamodb_load
-rwxr-xr-x.	 1 root root	   320 Aug 13  2015 easy_install
-rwxr-xr-x.	 1 root root	   328 Aug 13  2015 easy_install-2.7
-rwxr-xr-x.	 1 root root	 33040 Feb 16 10:49 echo
-rwxr-xr-x.	 1 root root	   158 Nov 20  2015 egrep
-rwxr-xr-x.	 1 root root	 45656 Mar 31 13:37 eject
-rwxr-xr-x.	 1 root root	  9421 Sep 10  2014 elbadmin
-rwxr-xr-x.	 1 root root	 32920 Nov 20  2015 elfedit
-rwxr-xr-x.	 1 root root	 28960 Feb 16 10:49 env
-rwxr-xr-x.	 1 root root	 36816 Jun 10  2014 envsubst
-rwxr-xr-x.	 1 root root	147880 Jun	9  2014 eqn
lrwxrwxrwx.	 1 root root		 2 Feb 22 12:09 ex -> vi
-rwxr-xr-x.	 1 root root	 33208 Feb 16 10:49 expand
-rwxr-xr-x.	 1 root root	 37384 Feb 16 10:49 expr
-rwxr-xr-x.	 1 root root	 95472 Feb 16 10:49 factor
-rwxr-xr-x.	 1 root root	 20048 Mar 31 13:37 fallocate
-rwxr-xr-x.	 1 root root	 28896 Feb 16 10:49 false
-rwxr-xr-x.	 1 root root		26 Nov 20  2015 fc
-rwxr-xr-x.	 1 root root	  1852 Sep 10  2014 fetch_file
-rwxr-xr-x.	 1 root root		26 Nov 20  2015 fg
-rwxr-xr-x.	 1 root root	 11416 Mar	5  2015 fgconsole
-rwxr-xr-x.	 1 root root	   158 Nov 20  2015 fgrep
-rwxr-xr-x.	 1 root root	 19752 Nov 20  2015 file
-rwxr-xr-x.	 1 root root	199200 Nov 20  2015 find
-rwxr-xr-x.	 1 root root	 55416 Mar 31 13:37 findmnt
-rwxr-xr-x.	 1 root root	  4371 Nov 20  2015 find-repos-of-install
-rwxr-xr-x.	 1 root root	 15720 Jun 10  2014 fipscheck
-rwxr-xr-x.	 1 root root	 11568 Jun 10  2014 fipshmac
-rwxr-xr-x.	 1 root root	 24224 Mar 31 13:37 flock
-rwxr-xr-x.	 1 root root	 37328 Feb 16 10:49 fmt
-rwxr-xr-x.	 1 root root	 37296 Feb 16 10:49 fold
-rwxr-xr-x.	 1 root root	 19768 Feb 16 11:47 free
-rwxr-xr-x.	 1 root root	 19936 Nov 20  2015 gapplication
-rwxr-xr-x.	 1 root root	428576 Jun 10  2014 gawk
-rwxr-xr-x.	 1 root root	 36880 Nov 20  2015 gdbus
-rwxr-xr-x.	 1 root root	 23096 May 12 09:24 gencat
lrwxrwxrwx.	 1 root root		 3 Feb 22 12:09 geqn -> eqn
-rwxr-xr-x.	 1 root root	 22856 May 12 09:24 getconf
-rwxr-xr-x.	 1 root root	 27832 May 12 09:24 getent
-rwxr-xr-x.	 1 root root	 24848 Jun 10  2014 getfacl
-rwxr-xr-x.	 1 root root	 11416 Mar	5  2015 getkeycodes
-rwxr-xr-x.	 1 root root	 15736 Mar 31 13:37 getopt
-rwxr-xr-x.	 1 root root		31 Nov 20  2015 getopts
-rwxr-xr-x.	 1 root root	 36752 Jun 10  2014 gettext
-rwxr-xr-x.	 1 root root	  4616 Jun 10  2014 gettext.sh
-rwxr-xr-x.	 1 root root	 11456 Nov 20  2015 gio-querymodules-64
-rwxr-xr-x.	 1 root root	  4920 Sep 10  2014 glacier
-rwxr-xr-x.	 1 root root	 41272 Nov 20  2015 glib-compile-schemas
lrwxrwxrwx.	 1 root root		 4 Feb 22 12:09 gmake -> make
lrwxrwxrwx.	 1 root root		 4 Feb 22 12:09 gneqn -> neqn
lrwxrwxrwx.	 1 root root		 5 Feb 22 12:09 gnroff -> nroff
-rwsr-xr-x.	 1 root root	 78168 Mar	6  2015 gpasswd
lrwxrwxrwx.	 1 root root		 4 Feb 22 12:11 gpg -> gpg2
-rwxr-xr-x.	 1 root root	749840 Jun	9  2014 gpg2
-rwxr-xr-x.	 1 root root	296640 Jun	9  2014 gpg-agent
-rwxr-xr-x.	 1 root root	143552 Jun	9  2014 gpgconf
-rwxr-xr-x.	 1 root root	156200 Jun	9  2014 gpg-connect-agent
-rwxr-xr-x.	 1 root root	 23736 Jun 10  2014 gpg-error
-rwxr-xr-x.	 1 root root	 24176 Jun	9  2014 gpgparsemail
-rwxr-xr-x.	 1 root root	 49944 Jun	9  2014 gpgsplit
lrwxrwxrwx.	 1 root root		 5 Feb 22 12:11 gpgv -> gpgv2
-rwxr-xr-x.	 1 root root	353520 Jun	9  2014 gpgv2
-rwxr-xr-x.	 1 root root	  3307 Jun	9  2014 gpg-zip
lrwxrwxrwx.	 1 root root		 3 Feb 22 12:09 gpic -> pic
-rwxr-xr-x.	 1 root root	100664 Nov 20  2015 gprof
-rwxr-xr-x.	 1 root root	158944 Nov 20  2015 grep
-rwxr-xr-x.	 1 root root	 83584 Jun	9  2014 groff
-rwxr-xr-x.	 1 root root	144232 Jun	9  2014 grops
-rwxr-xr-x.	 1 root root	100952 Jun	9  2014 grotty
-rwxr-xr-x.	 1 root root	 33152 Feb 16 10:49 groups
-rwxr-xr-x.	 1 root root	 16069 Sep 10  2014 growpart
-rwxr-xr-x.	 1 root root	401304 Jan	5 12:52 grub2-editenv
-rwxr-xr-x.	 1 root root	833752 Jan	5 12:52 grub2-file
-rwxr-xr-x.	 1 root root   1062624 Jan	5 12:52 grub2-fstest
-rwxr-xr-x.	 1 root root	260832 Jan	5 12:52 grub2-glue-efi
-rwxr-xr-x.	 1 root root	  1668 Jan	5 12:51 grub2-kbdcomp
-rwxr-xr-x.	 1 root root	243392 Jan	5 12:52 grub2-menulst2cfg
-rwxr-xr-x.	 1 root root	290264 Jan	5 12:52 grub2-mkfont
-rwxr-xr-x.	 1 root root	384024 Jan	5 12:52 grub2-mkimage
-rwxr-xr-x.	 1 root root	266992 Jan	5 12:52 grub2-mklayout
-rwxr-xr-x.	 1 root root	431160 Jan	5 12:52 grub2-mknetdir
-rwxr-xr-x.	 1 root root	273584 Jan	5 12:52 grub2-mkpasswd-pbkdf2
-rwxr-xr-x.	 1 root root	260456 Jan	5 12:52 grub2-mkrelpath
-rwxr-xr-x.	 1 root root   1021424 Jan	5 12:52 grub2-mkrescue
-rwxr-xr-x.	 1 root root	534584 Jan	5 12:52 grub2-mkstandalone
-rwxr-xr-x.	 1 root root	842744 Jan	5 12:52 grub2-render-label
-rwxr-xr-x.	 1 root root	298264 Jan	5 12:52 grub2-script-check
-rwxr-xr-x.	 1 root root	769504 Jan	5 12:52 grub2-syslinux2cfg
-rwxr-xr-x.	 1 root root	 24288 Nov 20  2015 gsettings
lrwxrwxrwx.	 1 root root		 6 Feb 22 12:09 gsoelim -> soelim
lrwxrwxrwx.	 1 root root		 3 Feb 22 12:14 gtar -> tar
lrwxrwxrwx.	 1 root root		 3 Feb 22 12:09 gtbl -> tbl
lrwxrwxrwx.	 1 root root		 5 Feb 22 12:09 gtroff -> troff
-rwxr-xr-x.	 1 root root	  2253 Jul 27  2015 gunzip
-rwxr-xr-x.	 1 root root	  5931 Jul 27  2015 gzexe
-rwxr-xr-x.	 1 root root	100744 Jul 27  2015 gzip
-rwxr-xr-x.	 1 root root	 41432 Feb 16 10:49 head
-rwxr-xr-x.	 1 root root	 32592 Mar 31 13:37 hexdump
-rwxr-xr-x.	 1 root root	117296 Mar 16 09:40 host
-rwxr-xr-x.	 1 root root	 28944 Feb 16 10:49 hostid
-rwxr-xr-x.	 1 root root	 15768 Jun	9  2014 hostname
-rwxr-xr-x.	 1 root root	292056 May 12 10:29 hostnamectl
lrwxrwxrwx.	 1 root root		 7 Jun 17 13:38 i386 -> setarch
-rwxr-xr-x.	 1 root root	 60320 May 12 09:24 iconv
-rwxr-xr-x.	 1 root root	 41440 Feb 16 10:49 id
-rwxr-xr-x.	 1 root root	 33232 Nov 21  2015 idn
-rwxr-xr-x.	 1 root root	  3188 Jun 10  2014 igawk
-rwxr-xr-x.	 1 root root	271480 Jun 10  2014 info
-rwxr-xr-x.	 1 root root	 57400 Jun 10  2014 infocmp
-rwxr-xr-x.	 1 root root	 21976 Jun 10  2014 infokey
lrwxrwxrwx.	 1 root root		 3 Feb 22 12:09 infotocap -> tic
-rwxr-xr-x.	 1 root root	142880 Feb 16 10:49 install
-rwxr-xr-x.	 1 root root	  5775 Sep 10  2014 instance_events
-rwxr-xr-x.	 1 root root	 20160 Mar 31 13:37 ionice
-rwxr-xr-x.	 1 root root	 15400 Mar 31 13:39 ipcalc
-rwxr-xr-x.	 1 root root	 20280 Mar 31 13:37 ipcmk
-rwxr-xr-x.	 1 root root	 24216 Mar 31 13:37 ipcrm
-rwxr-xr-x.	 1 root root	 45240 Mar 31 13:37 ipcs
lrwxrwxrwx.	 1 root root		23 Feb 22 12:11 iptables-xml -> /usr/sbin/xtables-multi
-rwxr-xr-x.	 1 root root	 20088 Mar 31 13:37 isosize
-rwxr-xr-x.	 1 root root		28 Nov 20  2015 jobs
-rwxr-xr-x.	 1 root root	 49872 Feb 16 10:49 join
-rwxr-xr-x.	 1 root root	474720 May 12 10:29 journalctl
-rwxr-xr-x.	 1 root root	196792 Jan	9  2007 jove
-rwxr-xr-x.	 1 root root	  1670 Jun 17 16:07 jp.py
-rw-r--r--.	 1 root root	  1842 Jun 17 16:07 jp.pyc
-rwxr-xr-x.	 1 root root	  1340 Nov 19  2015 jsonpointer
-rwxr-xr-x.	 1 root root	 11440 Mar	5  2015 kbdinfo
-rwxr-xr-x.	 1 root root	 11408 Mar	5  2015 kbd_mode
-rwxr-xr-x.	 1 root root	 11472 Mar	5  2015 kbdrate
-rwxr-xr-x.	 1 root root	 21789 Feb 16 11:54 kdumpctl
-rwxr-xr-x.	 1 root root	  4489 May 12 10:29 kernel-install
-rwxr-xr-x.	 1 root root	 28608 Jun	9  2014 keyctl
-rwxr-xr-x.	 1 root root	 29264 Mar 31 13:37 kill
-rwxr-xr-x.	 1 root root	   919 Sep 10  2014 kill_instance
-rwxr-xr-x.	 1 root root	150656 Nov 20  2015 kmod
-rwxr-xr-x.	 1 root root	 19568 Jun	9  2014 last
lrwxrwxrwx.	 1 root root		 4 Feb 22 12:11 lastb -> last
-rwxr-xr-x.	 1 root root	 15392 Mar	6  2015 lastlog
-rwxr-xr-x.	 1 root root	 10597 Sep 10  2014 launch_instance
-rwxr-xr-x.	 1 root root	 19904 Jul 24  2015 lchfn
-rwxr-xr-x.	 1 root root	 15776 Jul 24  2015 lchsh
lrwxrwxrwx.	 1 root root		20 Feb 22 12:11 ld -> /etc/alternatives/ld
-rwxr-xr-x.	 1 root root	902472 Nov 20  2015 ld.bfd
-rwxr-xr-x.	 1 root root	  5302 May 12 08:47 ldd
-rwxr-xr-x.	 1 root root   4158056 Nov 20  2015 ld.gold
-rwxr-xr-x.	 1 root root	158240 Jul 30  2015 less
-rwxr-xr-x.	 1 root root	 11376 Jul 30  2015 lessecho
-rwxr-xr-x.	 1 root root	 17056 Jul 30  2015 lesskey
-rwxr-xr-x.	 1 root root	  2291 Jul 30  2015 lesspipe.sh
-rwxr-xr-x.	 1 root root	 87024 Jun	9  2014 lexgrog
-rwxr-xr-x.	 1 root root	 28944 Feb 16 10:49 link
lrwxrwxrwx.	 1 root root		 7 Jun 17 13:38 linux32 -> setarch
lrwxrwxrwx.	 1 root root		 7 Jun 17 13:38 linux64 -> setarch
-rwxr-xr-x.	 1 root root	  5995 Jun	9  2014 linux-boot-prober
-rwxr-xr-x.	 1 root root	  3090 Sep 10  2014 list_instances
-rwxr-xr-x.	 1 root root	 58552 Feb 16 10:49 ln
-rwxr-xr-x.	 1 root root	113096 Mar	5  2015 loadkeys
-rwxr-xr-x.	 1 root root	 24432 Mar	5  2015 loadunimap
-rwxr-xr-x.	 1 root root	 38696 May 12 09:24 locale
-rwxr-xr-x.	 1 root root	300336 May 12 10:29 localectl
-rwxr-xr-x.	 1 root root	318808 May 12 09:24 localedef
-rwxr-xr-x.	 1 root root	 24936 Mar 31 13:37 logger
-rwxr-xr-x.	 1 root root	 37200 Mar 31 13:37 login
-rwxr-xr-x.	 1 root root	442048 May 12 10:29 loginctl
-rwxr-xr-x.	 1 root root	 28944 Feb 16 10:49 logname
-rwxr-xr-x.	 1 root root	 11528 Mar 31 13:37 look
-rwxr-xr-x.	 1 root root	117616 Feb 16 10:49 ls
-rwxr-xr-x.	 1 root root	 11520 Mar	5  2015 lsattr
-rwxr-xr-x.	 1 root root	 72592 Mar 31 13:37 lsblk
-rwxr-xr-x.	 1 root root	 58352 Mar 31 13:37 lscpu
-rwxr-xr-x.	 1 root root	  6632 Dec	3  2015 lsinitrd
-rwxr-xr-x.	 1 root root	 37648 Mar 31 13:37 lslocks
-rwxr-xr-x.	 1 root root	 88152 Mar 31 13:37 lslogins
-rwxr-xr-x.	 1 root root	  2614 Sep 10  2014 lss3
-rwxr-xr-x.	 1 root root	 15824 Jun	9  2014 lua
-rwxr-xr-x.	 1 root root	121848 Jun	9  2014 luac
-rwxr-xr-x.	 1 root root	491680 May 12 10:29 machinectl
lrwxrwxrwx.	 1 root root		27 Feb 22 12:13 mailq -> /etc/alternatives/mta-mailq
lrwxrwxrwx.	 1 root root		31 Feb 22 12:13 mailq.postfix -> ../../usr/sbin/sendmail.postfix
-rwxr-xr-x.	 1 root root	182736 Jun	9  2014 make
-rwxr-xr-x.	 1 root root	 19048 May 12 09:24 makedb
-rwxr-xr-x.	 1 root root	102736 Jun	9  2014 man
-rwxr-xr-x.	 1 root root	125088 Jun	9  2014 mandb
-rwxr-xr-x.	 1 root root	 33224 Jun	9  2014 manpath
-rwxr-xr-x.	 1 root root	 20232 Mar	5  2015 mapscrn
lrwxrwxrwx.	 1 root root		15 Feb 22 12:10 markdown_py -> markdown_py-2.7
-rwxr-xr-x.	 1 root root	  1013 Sep 10  2014 markdown_py-2.7
-rwxr-xr-x.	 1 root root	 15792 Mar 31 13:37 mcookie
-rwxr-xr-x.	 1 root root	 41480 Feb 16 10:49 md5sum
-rwxr-xr-x.	 1 root root	 11240 Jun	9  2014 mesg
-rwxr-xr-x.	 1 root root	 79720 Feb 16 10:49 mkdir
-rwxr-xr-x.	 1 root root	 63008 Feb 16 10:49 mkfifo
-rwxr-xr-x.	 1 root root	  3013 Dec	3  2015 mkinitrd
-rwxr-xr-x.	 1 root root	 67152 Feb 16 10:49 mknod
-rwxr-xr-x.	 1 root root	 41600 Feb 16 10:49 mktemp
-rwxr-xr-x.	 1 root root	153080 Apr 25 10:34 modutil
-rwxr-xr-x.	 1 root root	 41096 Mar 31 13:37 more
-rwsr-xr-x.	 1 root root	 44232 Mar 31 13:37 mount
-rwxr-xr-x.	 1 root root	 15672 Mar 31 13:37 mountpoint
-rwxr-xr-x.	 1 root root	 23856 Jun 10  2014 msgattrib
-rwxr-xr-x.	 1 root root	 23856 Jun 10  2014 msgcat
-rwxr-xr-x.	 1 root root	 24144 Jun 10  2014 msgcmp
-rwxr-xr-x.	 1 root root	 19744 Jun 10  2014 msgcomm
-rwxr-xr-x.	 1 root root	 19728 Jun 10  2014 msgconv
-rwxr-xr-x.	 1 root root	 19728 Jun 10  2014 msgen
-rwxr-xr-x.	 1 root root	 15664 Jun 10  2014 msgexec
-rwxr-xr-x.	 1 root root	 24008 Jun 10  2014 msgfilter
-rwxr-xr-x.	 1 root root	 70320 Jun 10  2014 msgfmt
-rwxr-xr-x.	 1 root root	103592 Jun 10  2014 msggrep
-rwxr-xr-x.	 1 root root	 12751 Jan 24  2014 msghack
-rwxr-xr-x.	 1 root root	 45432 Jun 10  2014 msginit
-rwxr-xr-x.	 1 root root	 53840 Jun 10  2014 msgmerge
-rwxr-xr-x.	 1 root root	 32432 Jun 10  2014 msgunfmt
-rwxr-xr-x.	 1 root root	 19736 Jun 10  2014 msguniq
-rwxr-xr-x.	 1 root root	 17203 Sep 10  2014 mturk
-rwxr-xr-x.	 1 root root	130288 Feb 16 10:49 mv
-rwxr-xr-x.	 1 root root	 24352 Mar 31 13:37 namei
-rwxr-xr-x.	 1 root root	 20064 May 17 11:20 ndptool
-rwxr-xr-x.	 1 root root	  6020 Nov 20  2015 needs-restarting
-rwxr-xr-x.	 1 root root	   271 Jun	9  2014 neqn
-rwxr-xr-x.	 1 root root	154968 Jun 10  2014 netstat
-rwxr-xr-x.	 1 root root	 11584 Mar	5  2015 nettle-hash
-rwxr-xr-x.	 1 root root	  7200 Mar	5  2015 nettle-lfib-stream
lrwxrwxrwx.	 1 root root		32 Feb 22 12:13 newaliases -> /etc/alternatives/mta-newaliases
lrwxrwxrwx.	 1 root root		31 Feb 22 12:13 newaliases.postfix -> ../../usr/sbin/sendmail.postfix
-rwsr-xr-x.	 1 root root	 41752 Mar	6  2015 newgrp
-rwxr-xr-x.	 1 root root	 36768 Jun 10  2014 ngettext
-rwxr-xr-x.	 1 root root	 33064 Feb 16 10:49 nice
lrwxrwxrwx.	 1 root root		 8 Feb 22 12:09 nisdomainname -> hostname
-rwxr-xr-x.	 1 root root	 41536 Feb 16 10:49 nl
-rwxr-xr-x.	 1 root root	 42360 Nov 20  2015 nm
-rwxr-xr-x.	 1 root root	 33144 Feb 16 10:49 nohup
-rwxr-xr-x.	 1 root root	 33104 Feb 16 10:49 nproc
-rwxr-xr-x.	 1 root root	  3392 Jun	9  2014 nroff
-rwxr-xr-x.	 1 root root	 24608 Mar 31 13:37 nsenter
-rwxr-xr-x.	 1 root root	117208 Mar 16 09:40 nslookup
-rwxr-xr-x.	 1 root root	 62288 Mar 16 09:40 nsupdate
-rwxr-xr-x.	 1 root root	 66216 Feb 16 10:49 numfmt
-rwxr-xr-x.	 1 root root	224304 Nov 20  2015 objcopy
-rwxr-xr-x.	 1 root root	332264 Nov 20  2015 objdump
-rwxr-xr-x.	 1 root root	 66320 Feb 16 10:49 od
-rwxr-xr-x.	 1 root root	190808 Nov 20  2015 oldfind
lrwxrwxrwx.	 1 root root		 6 Feb 22 12:12 open -> openvt
-rwxr-xr-x.	 1 root root	508664 May	9 04:10 openssl
-rwxr-xr-x.	 1 root root	 19928 Mar	5  2015 openvt
-rwxr-xr-x.	 1 root root	  5618 Jun	9  2014 os-prober
-rwxr-xr-x.	 1 root root	 28680 Mar	5  2015 p11-kit
-rwxr-xr-x.	 1 root root	 15458 Nov 20  2015 package-cleanup
-rwsr-xr-x.	 1 root root	 27832 Jun 10  2014 passwd
-rwxr-xr-x.	 1 root root	 33080 Feb 16 10:49 paste
-rwxr-xr-x.	 1 root root	 33056 Feb 16 10:49 pathchk
-rwxr-xr-x.	 1 root root	428600 Jun 10  2014 pgawk
-rwxr-xr-x.	 1 root root	 28320 Feb 16 11:47 pgrep
-rwxr-xr-x.	 1 root root	184736 Jun	9  2014 pic
-rwxr-xr-x.	 1 root root	  2237 Jan 31  2014 pinentry
-rwxr-xr-x.	 1 root root	 50328 Jun	9  2014 pinentry-curses
-rwxr-xr-x.	 1 root root	 44896 Nov 20  2015 ping
-rwxr-xr-x.	 1 root root	 49568 Nov 20  2015 ping6
-rwxr-xr-x.	 1 root root	 37416 Feb 16 10:49 pinky
-rwxr-xr-x.	 1 root root	   200 Jun 17 16:07 pip
-rwxr-xr-x.	 1 root root	   200 Jun 17 16:07 pip2
-rwxr-xr-x.	 1 root root	   200 Jun 17 16:07 pip2.7
-rwxr-xr-x.	 1 root root	 88888 Apr 25 10:34 pk12util
-rwxr-xr-x.	 1 root root	 15344 Feb 16 10:45 pkaction
-rwxr-xr-x.	 1 root root	 23568 Feb 16 10:45 pkcheck
-rwxr-xr-x.	 1 root root	 15872 Mar	5  2015 pkcs1-conv
-rwsr-xr-x.	 1 root root	 27656 Feb 16 10:45 pkexec
-rwxr-xr-x.	 1 root root	 45448 Jun	9  2014 pkg-config
-rwxr-xr-x.	 1 root root	 28320 Feb 16 11:47 pkill
-rwxr-xr-x.	 1 root root	 19688 Jun	9  2014 pkla-admin-identities
-rwxr-xr-x.	 1 root root	 27960 Jun	9  2014 pkla-check-authorization
-rwxr-xr-x.	 1 root root	 15304 Feb 16 10:45 pkttyagent
-rwxr-xr-x.	 1 root root	 14816 May 12 09:24 pldd
-rwxr-xr-x.	 1 root root	 28256 Feb 16 11:47 pmap
-rwxr-xr-x.	 1 root root	192048 Jun	9  2014 post-grohtml
-rwxr-xr-x.	 1 root root	  6296 May 12 07:32 powernow-k8-decode
-rwxr-xr-x.	 1 root root	 66624 Feb 16 10:49 pr
-rwxr-xr-x.	 1 root root	 41864 Jun	9  2014 preconv
-rwxr-xr-x.	 1 root root	 88312 Jun	9  2014 pre-grohtml
-rwxr-xr-x.	 1 root root	 28928 Feb 16 10:49 printenv
-rwxr-xr-x.	 1 root root	 49736 Feb 16 10:49 printf
-rwxr-xr-x.	 1 root root	 37848 Mar 31 13:37 prlimit
-rwxr-xr-x.	 1 root root	100048 Feb 16 11:47 ps
lrwxrwxrwx.	 1 root root		 9 Feb 22 12:12 psfaddtable -> psfxtable
lrwxrwxrwx.	 1 root root		 9 Feb 22 12:12 psfgettable -> psfxtable
lrwxrwxrwx.	 1 root root		 9 Feb 22 12:12 psfstriptable -> psfxtable
-rwxr-xr-x.	 1 root root	 19920 Mar	5  2015 psfxtable
-rwxr-xr-x.	 1 root root	 66608 Feb 16 10:49 ptx
-rwxr-xr-x.	 1 root root	 33200 Feb 16 10:49 pwd
-rwxr-xr-x.	 1 root root	 11512 Feb 16 11:47 pwdx
-rwxr-xr-x.	 1 root root	 11384 Jun	9  2014 pwmake
-rwxr-xr-x.	 1 root root	 11376 Jun	9  2014 pwscore
-rwxr-xr-x.	 1 root root	  2614 Sep 10  2014 pyami_sendmail
-rwxr-xr-x.	 1 root root		78 Nov 19  2015 pydoc
-rwxr-xr-x.	 1 root root	   304 Jun	9  2014 pygmentize
-rwxr-xr-x.	 1 root root	   210 Jun 17 16:07 pyrsa-decrypt
-rwxr-xr-x.	 1 root root	   226 Jun 17 16:07 pyrsa-decrypt-bigfile
-rwxr-xr-x.	 1 root root	   210 Jun 17 16:07 pyrsa-encrypt
-rwxr-xr-x.	 1 root root	   226 Jun 17 16:07 pyrsa-encrypt-bigfile
-rwxr-xr-x.	 1 root root	   208 Jun 17 16:07 pyrsa-keygen
-rwxr-xr-x.	 1 root root	   231 Jun 17 16:07 pyrsa-priv2pub
-rwxr-xr-x.	 1 root root	   204 Jun 17 16:07 pyrsa-sign
-rwxr-xr-x.	 1 root root	   208 Jun 17 16:07 pyrsa-verify
lrwxrwxrwx.	 1 root root		 7 Feb 22 12:10 python -> python2
lrwxrwxrwx.	 1 root root		 9 Feb 22 12:10 python2 -> python2.7
-rwxr-xr-x.	 1 root root	  7136 Nov 19  2015 python2.7
-rwxr-xr-x.	 1 root root	 85336 Mar 31 13:12 quota
-rwxr-xr-x.	 1 root root	 68472 Mar 31 13:12 quotasync
-rwxr-xr-x.	 1 root root	 62584 Nov 20  2015 ranlib
-rwxr-xr-x.	 1 root root	 15624 Mar 31 13:37 raw
-rwxr-xr-x.	 1 root root		28 Nov 20  2015 read
-rwxr-xr-x.	 1 root root	405336 Nov 20  2015 readelf
-rwxr-xr-x.	 1 root root	 41760 Feb 16 10:49 readlink
-rwxr-xr-x.	 1 root root	 62656 Feb 16 10:49 realpath
-rwxr-xr-x.	 1 root root	 15632 Jun 10  2014 recode-sr-latin
-rwxr-xr-x.	 1 root root	 11512 Mar 31 13:37 rename
-rwxr-xr-x.	 1 root root	 11464 Mar 31 13:37 renice
-rwxr-xr-x.	 1 root root	 11699 Nov 20  2015 repoclosure
-rwxr-xr-x.	 1 root root	 14301 Nov 20  2015 repodiff
-rwxr-xr-x.	 1 root root	  4191 Nov 20  2015 repo-graph
-rwxr-xr-x.	 1 root root	  7043 Nov 20  2015 repomanage
-rwxr-xr-x.	 1 root root	 57013 Nov 20  2015 repoquery
-rwxr-xr-x.	 1 root root	 10315 Nov 20  2015 repo-rss
-rwxr-xr-x.	 1 root root	 13040 Nov 20  2015 reposync
-rwxr-xr-x.	 1 root root	  8735 Nov 20  2015 repotrack
lrwxrwxrwx.	 1 root root		 4 Feb 22 12:09 reset -> tset
-rwxr-xr-x.	 1 root root	 20072 Mar	5  2015 resizecons
-rwxr-xr-x.	 1 root root	 11512 Mar 31 13:37 rev
-rwxr-xr-x.	 1 root root	 62816 Feb 16 10:49 rm
lrwxrwxrwx.	 1 root root		27 Feb 22 12:13 rmail -> /etc/alternatives/mta-rmail
-rwxr-xr-x.	 1 root root	   262 Jun	9  2014 rmail.postfix
-rwxr-xr-x.	 1 root root	 45496 Feb 16 10:49 rmdir
-rwxr-xr-x.	 1 root root	  9030 Sep 10  2014 route53
-rwxr-xr-x.	 1 root root	 93080 May 12 09:24 rpcgen
-rwxr-xr-x.	 1 root root	 16104 Nov 20  2015 rpm
-rwxr-xr-x.	 1 root root	 11400 Nov 20  2015 rpm2cpio
-rwxr-xr-x.	 1 root root	 11992 Nov 20  2015 rpmdb
-rwxr-xr-x.	 1 root root	 12000 Nov 20  2015 rpmkeys
lrwxrwxrwx.	 1 root root		13 Feb 22 12:11 rpmquery -> ../../bin/rpm
lrwxrwxrwx.	 1 root root		13 Feb 22 12:11 rpmverify -> ../../bin/rpm
-rwxr-xr-x.	 1 root root	   589 Jun 17 16:07 rst2html.py
-rw-r--r--.	 1 root root	   602 Jun 17 16:07 rst2html.pyc
-rwxr-xr-x.	 1 root root	   786 Jun 17 16:07 rst2latex.py
-rw-r--r--.	 1 root root	   732 Jun 17 16:07 rst2latex.pyc
-rwxr-xr-x.	 1 root root	   595 Jun 17 16:07 rst2man.py
-rw-r--r--.	 1 root root	   707 Jun 17 16:07 rst2man.pyc
-rwxr-xr-x.	 1 root root	  1693 Jun 17 16:07 rst2odt_prepstyles.py
-rw-r--r--.	 1 root root	  2038 Jun 17 16:07 rst2odt_prepstyles.pyc
-rwxr-xr-x.	 1 root root	   759 Jun 17 16:07 rst2odt.py
-rw-r--r--.	 1 root root	   801 Jun 17 16:07 rst2odt.pyc
-rwxr-xr-x.	 1 root root	   596 Jun 17 16:07 rst2pseudoxml.py
-rw-r--r--.	 1 root root	   598 Jun 17 16:07 rst2pseudoxml.pyc
-rwxr-xr-x.	 1 root root	   632 Jun 17 16:07 rst2s5.py
-rw-r--r--.	 1 root root	   647 Jun 17 16:07 rst2s5.pyc
-rwxr-xr-x.	 1 root root	   781 Jun 17 16:07 rst2xetex.py
-rw-r--r--.	 1 root root	   748 Jun 17 16:07 rst2xetex.pyc
-rwxr-xr-x.	 1 root root	   597 Jun 17 16:07 rst2xml.py
-rw-r--r--.	 1 root root	   610 Jun 17 16:07 rst2xml.pyc
-rwxr-xr-x.	 1 root root	   665 Jun 17 16:07 rstpep2html.py
-rw-r--r--.	 1 root root	   678 Jun 17 16:07 rstpep2html.pyc
-rwxr-xr-x.	 1 root root	448296 Nov 20  2015 rsync
-rwxr-xr-x.	 1 root root	  6098 Nov 20  2015 rsyslog-recover-qi.pl
-rwxr-xr-x.	 1 root root	 33208 Feb 16 10:49 runcon
-rwxr-xr-x.	 1 root root	  2086 Jun	9  2014 run-parts
lrwxrwxrwx.	 1 root root		 2 Feb 22 12:09 rvi -> vi
lrwxrwxrwx.	 1 root root		 2 Feb 22 12:09 rview -> vi
-rwxr-xr-x.	 1 root root	 16479 Sep 10  2014 s3put
-rwxr-xr-x.	 1 root root	 19244 Nov 20  2015 sandbox
-rwxr-xr-x.	 1 root root	 70360 Mar 21 18:18 scp
-rwxr-xr-x.	 1 root root	 20056 Mar 31 13:37 script
-rwxr-xr-x.	 1 root root	 15640 Mar 31 13:37 scriptreplay
-rwxr-xr-x.	 1 root root	  6777 Sep 10  2014 sdbadmin
-rwxr-xr-x.	 1 root root	 49528 Jun 10  2014 sdiff
-rwxr-xr-x.	 1 root root	 24632 Nov 20  2015 secon
-rwxr-xr-x.	 1 root root	 76016 Jun	9  2014 sed
-rwxr-xr-x.	 1 root root	238568 Jun	9  2014 sedismod
-rwxr-xr-x.	 1 root root	167728 Jun	9  2014 sedispol
-rwxr-xr-x.	 1 root root	 15656 Nov 20  2015 semodule_package
-rwxr-xr-x.	 1 root root	 49592 Feb 16 10:49 seq
-rwxr-xr-x.	 1 root root	 15624 Mar 31 13:37 setarch
-rwxr-xr-x.	 1 root root	 37576 Jun 10  2014 setfacl
-rwxr-xr-x.	 1 root root	 41328 Mar	5  2015 setfont
-rwxr-xr-x.	 1 root root	 11408 Mar	5  2015 setkeycodes
-rwxr-xr-x.	 1 root root	 11424 Mar	5  2015 setleds
-rwxr-xr-x.	 1 root root	 11464 Mar	5  2015 setmetamode
-rwxr-xr-x.	 1 root root	 32624 Mar 31 13:37 setpriv
-rwxr-xr-x.	 1 root root	 11480 Mar 31 13:37 setsid
-rwxr-xr-x.	 1 root root	 28128 Mar 31 13:37 setterm
lrwxrwxrwx.	 1 root root		19 Jun 17 13:38 setup-nsssysinit -> setup-nsssysinit.sh
-rwxr-xr-x.	 1 root root	  1539 Apr 25 10:33 setup-nsssysinit.sh
-rwxr-xr-x.	 1 root root	 11584 Mar	5  2015 setvtrgb
-rwxr-xr-x.	 1 root root	 24176 Mar	5  2015 sexp-conv
-rwxr-xr-x.	 1 root root	124608 Mar 21 18:18 sftp
lrwxrwxrwx.	 1 root root		 6 Feb 22 12:11 sg -> newgrp
lrwxrwxrwx.	 1 root root		 4 Feb 22 12:09 sh -> bash
-rwxr-xr-x.	 1 root root	 37408 Feb 16 10:49 sha1sum
-rwxr-xr-x.	 1 root root	 41576 Feb 16 10:49 sha224sum
-rwxr-xr-x.	 1 root root	 41576 Feb 16 10:49 sha256sum
-rwxr-xr-x.	 1 root root	 41568 Feb 16 10:49 sha384sum
-rwxr-xr-x.	 1 root root	 41568 Feb 16 10:49 sha512sum
-rwxr-xr-x.	 1 root root	 10371 Nov 20  2015 show-changed-rco
-rwxr-xr-x.	 1 root root	 15816 Mar	5  2015 showconsolefont
-rwxr-xr-x.	 1 root root	 16572 Nov 20  2015 show-installed
-rwxr-xr-x.	 1 root root	 15584 Mar	5  2015 showkey
-rwxr-xr-x.	 1 root root	 54184 Feb 16 10:49 shred
-rwxr-xr-x.	 1 root root	 50272 Feb 16 10:49 shuf
-rwxr-xr-x.	 1 root root	167744 Apr 25 10:34 signtool
-rwxr-xr-x.	 1 root root	 92392 Apr 25 10:34 signver
-rwxr-xr-x.	 1 root root	 28944 Nov 20  2015 size
-rwxr-xr-x.	 1 root root	 24160 Feb 16 11:47 skill
-rwxr-xr-x.	 1 root root	 19968 Feb 16 11:47 slabtop
-rwxr-xr-x.	 1 root root	 33096 Feb 16 10:49 sleep
lrwxrwxrwx.	 1 root root		 5 Jun 17 13:39 slogin -> ./ssh
-rwxr-xr-x.	 1 root root	 24160 Feb 16 11:47 snice
-rwxr-xr-x.	 1 root root	 33368 Jun	9  2014 soelim
-rwxr-xr-x.	 1 root root	117656 Feb 16 10:49 sort
-rwxr-xr-x.	 1 root root	  4341 May 12 08:47 sotruss
-rwxr-xr-x.	 1 root root	 71088 Feb 16 10:49 split
-rwxr-xr-x.	 1 root root	 23152 May 12 09:24 sprof
-rwxr-xr-x.	 1 root root	 56240 Nov 20  2015 sqlite3
-rwxr-xr-x.	 1 root root	669728 Mar 21 18:18 ssh
-rwxr-xr-x.	 1 root root	339656 Mar 21 18:18 ssh-add
---x--s--x.	 1 root nobody	306304 Mar 21 18:18 ssh-agent
-rwxr-xr-x.	 1 root root	  9500 Mar 21 18:18 ssh-copy-id
-rwxr-xr-x.	 1 root root	418528 Mar 21 18:18 ssh-keygen
-rwxr-xr-x.	 1 root root	432800 Mar 21 18:18 ssh-keyscan
-rwxr-xr-x.	 1 root root	108648 Apr 25 10:34 ssltap
-rwxr-xr-x.	 1 root root	 74864 Feb 16 10:49 stat
-rwxr-xr-x.	 1 root root	 66408 Feb 16 10:49 stdbuf
-rwxr-xr-x.	 1 root root	 28968 Nov 20  2015 strings
-rwxr-xr-x.	 1 root root	224304 Nov 20  2015 strip
-rwxr-xr-x.	 1 root root	 70224 Feb 16 10:49 stty
-rwsr-xr-x.	 1 root root	 32072 Mar 31 13:37 su
---s--x--x.	 1 root root	130720 Mar 31 13:09 sudo
lrwxrwxrwx.	 1 root root		 4 Jun 17 13:39 sudoedit -> sudo
---x--x--x.	 1 root root	 65696 Mar 31 13:09 sudoreplay
-rwxr-xr-x.	 1 root root	 37400 Feb 16 10:49 sum
-rwxr-xr-x.	 1 root root	 28944 Feb 16 10:49 sync
-rwxr-xr-x.	 1 root root	645656 May 12 10:29 systemctl
-rwxr-xr-x.	 1 root root   1415456 May 12 10:29 systemd-analyze
-rwxr-xr-x.	 1 root root	 49480 May 12 10:29 systemd-ask-password
-rwxr-xr-x.	 1 root root	 32888 May 12 10:29 systemd-cat
-rwxr-xr-x.	 1 root root	292192 May 12 10:29 systemd-cgls
-rwxr-xr-x.	 1 root root	 70536 May 12 10:29 systemd-cgtop
lrwxrwxrwx.	 1 root root		11 Jun 17 13:38 systemd-coredumpctl -> coredumpctl
-rwxr-xr-x.	 1 root root	 62184 May 12 10:29 systemd-delta
-rwxr-xr-x.	 1 root root	 32872 May 12 10:29 systemd-detect-virt
-rwxr-xr-x.	 1 root root	 37072 May 12 10:29 systemd-escape
-rwxr-xr-x.	 1 root root	 83112 May 12 10:29 systemd-firstboot
-rwxr-xr-x.	 1 root root	 66568 May 12 10:29 systemd-hwdb
-rwxr-xr-x.	 1 root root	283576 May 12 10:29 systemd-inhibit
lrwxrwxrwx.	 1 root root		 8 Jun 17 13:38 systemd-loginctl -> loginctl
-rwxr-xr-x.	 1 root root	 41208 May 12 10:29 systemd-machine-id-setup
-rwxr-xr-x.	 1 root root	 37016 May 12 10:29 systemd-notify
-rwxr-xr-x.	 1 root root	495952 May 12 10:29 systemd-nspawn
-rwxr-xr-x.	 1 root root	 45312 May 12 10:29 systemd-path
-rwxr-xr-x.	 1 root root	358320 May 12 10:29 systemd-run
-rwxr-xr-x.	 1 root root	350216 May 12 10:29 systemd-stdio-bridge
-rwxr-xr-x.	 1 root root	  3979 May 12 10:29 systemd-sysv-convert
-rwxr-xr-x.	 1 root root	120544 May 12 10:29 systemd-tmpfiles
-rwxr-xr-x.	 1 root root	 66192 May 12 10:29 systemd-tty-ask-password-agent
-rwxr-xr-x.	 1 root root	 15664 Jun 10  2014 tabs
-rwxr-xr-x.	 1 root root	 33216 Feb 16 10:49 tac
-rwxr-xr-x.	 1 root root	 66776 Feb 16 10:49 tail
-rwxr-xr-x.	 1 root root	 20152 Mar 31 13:37 tailf
-rwxr-xr-x.	 1 root root	345976 Jun	9  2014 tar
-rwxr-xr-x.	 1 root root	  3766 Sep 10  2014 taskadmin
-rwxr-xr-x.	 1 root root	 28672 Mar 31 13:37 taskset
-rwxr-xr-x.	 1 root root	118744 Jun	9  2014 tbl
-rwxr-xr-x.	 1 root root	  5120 Jan	9  2007 teachjove
-rwxr-xr-x.	 1 root root	150456 Mar 31 11:55 teamd
-rwxr-xr-x.	 1 root root	 29664 Mar 31 11:55 teamdctl
-rwxr-xr-x.	 1 root root	 19552 Mar 31 11:55 teamnl
-rwxr-xr-x.	 1 root root	 33120 Feb 16 10:49 tee
-rwxr-xr-x.	 1 root root	 37288 Feb 16 10:49 test
-rwxr-xr-x.	 1 root root	 30488 Jun	9  2014 testgdbm
-rwxr-xr-x.	 1 root root	 65776 Jun 10  2014 tic
-rwxr-xr-x.	 1 root root	304368 May 12 10:29 timedatectl
-rwxr-xr-x.	 1 root root	 54552 Feb 16 10:49 timeout
-rwxr-xr-x.	 1 root root	 15728 Feb 16 11:47 tload
-rwxr-xr-x.	 1 root root	 31856 May 12 07:32 tmon
-rwxr-xr-x.	 1 root root	 15784 Jun 10  2014 toe
-rwxr-xr-x.	 1 root root	106840 Feb 16 11:47 top
-rwxr-xr-x.	 1 root root	 62432 Feb 16 10:49 touch
-rwxr-xr-x.	 1 root root	 15776 Jun 10  2014 tput
-rwxr-xr-x.	 1 root root	 45640 Feb 16 10:49 tr
-rwxr-xr-x.	 1 root root	 15432 Nov 20  2015 tracepath
-rwxr-xr-x.	 1 root root	 15432 Nov 20  2015 tracepath6
-rwxr-xr-x.	 1 root root	525272 Jun	9  2014 troff
-rwxr-xr-x.	 1 root root	 28896 Feb 16 10:49 true
-rwxr-xr-x.	 1 root root	 53896 Feb 16 10:49 truncate
-rwxr-xr-x.	 1 root root	179096 Mar	5  2015 trust
-rwxr-xr-x.	 1 root root	 20056 Jun 10  2014 tset
-rwxr-xr-x.	 1 root root	 37312 Feb 16 10:49 tsort
-rwxr-xr-x.	 1 root root	 28936 Feb 16 10:49 tty
-rwxr-xr-x.	 1 root root	 60984 May 12 07:32 turbostat
-rwxr-xr-x.	 1 root root	  7339 May 12 08:46 tzselect
-rwxr-xr-x.	 1 root root	373664 May 12 10:29 udevadm
-rwxr-xr-x.	 1 root root	 19920 Mar 31 13:37 ul
-rwxr-xr-x.	 1 root root		29 Nov 20  2015 umask
-rwsr-xr-x.	 1 root root	 31960 Mar 31 13:37 umount
-rwxr-xr-x.	 1 root root		31 Nov 20  2015 unalias
-rwxr-xr-x.	 1 root root	 33048 Feb 16 10:49 uname
-rwxr-xr-x.	 1 root root	 33200 Feb 16 10:49 unexpand
-rwxr-xr-x.	 1 root root	  2555 Mar	5  2015 unicode_start
-rwxr-xr-x.	 1 root root	   363 Mar	5  2015 unicode_stop
-rwxr-xr-x.	 1 root root	 45752 Feb 16 10:49 uniq
-rwxr-xr-x.	 1 root root	 28952 Feb 16 10:49 unlink
-rwxr-xr-x.	 1 root root	 15808 Mar 31 13:37 unshare
lrwxrwxrwx.	 1 root root		 2 Feb 22 12:09 unxz -> xz
-rwxr-xr-x.	 1 root root	  1014 Feb 16 11:08 update-ca-trust
-rwxr-xr-x.	 1 root root	 49768 Nov 20  2015 update-mime-database
-rwxr-xr-x.	 1 root root	 11464 Feb 16 11:47 uptime
-rwxr-xr-x.	 1 root root	 12465 Nov 19  2015 urlgrabber
-rwxr-xr-x.	 1 root root	 33144 Feb 16 10:49 users
-rwxr-xr-x.	 1 root root	 11200 Mar 31 13:39 usleep
-rwxr-xr-x.	 1 root root	 15800 Mar 31 13:37 utmpdump
-rwxr-xr-x.	 1 root root	 11464 Mar 31 13:37 uuidgen
-rwxr-xr-x.	 1 root root	117616 Feb 16 10:49 vdir
-rwxr-xr-x.	 1 root root	  9855 Nov 20  2015 verifytree
-rwxr-xr-x.	 1 root root	910040 Jun 10  2014 vi
lrwxrwxrwx.	 1 root root		 2 Feb 22 12:09 view -> vi
-rwxr-xr-x.	 1 root root	 16088 Mar	5  2015 vlock
-rwxr-xr-x.	 1 root root	 32208 Feb 16 11:47 vmstat
-rwxr-xr-x.	 1 root root	 19888 Feb 16 11:47 w
-rwxr-xr-x.	 1 root root		28 Nov 20  2015 wait
-r-xr-sr-x.	 1 root tty		 15344 Jun	9  2014 wall
-rwxr-xr-x.	 1 root root	 24704 Feb 16 11:47 watch
-rwxr-xr-x.	 1 root root	 15648 Jun	9  2014 watchgnupg
-rwxr-xr-x.	 1 root root	 41616 Feb 16 10:49 wc
-rwxr-xr-x.	 1 root root	 37312 Mar 31 13:37 wdctl
-rwxr-xr-x.	 1 root root	418640 Oct 30  2014 wget
-rwxr-xr-x.	 1 root root	 46456 Jun	9  2014 whatis
-rwxr-xr-x.	 1 root root	   207 Jun 17 16:07 wheel
-rwxr-xr-x.	 1 root root	 20656 Mar 31 13:37 whereis
-rwxr-xr-x.	 1 root root	 24336 Jun	9  2014 which
-rwxr-xr-x.	 1 root root	 28504 Jun 10  2014 whiptail
-rwxr-xr-x.	 1 root root	 49832 Feb 16 10:49 who
-rwxr-xr-x.	 1 root root	 28952 Feb 16 10:49 whoami
-rwxr-sr-x.	 1 root tty		 19536 Mar 31 13:37 write
lrwxrwxrwx.	 1 root root		 7 Jun 17 13:38 x86_64 -> setarch
-rwxr-xr-x.	 1 root root	 10480 May 12 07:32 x86_energy_perf_policy
-rwxr-xr-x.	 1 root root	 62288 Nov 20  2015 xargs
-rwxr-xr-x.	 1 root root	233688 Jun 10  2014 xgettext
-rwxr-xr-x.	 1 root root	 19752 Dec	7  2015 xmlcatalog
-rwxr-xr-x.	 1 root root	 63408 Dec	7  2015 xmllint
-rwxr-xr-x.	 1 root root	 24560 Jun	9  2014 xmlwf
-rwxr-xr-x.	 1 root root	 71080 Aug 12  2015 xz
lrwxrwxrwx.	 1 root root		 2 Feb 22 12:09 xzcat -> xz
lrwxrwxrwx.	 1 root root		 6 Feb 22 12:09 xzcmp -> xzdiff
-rwxr-xr-x.	 1 root root	 11448 Aug 12  2015 xzdec
-rwxr-xr-x.	 1 root root	  5516 Aug 12  2015 xzdiff
lrwxrwxrwx.	 1 root root		 6 Feb 22 12:09 xzegrep -> xzgrep
lrwxrwxrwx.	 1 root root		 6 Feb 22 12:09 xzfgrep -> xzgrep
-rwxr-xr-x.	 1 root root	  5607 Aug 12  2015 xzgrep
-rwxr-xr-x.	 1 root root	  1807 Aug 12  2015 xzless
-rwxr-xr-x.	 1 root root	  2166 Aug 12  2015 xzmore
-rwxr-xr-x.	 1 root root	 28944 Feb 16 10:49 yes
lrwxrwxrwx.	 1 root root		 8 Feb 22 12:09 ypdomainname -> hostname
-rwxr-xr-x.	 1 root root	   801 Dec	3  2015 yum
-rwxr-xr-x.	 1 root root	  9429 Nov 20  2015 yum-builddep
-rwxr-xr-x.	 1 root root	  8544 Nov 20  2015 yum-config-manager
-rwxr-xr-x.	 1 root root	  7609 Nov 20  2015 yum-debug-dump
-rwxr-xr-x.	 1 root root	  7903 Nov 20  2015 yum-debug-restore
-rwxr-xr-x.	 1 root root	 10999 Nov 20  2015 yumdownloader
-rwxr-xr-x.	 1 root root	 11031 Nov 20  2015 yum-groups-manager
-rwxr-xr-x.	 1 root root	  1941 Jul 27  2015 zcat
-rwxr-xr-x.	 1 root root	  1760 Jul 27  2015 zcmp
-rwxr-xr-x.	 1 root root	  5768 Jul 27  2015 zdiff
-rwxr-xr-x.	 1 root root	   123 Jul 27  2015 zegrep
-rwxr-xr-x.	 1 root root	   123 Jul 27  2015 zfgrep
-rwxr-xr-x.	 1 root root	  2140 Jul 27  2015 zforce
-rwxr-xr-x.	 1 root root	  5916 Jul 27  2015 zgrep
-rwxr-xr-x.	 1 root root	  2041 Jul 27  2015 zless
-rwxr-xr-x.	 1 root root	  2859 Jul 27  2015 zmore
-rwxr-xr-x.	 1 root root	  5343 Jul 27  2015 znew
lrwxrwxrwx.	 1 root root		 6 Feb 22 12:09 zsoelim -> soelim
midpoint#>

midpoint#>ls -la /usr/sbin

total 35892
dr-xr-xr-x.	 2 root root	   12288 Jun 17 13:39 .
drwxr-xr-x. 14 root root		4096 Jun 17 15:20 ..
-rwxr-xr-x.	 1 root root	   11720 Jun  9	 2014 accessdb
-rwxr-xr-x.	 1 root root		3126 Oct  4	 2013 addgnupghome
-rwxr-xr-x.	 1 root root	   15856 Mar 31 13:37 addpart
lrwxrwxrwx.	 1 root root		   7 Feb 22 12:11 adduser -> useradd
-rwxr-xr-x.	 1 root root	   36840 Mar 31 13:37 agetty
-rwxr-xr-x.	 1 root root	   24120 May 12 07:24 alternatives
-rwxr-xr-x.	 1 root root	   36352 Mar 31 11:09 anacron
-rwxr-xr-x.	 1 root root		2264 Oct  4	 2013 applygnupgdefaults
-rwxr-xr-x.	 1 root root	   65472 Jun 10	 2014 arp
-rwxr-xr-x.	 1 root root	   45632 Nov 20	 2015 arpd
-rwxr-xr-x.	 1 root root	   23760 Nov 20	 2015 arping
-rwxr-x---.	 1 root root	   49096 Mar  5	 2015 audispd
-rwxr-x---.	 1 root root	   40392 Mar  5	 2015 auditctl
-rwxr-x---.	 1 root root	  141592 Mar  5	 2015 auditd
-rwxr-x---.	 1 root root		3566 Mar  5	 2015 augenrules
-rwxr-xr-x.	 1 root root	   99392 Mar  5	 2015 aureport
-rwxr-xr-x.	 1 root root	   95424 Mar  5	 2015 ausearch
lrwxrwxrwx.	 1 root root		  35 Feb 22 12:13 authconfig -> /usr/share/authconfig/authconfig.py
lrwxrwxrwx.	 1 root root		  39 Feb 22 12:13 authconfig-tui -> /usr/share/authconfig/authconfig-tui.py
-rwxr-x---.	 1 root root	   15760 Mar  5	 2015 autrace
-rwxr-xr-x.	 1 root root	   11512 Jun  9	 2014 avcstat
-rwxr-xr-x.	 1 root root	   28344 Mar  5	 2015 badblocks
-rwxr-xr-x.	 1 root root	   16440 Nov 20	 2015 biosdecode
-r-xr-xr-x.	 1 root root	   11794 May 12 08:56 blkdeactivate
-rwxr-xr-x.	 1 root root	   20072 Mar 31 13:37 blkdiscard
-rwxr-xr-x.	 1 root root	   75464 Mar 31 13:37 blkid
-rwxr-xr-x.	 1 root root	   27944 Feb 16 11:29 blkmapd
-rwxr-xr-x.	 1 root root	   32896 Mar 31 13:37 blockdev
-rwxr-xr-x.	 1 root root	   58184 Nov 20	 2015 bridge
-rwxr-xr-x.	 1 root root	  565776 Nov 20	 2015 btrfs
lrwxrwxrwx.	 1 root root		   5 Feb 22 12:14 btrfsck -> btrfs
-rwxr-xr-x.	 1 root root	  299864 Nov 20	 2015 btrfs-convert
-rwxr-xr-x.	 1 root root	  270784 Nov 20	 2015 btrfs-debug-tree
-rwxr-xr-x.	 1 root root	  266664 Nov 20	 2015 btrfs-find-root
-rwxr-xr-x.	 1 root root	  295776 Nov 20	 2015 btrfs-image
-rwxr-xr-x.	 1 root root	  266712 Nov 20	 2015 btrfs-map-logical
-rwxr-xr-x.	 1 root root	  266688 Nov 20	 2015 btrfs-select-super
-rwxr-xr-x.	 1 root root	  270952 Nov 20	 2015 btrfs-show-super
-rwxr-xr-x.	 1 root root	  266688 Nov 20	 2015 btrfstune
-rwxr-xr-x.	 1 root root	  266664 Nov 20	 2015 btrfs-zero-log
-rwx------.	 1 root root	  840192 May 12 09:24 build-locale-archive
-rwxr-xr-x.	 1 root root		 644 Nov 20	 2015 cacertdir_rehash
-rwxr-xr-x.	 1 root root	   19872 Jun  9	 2014 capsh
-rwxr-xr-x.	 1 root root	   33559 Nov 20	 2015 cbq
-rwxr-xr-x.	 1 root root	   68768 Mar 31 13:37 cfdisk
-rwxr-xr-x.	 1 root root	   27944 Jun 10	 2014 chat
-rwxr-xr-x.	 1 root root	   24240 Mar 31 13:37 chcpu
-rwxr-xr-x.	 1 root root	   41136 May 12 07:24 chkconfig
-rwxr-xr-x.	 1 root root	   52784 Mar  6	 2015 chpasswd
-rwxr-xr-x.	 1 root root	  214568 Nov 23	 2015 chronyd
-rwxr-xr-x.	 1 root root	   33208 Feb 16 10:49 chroot
lrwxrwxrwx.	 1 root root		   7 Jun 17 13:38 clock -> hwclock
-rwxr-xr-x.	 1 root root	   19704 Nov 20	 2015 clockdiff
-rwxr-xr-x.	 1 root root		7096 Mar 31 13:39 consoletype
-rwxr-xr-x.	 1 root root	   72608 Mar 31 13:12 convertquota
-rwxr-xr-x.	 1 root root		7208 Jun 10	 2014 cracklib-check
-rwxr-xr-x.	 1 root root		 246 Jun 10	 2014 cracklib-format
-rwxr-xr-x.	 1 root root	   11328 Jun 10	 2014 cracklib-packer
-rwxr-xr-x.	 1 root root		7184 Jun 10	 2014 cracklib-unpacker
-rwxr-xr-x.	 1 root root		 990 Jun 10	 2014 create-cracklib-dict
-rwxr-xr-x.	 1 root root	   70096 Mar 31 11:09 crond
-rwxr-xr-x.	 1 root root	   11456 Mar 31 13:37 ctrlaltdel
lrwxrwxrwx.	 1 root root		   6 Feb 22 12:11 ctstat -> lnstat
-rwxr-xr-x.	 1 root root	  123504 Mar  5	 2015 debugfs
-rwxr-xr-x.	 1 root root	   15864 Mar 31 13:37 delpart
lrwxrwxrwx.	 1 root root		  11 Feb 22 12:11 depmod -> ../bin/kmod
-rwxr-xr-x.	 1 root root	  424272 Nov 19	 2015 dhclient
-rwxr-xr-x.	 1 root root	   27915 Nov 19	 2015 dhclient-script
-rwxr-xr-x.	 1 root root	   86064 Nov 20	 2015 dmidecode
-r-xr-xr-x.	 1 root root	  147904 May 12 08:56 dmsetup
lrwxrwxrwx.	 1 root root		   7 Jun 17 13:38 dmstats -> dmsetup
-rwxr-xr-x.	 1 root root	  294008 Aug  5	 2015 dnsmasq
lrwxrwxrwx.	 1 root root		  13 Feb 22 12:11 dracut -> ../bin/dracut
-rwxr-xr-x.	 1 root root	   24168 Mar  5	 2015 dumpe2fs
-rwxr-xr-x.	 1 root root	   11408 Mar  5	 2015 e2freefrag
-rwxr-xr-x.	 4 root root	  256312 Mar  5	 2015 e2fsck
-rwxr-xr-x.	 1 root root	   32592 Mar  5	 2015 e2image
-rwxr-xr-x.	 2 root root	   71032 Mar  5	 2015 e2label
-rwxr-xr-x.	 1 root root	   11576 Mar  5	 2015 e2undo
-rwxr-xr-x.	 1 root root	   28200 Mar  5	 2015 e4defrag
-rwxr-xr-x.	 1 root root	 1351592 Jun 15	 2015 eapol_test
-rwxr-xr-x.	 1 root root	   81016 Mar 31 13:12 edquota
-rwxr-xr-x.	 1 root root	   74984 Jun 10	 2014 ether-wake
-rwxr-xr-x.	 1 root root	  263680 Mar  5	 2015 ethtool
-rwxr-xr-x.	 1 root root	   66216 Feb 16 11:29 exportfs
-rwxr-xr-x.	 1 root root	   15352 Aug 18	 2015 faillock
-rwxr-xr-x.	 1 root root	   11520 Mar 31 13:37 fdformat
-rwxr-xr-x.	 1 root root	  182464 Mar 31 13:37 fdisk
-rwxr-xr-x.	 1 root root	   15592 Mar  5	 2015 filefrag
-rwxr-xr-x.	 1 root root	   11456 Mar 31 13:37 findfs
-rwxr-xr-x.	 1 root root	   11036 Nov 20	 2015 fixfiles
-rwxr-xr-x.	 1 root root	   32864 Mar 31 13:37 fsck
-rwxr-xr-x.	 1 root root		1196 Nov 20	 2015 fsck.btrfs
-rwxr-xr-x.	 1 root root	   20024 Mar 31 13:37 fsck.cramfs
-rwxr-xr-x.	 4 root root	  256312 Mar  5	 2015 fsck.ext2
-rwxr-xr-x.	 4 root root	  256312 Mar  5	 2015 fsck.ext3
-rwxr-xr-x.	 4 root root	  256312 Mar  5	 2015 fsck.ext4
-rwxr-xr-x.	 1 root root	   75024 Mar 31 13:37 fsck.minix
-rwxr-xr-x.	 1 root root		 433 Nov 20	 2015 fsck.xfs
-rwxr-xr-x.	 1 root root	   11488 Mar 31 13:37 fsfreeze
-rwxr-xr-x.	 1 root root	   37224 Mar 31 13:37 fstrim
lrwxrwxrwx.	 1 root root		   8 Feb 22 12:11 genhomedircon -> semodule
-rwxr-xr-x.	 1 root root		7096 Mar 31 13:39 genhostid
-rwxr-xr-x.	 1 root root	   45504 Nov 20	 2015 genl
-rwxr-xr-x.	 1 root root	   11528 Nov 20	 2015 genl-ctrl-list
-rwxr-xr-x.	 1 root root	   11392 Jun  9	 2014 getcap
-rwxr-xr-x.	 1 root root		7168 Jun  9	 2014 getenforce
-rwxr-xr-x.	 1 root root	   11328 Jun  9	 2014 getpcaps
-rwxr-xr-x.	 1 root root	   11392 Jun  9	 2014 getsebool
-rwx------.	 1 root root	  778464 May 12 09:24 glibc_post_upgrade.x86_64
-rwxr-x---.	 1 root root	   61336 Mar  6	 2015 groupadd
-rwxr-x---.	 1 root root	   56992 Mar  6	 2015 groupdel
-rwxr-x---.	 1 root root	   57024 Mar  6	 2015 groupmems
-rwxr-x---.	 1 root root	   76400 Mar  6	 2015 groupmod
-rwxr-xr-x.	 1 root root	   56984 Mar  6	 2015 grpck
-rwxr-xr-x.	 1 root root	   52688 Mar  6	 2015 grpconv
-rwxr-xr-x.	 1 root root	   52688 Mar  6	 2015 grpunconv
-rwxr-xr-x.	 1 root root	 1070144 Jan  5 12:52 grub2-bios-setup
-rwxr-xr-x.	 1 root root	 1330176 Jan  5 12:52 grub2-install
-rwxr-xr-x.	 1 root root	 1049080 Jan  5 12:52 grub2-macbless
-rwxr-xr-x.	 1 root root		7989 Jan  5 12:51 grub2-mkconfig
-rwxr-xr-x.	 1 root root	  226688 Jan  5 12:52 grub2-ofpathname
-rwxr-xr-x.	 1 root root	 1066032 Jan  5 12:52 grub2-probe
-rwxr-xr-x.	 1 root root		4091 Jan  5 12:51 grub2-reboot
-rwxr-xr-x.	 1 root root	  264592 Jan  5 12:52 grub2-rpm-sort
-rwxr-xr-x.	 1 root root		3541 Jan  5 12:51 grub2-set-default
-rwxr-xr-x.	 1 root root		2729 Jan  5 12:51 grub2-setpassword
-rwxr-xr-x.	 1 root root	 1070280 Jan  5 12:52 grub2-sparc64-setup
-rwxr-xr-x.	 1 root root	   68848 Nov 20	 2015 grubby
-rwxr-xr-x.	 1 root root	   87912 Nov 20	 2015 gssproxy
lrwxrwxrwx.	 1 root root		  16 Jun 17 13:38 halt -> ../bin/systemctl
-rwxr-xr-x.	 1 root root	   15656 Jun 10	 2014 hardlink
-rwxr-xr-x.	 1 root root	   45304 Mar 31 13:37 hwclock
-rwxr-xr-x.	 2 root root	   23112 May 12 09:24 iconvconfig
-rwxr-xr-x.	 2 root root	   23112 May 12 09:24 iconvconfig.x86_64
-rwxr-xr-x.	 1 root root		3056 Nov 20	 2015 ifcfg
-rwxr-xr-x.	 1 root root	   81976 Jun 10	 2014 ifconfig
-rwxr-xr-x.	 1 root root		1616 Sep 16	 2015 ifdown
-rwxr-xr-x.	 1 root root	   20208 Nov 20	 2015 ifenslave
-rwxr-xr-x.	 1 root root	   32792 Nov 20	 2015 ifstat
-rwxr-xr-x.	 1 root root		4568 Sep 16	 2015 ifup
lrwxrwxrwx.	 1 root root		  22 Jun 17 13:38 init -> ../lib/systemd/systemd
lrwxrwxrwx.	 1 root root		  11 Feb 22 12:11 insmod -> ../bin/kmod
-rwxr-xr-x.	 1 root root	  113024 Jun 10	 2014 install-info
-rwxr-xr-x.	 1 root root		2754 Nov 20	 2015 installkernel
-rwxr-xr-x.	 1 root root	   11344 Nov 20	 2015 intel-microcode2ucode
-rwxr-xr-x.	 1 root root	  326480 Nov 20	 2015 ip
lrwxrwxrwx.	 1 root root		  13 Feb 22 12:11 ip6tables -> xtables-multi
lrwxrwxrwx.	 1 root root		  13 Feb 22 12:11 ip6tables-restore -> xtables-multi
lrwxrwxrwx.	 1 root root		  13 Feb 22 12:11 ip6tables-save -> xtables-multi
-rwxr-xr-x.	 1 root root	   19768 Jun 10	 2014 ipmaddr
lrwxrwxrwx.	 1 root root		  13 Feb 22 12:11 iptables -> xtables-multi
lrwxrwxrwx.	 1 root root		  13 Feb 22 12:11 iptables-restore -> xtables-multi
lrwxrwxrwx.	 1 root root		  13 Feb 22 12:11 iptables-save -> xtables-multi
-rwxr-xr-x.	 1 root root	   23864 Jun 10	 2014 iptunnel
-rwxr-xr-x.	 1 root root	   49624 Nov 20	 2015 irqbalance
-rwxr-xr-x.	 1 root root	   11424 Feb 16 11:54 kdump
-rwxr-xr-x.	 1 root root	  169824 Feb 16 11:54 kexec
-rwxr-xr-x.	 1 root root	   19920 Jun  9	 2014 key.dns_resolver
-rwxr-xr-x.	 1 root root	   23728 Jun  9	 2014 killall5
-rwxr-xr-x.	 1 root root	   36896 May 12 07:39 kpartx
-rwxr-xr-x.	 1 root root	   15696 Jul 24	 2015 lchage
-rwxr-xr-x.	 1 root root	   24272 Mar 31 13:37 ldattach
-rwxr-xr-x.	 1 root root	  958984 May 12 09:24 ldconfig
-rwxr-xr-x.	 1 root root	   11464 Jul 24	 2015 lgroupadd
-rwxr-xr-x.	 1 root root	   11448 Jul 24	 2015 lgroupdel
-rwxr-xr-x.	 1 root root	   15712 Jul 24	 2015 lgroupmod
-rwxr-xr-x.	 1 root root	   15688 Jul 24	 2015 lid
-rwxr-xr-x.	 1 root root	   15744 Jul 24	 2015 lnewusers
-rwxr-xr-x.	 1 root root	   16080 Nov 20	 2015 lnstat
-rwxr-xr-x.	 1 root root	   11216 Nov 20	 2015 load_policy
-rwxr-xr-x.	 1 root root	   66056 Dec  9	 2015 logrotate
-rwxr-xr-x.	 1 root root	   11528 Mar  5	 2015 logsave
-rwxr-xr-x.	 1 root root	   75944 Mar 31 13:37 losetup
-rwxr-xr-x.	 1 root root	   15776 Jul 24	 2015 lpasswd
lrwxrwxrwx.	 1 root root		  11 Feb 22 12:11 lsmod -> ../bin/kmod
-rwxr-xr-x.	 1 root root	   15672 Jul 24	 2015 luseradd
-rwxr-xr-x.	 1 root root	   11504 Jul 24	 2015 luserdel
-rwxr-xr-x.	 1 root root	   19800 Jul 24	 2015 lusermod
-rwxr-xr-x.	 1 root root	  326928 Feb 16 11:54 makedumpfile
-rwxr-xr-x.	 1 root root	   11440 Jun  9	 2014 matchpathcon
-rwxr-xr-x.	 1 root root	   20536 Jun 10	 2014 mii-diag
-rwxr-xr-x.	 1 root root	   19960 Jun 10	 2014 mii-tool
lrwxrwxrwx.	 1 root root		  15 Feb 22 12:10 mkdict -> cracklib-format
-rwxr-xr-x.	 1 root root	   16890 Feb 16 11:54 mkdumprd
-rwxr-xr-x.	 4 root root	   96240 Mar  5	 2015 mke2fs
-rwxr-xr-x.	 1 root root	   11504 Mar 31 13:37 mkfs
-rwxr-xr-x.	 1 root root	  287400 Nov 20	 2015 mkfs.btrfs
-rwxr-xr-x.	 1 root root	   32768 Mar 31 13:37 mkfs.cramfs
-rwxr-xr-x.	 4 root root	   96240 Mar  5	 2015 mkfs.ext2
-rwxr-xr-x.	 4 root root	   96240 Mar  5	 2015 mkfs.ext3
-rwxr-xr-x.	 4 root root	   96240 Mar  5	 2015 mkfs.ext4
-rwxr-xr-x.	 1 root root	   32856 Mar 31 13:37 mkfs.minix
-rwxr-xr-x.	 1 root root	  351440 Nov 20	 2015 mkfs.xfs
-rwxr-xr-x.	 1 root root	   19488 Aug 18	 2015 mkhomedir_helper
-rwxr-xr-x.	 1 root root	   11360 Mar  5	 2015 mklost+found
-rwxr-xr-x.	 1 root root	   66984 Mar 31 13:37 mkswap
lrwxrwxrwx.	 1 root root		  11 Feb 22 12:11 modinfo -> ../bin/kmod
lrwxrwxrwx.	 1 root root		  11 Feb 22 12:11 modprobe -> ../bin/kmod
-rwsr-xr-x.	 1 root root	  113400 Feb 16 11:29 mount.nfs
lrwxrwxrwx.	 1 root root		   9 Feb 22 12:12 mount.nfs4 -> mount.nfs
-rwxr-xr-x.	 1 root root	   35606 Feb 16 11:29 mountstats
-rwxr-xr-x.	 1 root root	   15680 Jun 10	 2014 nameif
-rwxr-sr-x.	 1 root root	   11208 Mar 31 13:39 netreport
-rwxr-xr-x.	 1 root root	   25485 Nov 20	 2015 new-kernel-pkg
-rwxr-xr-x.	 1 root root	   72072 Mar  6	 2015 newusers
-rwxr-xr-x.	 1 root root	   28528 Feb 16 11:29 nfsdcltrack
-rwxr-xr-x.	 1 root root	   19728 Feb 16 11:29 nfsidmap
-rwxr-xr-x.	 1 root root	   24143 Feb 16 11:29 nfsiostat
-rwxr-xr-x.	 1 root root	   30544 Feb 16 11:29 nfsstat
-rwxr-xr-x.	 1 root root	   11960 Nov 20	 2015 nl-class-add
-rwxr-xr-x.	 1 root root	   11816 Nov 20	 2015 nl-class-delete
-rwxr-xr-x.	 1 root root	   11552 Nov 20	 2015 nl-classid-lookup
-rwxr-xr-x.	 1 root root	   11744 Nov 20	 2015 nl-class-list
-rwxr-xr-x.	 1 root root	   12032 Nov 20	 2015 nl-cls-add
-rwxr-xr-x.	 1 root root	   11952 Nov 20	 2015 nl-cls-delete
-rwxr-xr-x.	 1 root root	   11848 Nov 20	 2015 nl-cls-list
-rwxr-xr-x.	 1 root root	   11784 Nov 20	 2015 nl-link-list
-rwxr-xr-x.	 1 root root	   11616 Nov 20	 2015 nl-pktloc-lookup
-rwxr-xr-x.	 1 root root	   11872 Nov 20	 2015 nl-qdisc-add
-rwxr-xr-x.	 1 root root	   11808 Nov 20	 2015 nl-qdisc-delete
-rwxr-xr-x.	 1 root root	   11888 Nov 20	 2015 nl-qdisc-list
-rwxr-xr-x.	 1 root root		7168 Mar 31 13:37 nologin
-rwxr-xr-x.	 1 root root	   20008 Nov 20	 2015 nstat
-rwxr-xr-x.	 1 root root		2613 Feb 16 11:29 osd_login
-rwxr-xr-x.	 1 root root	   11488 Nov 20	 2015 ownership
lrwxrwxrwx.	 1 root root		  15 Feb 22 12:10 packer -> cracklib-packer
-rwxr-xr-x.	 1 root root	   40624 Aug 18	 2015 pam_console_apply
-rwxr-xr-x.	 1 root root	   15392 Aug 18	 2015 pam_tally2
-rwsr-xr-x.	 1 root root	   11208 Aug 18	 2015 pam_timestamp_check
-rwxr-xr-x.	 1 root root	   74920 Nov 20	 2015 parted
-rwxr-xr-x.	 1 root root	   11456 Nov 20	 2015 partprobe
-rwxr-xr-x.	 1 root root	   84224 Mar 31 13:37 partx
lrwxrwxrwx.	 1 root root		  18 Feb 22 12:11 pidof -> /usr/sbin/killall5
lrwxrwxrwx.	 1 root root		  12 Feb 22 12:11 ping6 -> ../bin/ping6
-rwxr-xr-x.	 1 root root	   11440 Mar 31 13:37 pivot_root
-rwxr-xr-x.	 1 root root	   11304 Jun 10	 2014 plipconfig
-rwxr-xr-x.	 1 root root	  259880 Jun  9	 2014 postalias
-rwxr-xr-x.	 1 root root	  139280 Jun  9	 2014 postcat
-rwxr-xr-x.	 1 root root	  371896 Jun  9	 2014 postconf
-rwxr-sr-x.	 1 root postdrop  218552 Jun  9	 2014 postdrop
-rwxr-xr-x.	 1 root root	  121992 Jun  9	 2014 postfix
-rwxr-xr-x.	 1 root root	  134560 Jun  9	 2014 postkick
-rwxr-xr-x.	 1 root root	  130392 Jun  9	 2014 postlock
-rwxr-xr-x.	 1 root root	  122216 Jun  9	 2014 postlog
-rwxr-xr-x.	 1 root root	  259696 Jun  9	 2014 postmap
-rwxr-xr-x.	 1 root root	  139136 Jun  9	 2014 postmulti
-rwxr-sr-x.	 1 root postdrop  259992 Jun  9	 2014 postqueue
-rwxr-xr-x.	 1 root root	  143264 Jun  9	 2014 postsuper
lrwxrwxrwx.	 1 root root		  16 Jun 17 13:38 poweroff -> ../bin/systemctl
-r-xr-xr-x.	 1 root root	  381928 Jun 10	 2014 pppd
-rwxr-xr-x.	 1 root root	   54024 Jun 10	 2014 pppdump
-r-xr-xr-x.	 1 root root	   18472 Jun 10	 2014 pppoe-discovery
-rwxr-xr-x.	 1 root root	   15336 Jun 10	 2014 pppstats
-rwxr-xr-x.	 1 root root	   23744 Mar 31 13:39 ppp-watch
-rwxr-xr-x.	 1 root root	   52712 Mar  6	 2015 pwck
-rwxr-xr-x.	 1 root root	   48480 Mar  6	 2015 pwconv
-rwxr-xr-x.	 1 root root	   15792 Aug 18	 2015 pwhistory_helper
-rwxr-xr-x.	 1 root root	   39064 Mar  6	 2015 pwunconv
-rwxr-xr-x.	 1 root root	   72376 Mar 31 13:12 quot
-rwxr-xr-x.	 1 root root	  105792 Mar 31 13:12 quotacheck
lrwxrwxrwx.	 1 root root		   7 Jun 17 13:39 quotaoff -> quotaon
-rwxr-xr-x.	 1 root root	   76856 Mar 31 13:12 quotaon
-rwxr-xr-x.	 1 root root	   14376 Mar 31 13:12 quotastats
-rwxr-xr-x.	 1 root root	   27856 Nov 20	 2015 rdisc
-rwxr-xr-x.	 1 root root	   15816 Mar 31 13:37 readprofile
lrwxrwxrwx.	 1 root root		  16 Jun 17 13:38 reboot -> ../bin/systemctl
-rwxr-xr-x.	 1 root root	   72888 Mar 31 13:12 repquota
-rwxr-xr-x.	 1 root root	   19872 Jun  9	 2014 request-key
-rwxr-xr-x.	 1 root root	   49552 Mar  5	 2015 resize2fs
-rwxr-xr-x.	 1 root root	   28824 Mar 31 13:37 resizepart
lrwxrwxrwx.	 1 root root		   8 Feb 22 12:11 restorecon -> setfiles
lrwxrwxrwx.	 1 root root		  11 Feb 22 12:11 rmmod -> ../bin/kmod
-rwxr-xr-x.	 1 root root	   68176 Jun 10	 2014 route
-rwxr-xr-x.	 1 root root		 173 Nov 20	 2015 routef
-rwxr-xr-x.	 1 root root		1262 Nov 20	 2015 routel
-rwxr-xr-x.	 1 root root	   57136 Jan  7 13:37 rpcbind
-rwxr-xr-x.	 1 root root	   18480 Feb 16 11:29 rpcdebug
-rwxr-xr-x.	 1 root root	   90664 Feb 16 11:29 rpc.gssd
-rwxr-xr-x.	 1 root root	   36704 Feb 16 11:29 rpc.idmapd
-rwxr-xr-x.	 1 root root	   27936 Jan  7 13:37 rpcinfo
-rwxr-xr-x.	 1 root root	  279136 Feb 16 11:29 rpc.mountd
-rwxr-xr-x.	 1 root root	   24360 Feb 16 11:29 rpc.nfsd
-rwxr-xr-x.	 1 root root	   76768 Mar 31 13:12 rpc.rquotad
-rwxr-xr-x.	 1 root root	   87312 Feb 16 11:29 rpc.statd
-rwxr-xr-x.	 1 root root	   36688 Feb 16 11:29 rpc.svcgssd
-rwxr-xr-x.	 1 root root	  555400 Nov 20	 2015 rsyslogd
-rwxr-xr-x.	 1 root root	   38768 Nov 20	 2015 rtacct
-rwxr-xr-x.	 1 root root	   28424 Mar 31 13:37 rtcwake
-rwxr-xr-x.	 1 root root	   41264 Nov 20	 2015 rtmon
-rwxr-xr-x.	 1 root root		  37 Nov 20	 2015 rtpr
lrwxrwxrwx.	 1 root root		   6 Feb 22 12:11 rtstat -> lnstat
lrwxrwxrwx.	 1 root root		  16 Jun 17 13:38 runlevel -> ../bin/systemctl
-rwxr-xr-x.	 1 root root	   32920 Mar 31 13:37 runuser
-rwxr-xr-x.	 1 root root	   11344 Jun 10	 2014 safe_finger
-rwxr-xr-x.	 1 root root	   19712 Feb 16 11:10 sasldblistusers2
-rwxr-xr-x.	 1 root root	   15432 Feb 16 11:10 saslpasswd2
-rwxr-xr-x.	 1 root root	   15592 Jun  9	 2014 sefcontext_compile
-rwxr-xr-x.	 1 root root	   11360 Jun  9	 2014 selinuxconlist
-rwxr-xr-x.	 1 root root	   11376 Jun  9	 2014 selinuxdefcon
-rwxr-xr-x.	 1 root root		7144 Jun  9	 2014 selinuxenabled
-rwxr-xr-x.	 1 root root		7232 Jun  9	 2014 selinuxexeccon
-rwxr-xr-x.	 1 root root	   36271 Nov 20	 2015 semanage
-rwxr-xr-x.	 1 root root	   20032 Nov 20	 2015 semodule
lrwxrwxrwx.	 1 root root		  21 Feb 22 12:13 sendmail -> /etc/alternatives/mta
-rwxr-xr-x.	 1 root root	  247848 Jun  9	 2014 sendmail.postfix
-rwxr-xr-x.	 1 root root		3167 Mar 31 13:39 service
-rwxr-xr-x.	 1 root root	   15360 Nov 20	 2015 sestatus
-rwxr-xr-x.	 1 root root	   11392 Jun  9	 2014 setcap
-rwxr-xr-x.	 1 root root		7208 Jun  9	 2014 setenforce
-rwxr-xr-x.	 1 root root	   27800 Nov 20	 2015 setfiles
-rwxr-xr-x.	 1 root root	   85176 Mar 31 13:12 setquota
-rwxr-xr-x.	 1 root root	   15336 Nov 20	 2015 setsebool
-rwxr-xr-x.	 1 root root	   68088 Mar 31 13:37 sfdisk
-rwxr-xr-x.	 1 root root	   20024 Feb 16 11:29 showmount
lrwxrwxrwx.	 1 root root		  16 Jun 17 13:38 shutdown -> ../bin/systemctl
-rwxr-xr-x.	 1 root root	   43400 Jun 10	 2014 slattach
-rwxr-xr-x.	 1 root root	  749736 May 12 09:24 sln
-rwxr-xr-x.	 1 root root	   57512 Feb 16 11:29 sm-notify
-rwxr-xr-x.	 1 root root	   93064 Jun  9	 2014 smtp-sink
-rwxr-xr-x.	 1 root root	   79624 Jun  9	 2014 smtp-source
-rwxr-xr-x.	 1 root root	  110432 Nov 20	 2015 ss
-rwxr-xr-x.	 1 root root	  819520 Mar 21 18:18 sshd
-rwxr-xr-x.	 1 root root		3613 Mar 21 18:18 sshd-keygen
-rwxr-xr-x.	 1 root root		 508 Feb 16 11:29 start-statd
-rwxr-xr-x.	 1 root root	   41432 Mar 31 13:37 sulogin
-rwxr-xr-x.	 1 root root		  67 Mar 31 13:39 sushell
-rwxr-xr-x.	 1 root root	   15672 Mar 31 13:37 swaplabel
-rwxr-xr-x.	 1 root root	   15848 Mar 31 13:37 swapoff
-rwxr-xr-x.	 1 root root	   50184 Mar 31 13:37 swapon
-rwxr-xr-x.	 1 root root	   15712 Mar 31 13:37 switch_root
-rwxr-xr-x.	 1 root root	   24120 Feb 16 11:47 sysctl
-rwxr-xr-x.	 1 root root		 184 Mar 31 13:39 sys-unconfig
-rwxr-xr-x.	 1 root root	  297480 Nov 20	 2015 tc
-rwxr-xr-x.	 1 root root	   37496 Jun 10	 2014 tcpd
-rwxr-xr-x.	 1 root root	   41808 Jun 10	 2014 tcpdmatch
-rwxr-xr-x.	 1 root root	  307432 Nov 20	 2015 tcsd
lrwxrwxrwx.	 1 root root		  16 Jun 17 13:38 telinit -> ../bin/systemctl
lrwxrwxrwx.	 1 root root		  16 Feb 22 12:11 tracepath -> ../bin/tracepath
lrwxrwxrwx.	 1 root root		  17 Feb 22 12:11 tracepath6 -> ../bin/tracepath6
-rwxr-xr-x.	 1 root root	   24032 Jun 10	 2014 try-from
-rwxr-xr-x.	 2 root root	   71032 Mar  5	 2015 tune2fs
-rwxr-xr-x.	 1 root root		2926 Jul  9	 2015 tuned
-rwxr-xr-x.	 1 root root		3063 Jul  2	 2015 tuned-adm
lrwxrwxrwx.	 1 root root		  14 Jun 17 13:38 udevadm -> ../bin/udevadm
lrwxrwxrwx.	 1 root root		   9 Feb 22 12:12 umount.nfs -> mount.nfs
lrwxrwxrwx.	 1 root root		   9 Feb 22 12:12 umount.nfs4 -> mount.nfs
-rwsr-xr-x.	 1 root root	   36264 Aug 18	 2015 unix_chkpwd
-rwx------.	 1 root root	   36264 Aug 18	 2015 unix_update
lrwxrwxrwx.	 1 root root		  12 Jun 17 13:38 update-alternatives -> alternatives
-rwxr-x---.	 1 root root	  114056 Mar  6	 2015 useradd
-rwxr-x---.	 1 root root	   80352 Mar  6	 2015 userdel
-rwxr-x---.	 1 root root	  113808 Mar  6	 2015 usermod
-rwsr-xr-x.	 1 root root	   11272 Mar 31 13:39 usernetctl
lrwxrwxrwx.	 1 root root		   4 Feb 22 12:11 vigr -> vipw
-rwxr-xr-x.	 1 root root	   59632 Mar  6	 2015 vipw
-rwxr-xr-x.	 1 root root		8856 Nov 20	 2015 virt-what
-rwxr-xr-x.	 1 root root	  186696 Mar 31 13:09 visudo
-rwxr-xr-x.	 1 root root	   19744 Feb 16 11:54 vmcore-dmesg
-rwxr-xr-x.	 1 root root	   15664 Nov 20	 2015 vpddecode
-rwxr-xr-x.	 1 root root	   17087 Nov 20	 2015 weak-modules
-rwxr-xr-x.	 1 root root	   28544 Mar 31 13:37 wipefs
-rwxr-xr-x.	 1 root root	   92040 Jun 15	 2015 wpa_cli
-rwxr-xr-x.	 1 root root	   45152 Jun 15	 2015 wpa_passphrase
-rwxr-xr-x.	 1 root root	 1451632 Jun 15	 2015 wpa_supplicant
-rwxr-xr-x.	 1 root root		1380 Nov 20	 2015 xfs_admin
-rwxr-xr-x.	 1 root root		 638 Nov 20	 2015 xfs_bmap
-rwxr-xr-x.	 1 root root	  309592 Nov 20	 2015 xfs_copy
-rwxr-xr-x.	 1 root root	  556608 Nov 20	 2015 xfs_db
-rwxr-xr-x.	 1 root root	   11416 Nov 20	 2015 xfs_estimate
-rwxr-xr-x.	 1 root root		 767 Nov 20	 2015 xfs_freeze
-rwxr-xr-x.	 1 root root	   32568 Nov 20	 2015 xfs_fsr
-rwxr-xr-x.	 1 root root	  309776 Nov 20	 2015 xfs_growfs
-rwxr-xr-x.	 1 root root		 472 Nov 20	 2015 xfs_info
-rwxr-xr-x.	 1 root root	  121448 Nov 20	 2015 xfs_io
-rwxr-xr-x.	 1 root root	  339056 Nov 20	 2015 xfs_logprint
-rwxr-xr-x.	 1 root root	  297032 Nov 20	 2015 xfs_mdrestore
-rwxr-xr-x.	 1 root root		 747 Nov 20	 2015 xfs_metadump
-rwxr-xr-x.	 1 root root		1007 Nov 20	 2015 xfs_mkfile
-rwxr-xr-x.	 1 root root		 650 Nov 20	 2015 xfs_ncheck
-rwxr-xr-x.	 1 root root	   82768 Nov 20	 2015 xfs_quota
-rwxr-xr-x.	 1 root root	  555424 Nov 20	 2015 xfs_repair
-rwxr-xr-x.	 1 root root	   15600 Nov 20	 2015 xfs_rtcp
-rwxr-xr-x.	 1 root root	   14368 Mar 31 13:12 xqmstats
-rwxr-xr-x.	 1 root root	   89368 Nov 20	 2015 xtables-multi
-rwxr-xr-x.	 1 root root		9446 Nov 20	 2015 yum-complete-transaction
-rwxr-xr-x.	 1 root root		8880 Nov 20	 2015 yumdb
-rwxr-xr-x.	 1 root root	   14640 May 12 09:24 zdump
-rwxr-xr-x.	 1 root root	   51664 May 12 09:24 zic
midpoint#>
